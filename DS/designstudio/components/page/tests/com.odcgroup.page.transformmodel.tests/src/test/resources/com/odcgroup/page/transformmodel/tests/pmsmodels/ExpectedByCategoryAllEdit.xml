<xsp:page xmlns:bean="http://www.odcgroup.com/uif/bean/0.1" xmlns:i18n="http://apache.org/cocoon/i18n/2.1" xmlns:ic="http://www.odcgroup.com/uif/inputcontrol/0.1" xmlns:nav="http://www.odcgroup.com/uif/nav/0.1" xmlns:pageflow="http://www.odcgroup.com/uif/pageflow-info/0.1" xmlns:scope="http://www.odcgroup.com/uif/scope/0.1" xmlns:udp="http://www.odcgroup.com/uif/udp/0.1" xmlns:xgui="http://www.odcgroup.com/uif/xgui/0.1" xmlns:xsp="http://apache.org/xsp" language="java">
  <!--
		****************************************************************************************
																		DO NOT MODIFY THIS FILE!
			This file has been generated automatically  by Design Studio. 		
			Any change will be lost when regenerated.
		****************************************************************************************
														Design Studio information of page model
			Project name     : pms-models
			Package          : /resource/pms-models/module/Default/module/aaa/ordersession/order/detailedlist/
			Model name       : ByCategoryAllEdit.module
			Last modif. user : ramapriyamn
			Last modif. date : 21/12/2012 08:33:02
			Generation user  : ramapriyamn
			Generation date  : 21/12/2012 08:33:02
			DS version       : 8.0.0.201212219999
			Description      : 
		****************************************************************************************
-->
  <xgui:module class="nodeco" id="ByCategoryAllEdit_gl_K8">
    <bean:define key="DSBean.AAADSOrderSession.OrderSessionDetailedList" name="OrderSessionDetailedList" prefix-keyword="final"/>
    <xsp:logic>boolean conditionVal;</xsp:logic>
    <ic:reporter>
      <ic:add-scope-reporter report-key="DSBean.AAADSOrderSession.OrderSessionDetailedList.reporter"/>
      <ic:msg-rendering form-name="form"/>
    </ic:reporter>
    <xgui:name/>
    <nav:managerequest nav-id="ByCategoryAllEdit_gl_K8">
      <xgui:vbox>
        <ic:reporter>
          <ic:add-scope-reporter report-key="DSBean.AAADSExtOperation.ExtOperationAll.reporter"/>
          <ic:msg-rendering form-name="form"/>
        </ic:reporter>
        <udp:udp model-ref="DSTableModel.AAADSOrderSession.OrderSessionDetailedList" view-ref="DSTableModel.AAADSOrderSession.OrderSessionDetailedList.order_id">
          <udp:build>
            <udp:multi-selection column-name="orderSel">
              <udp:handle>order_id_orderSel</udp:handle>
              <udp:column-id>order_id</udp:column-id>
            </udp:multi-selection>
            <udp:munge-columns>
              <udp:keep as-type="datetime">CREATION_DATE</udp:keep>
              <udp:keep>ORDER_NATURE</udp:keep>
              <udp:keep>PORTFOLIO_NAME</udp:keep>
              <udp:keep>INSTR_NAME</udp:keep>
              <udp:keep as-type="decimal">QUANTITY</udp:keep>
              <udp:keep>PARENT_OPER_NATURE</udp:keep>
              <udp:keep>CATEGORY_LABEL</udp:keep>
              <udp:keep as-type="datetime">VALUE_DATE</udp:keep>
              <udp:keep>ORDER_SUMMARY</udp:keep>
              <udp:keep as-type="datetime" format="date-only">ORDER_DATE</udp:keep>
              <udp:keep as-type="integer">order_id</udp:keep>
              <udp:keep>ORDER_HIER_STR</udp:keep>
              <udp:keep>UPDATE_RIGHT</udp:keep>
              <udp:keep>PARENT_OPER_INDICATOR</udp:keep>
              <udp:add name="_nodeDisplay" type="text" value=""/>
              <udp:add name="_nodeCode" type="text" value=""/>
              <udp:add name="_isNode" type="boolean" value="false"/>
            </udp:munge-columns>
            <udp:list>
              <udp:sort>
                <udp:handle><scope:get-module-rank/>s</udp:handle>
                <udp:sort-column reverse="true">CREATION_DATE</udp:sort-column>
                <udp:sort-column>PORTFOLIO_NAME</udp:sort-column>
                <udp:sort-column>CATEGORY_LABEL</udp:sort-column>
              </udp:sort>
              <udp:apply-hierarchy col-in-detail="ORDER_HIER_STR" col-in-master="ORDER_HIER_STR">
                <udp:map col-in-hierarchy="_IS_NODE" col-in-information="_isNode"/>
                <udp:map col-in-hierarchy="_NODE_DISPLAY" col-in-information="_nodeDisplay"/>
                <udp:map col-in-hierarchy="_NODE_CODE" col-in-information="_nodeCode"/>
              </udp:apply-hierarchy>
              <udp:group-page>
                <udp:size>15</udp:size>
                <udp:handle><scope:get-module-rank/>p</udp:handle>
              </udp:group-page>
            </udp:list>
          </udp:build>
          <udp:render-list>
            <xsp:logic>int groupDepth = 0;</xsp:logic>
            <xsp:logic>if(<udp:grouped-row-count/> == 0) {
<xsp:content>
                <xgui:vbox>
                  <xgui:label>
                    <xgui:text><i18n:text>general.empty_result</i18n:text></xgui:text>
                  </xgui:label>
                </xgui:vbox>
                <xsp:logic>if(<udp:has-dataset-filter delegating-model-ref="DSTableModel.AAADSOrderSession.OrderSessionDetailedList" filter-level="100"/>) {</xsp:logic>
                <xgui:table id="order_id">
                  <xgui:toolbar>
                    <xgui:icon id="order_id.filterIcon" ref="filter">
                      <xgui:onevent type="click">
                        <xgui:submit method="post" target="layer">
                          <xgui:param name="flow-action">openFilter</xgui:param>
                          <xgui:param name="Query.runAtStart">false</xgui:param>
                          <xgui:param name="Query.fs_578.TargetDS">AAADSOrderSession:OrderSessionDetailedList</xgui:param>
                          <xgui:param name="Query.fs_578.level">100</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSOrderSession:OrderSessionDetailedList</xgui:param>
                          <xgui:param name="Query.attributeInclude">CREATION_DATE,ORDER_NATURE,PORTFOLIO_NAME,INSTR_NAME,QUANTITY,PARENT_OPER_NATURE,CATEGORY_LABEL,VALUE_DATE,ORDER_SUMMARY,ORDER_DATE,ORDER_HIER_STR</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                      <xgui:tooltip><i18n:text>general.filter.tooltip</i18n:text></xgui:tooltip>
                    </xgui:icon>
                    <xgui:label halign="trail" id="order_id.Filter">
                      <xgui:text><i18n:text>general.filter.applied.text</i18n:text></xgui:text>
                    </xgui:label>
                  </xgui:toolbar>
                </xgui:table>
                <xsp:logic> } else {</xsp:logic>
                <xgui:table id="order_id"/>
                <xsp:logic> }</xsp:logic>
              </xsp:content>}</xsp:logic>
            <xsp:logic>if(<udp:grouped-row-count/> > 0) { </xsp:logic>
            <xsp:logic>{ boolean updateMode=(!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>); String tableMode=(updateMode)?"":"edit";</xsp:logic>
            <xgui:tree id="order_id">
              <xsp:attribute name="sortable"><xsp:expr>updateMode</xsp:expr></xsp:attribute>
              <xsp:attribute name="pagination"><xsp:expr>updateMode</xsp:expr></xsp:attribute>
              <xsp:attribute name="mode"><xsp:expr>tableMode</xsp:expr></xsp:attribute>
              <xgui:toolbar>
                <xgui:icon id="order_id.filterIcon" ref="filter">
                  <xgui:onevent type="click">
                    <xgui:submit method="post" target="layer">
                      <xgui:param name="flow-action">openFilter</xgui:param>
                      <xgui:param name="Query.runAtStart">false</xgui:param>
                      <xgui:param name="Query.fs_578.TargetDS">AAADSOrderSession:OrderSessionDetailedList</xgui:param>
                      <xgui:param name="Query.fs_578.level">100</xgui:param>
                      <xgui:param name="Query.DSOutput">AAADSOrderSession:OrderSessionDetailedList</xgui:param>
                      <xgui:param name="Query.attributeInclude">CREATION_DATE,ORDER_NATURE,PORTFOLIO_NAME,INSTR_NAME,QUANTITY,PARENT_OPER_NATURE,CATEGORY_LABEL,VALUE_DATE,ORDER_SUMMARY,ORDER_DATE,ORDER_HIER_STR</xgui:param>
                    </xgui:submit>
                  </xgui:onevent>
                  <xgui:tooltip><i18n:text>general.filter.tooltip</i18n:text></xgui:tooltip>
                </xgui:icon>
                <xsp:logic>if(<udp:has-dataset-filter delegating-model-ref="DSTableModel.AAADSOrderSession.OrderSessionDetailedList" filter-level="100"/>) {</xsp:logic>
                <xgui:label halign="trail" id="order_id.Filter">
                  <xgui:text><i18n:text>general.filter.applied.text</i18n:text></xgui:text>
                </xgui:label>
                <xsp:logic>}</xsp:logic>
              </xgui:toolbar>
              <xgui:columns>
                <xsp:logic>
String sorting = "";
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.C_D1m</xsp:attribute><xsp:attribute name="type">boolean</xsp:attribute>
                  <xgui:text><i18n:text>89852910940356.text</i18n:text></xgui:text>
                </xgui:column>
                <xgui:column enabled="true" locked="true">
                  <xsp:attribute name="id">order_id.J0_C8</xsp:attribute><xsp:attribute name="type">boolean</xsp:attribute>
                  <xgui:text><i18n:text>1294576231513502.text</i18n:text></xgui:text>
                </xgui:column>
                <xgui:column enabled="true" locked="true">
                  <xsp:attribute name="id">order_id.T8E_E</xsp:attribute><xsp:attribute name="type">boolean</xsp:attribute>
                  <xgui:text><i18n:text>21206052233174.text</i18n:text></xgui:text>
                </xgui:column>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.rG__1</xsp:attribute><xsp:attribute name="type">boolean</xsp:attribute>
                  <xgui:text><i18n:text>1272245021345450.text</i18n:text></xgui:text>
                </xgui:column>
                <xgui:column enabled="true" tec="true">
                  <xsp:attribute name="id">order_id.tF6__</xsp:attribute><xsp:attribute name="type">text</xsp:attribute>
                  <xgui:text><i18n:text>1290069031151445.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="CREATION_DATE"/>) {
  if (<udp:is-sort-reversed column="CREATION_DATE"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.CREATION_DATE</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="CREATION_DATE"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="CREATION_DATE"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="CREATION_DATE"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.creation_date.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="ORDER_NATURE"/>) {
  if (<udp:is-sort-reversed column="ORDER_NATURE"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.ORDER_NATURE</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="ORDER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="ORDER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="ORDER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.order_nature.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="PORTFOLIO_NAME"/>) {
  if (<udp:is-sort-reversed column="PORTFOLIO_NAME"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.PORTFOLIO_NAME</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="PORTFOLIO_NAME"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="PORTFOLIO_NAME"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="PORTFOLIO_NAME"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.portfolio_name.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="INSTR_NAME"/>) {
  if (<udp:is-sort-reversed column="INSTR_NAME"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.INSTR_NAME</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="INSTR_NAME"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="INSTR_NAME"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="INSTR_NAME"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.instr_name.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="QUANTITY"/>) {
  if (<udp:is-sort-reversed column="QUANTITY"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.QUANTITY</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="QUANTITY"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="QUANTITY"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="QUANTITY"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.quantity.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="PARENT_OPER_NATURE"/>) {
  if (<udp:is-sort-reversed column="PARENT_OPER_NATURE"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.PARENT_OPER_NATURE</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="PARENT_OPER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="PARENT_OPER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="PARENT_OPER_NATURE"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>1290408688007833.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="CATEGORY_LABEL"/>) {
  if (<udp:is-sort-reversed column="CATEGORY_LABEL"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.CATEGORY_LABEL</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="CATEGORY_LABEL"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="CATEGORY_LABEL"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="CATEGORY_LABEL"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.category_label.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="VALUE_DATE"/>) {
  if (<udp:is-sort-reversed column="VALUE_DATE"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.VALUE_DATE</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="VALUE_DATE"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="VALUE_DATE"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="VALUE_DATE"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.value_date.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="ORDER_SUMMARY"/>) {
  if (<udp:is-sort-reversed column="ORDER_SUMMARY"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.ORDER_SUMMARY</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="ORDER_SUMMARY"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="ORDER_SUMMARY"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="ORDER_SUMMARY"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.order_summary.text</i18n:text></xgui:text>
                </xgui:column>
                <xsp:logic>
sorting="none";
if (<udp:is-sorting-column column="ORDER_DATE"/>) {
  if (<udp:is-sort-reversed column="ORDER_DATE"/>) {
    sorting="descending";
  } else {
    sorting="ascending";
  }
}
</xsp:logic>
                <xgui:column enabled="true">
                  <xsp:attribute name="id">order_id.ORDER_DATE</xsp:attribute>
                  <xsp:attribute name="name"><udp:column-name column="ORDER_DATE"/></xsp:attribute>
                  <xsp:attribute name="halign"><udp:column-alignment column="ORDER_DATE"/></xsp:attribute>
                  <xsp:attribute name="type"><udp:column-type column="ORDER_DATE"/></xsp:attribute>
                  <xsp:attribute name="sorting"><xsp:expr>sorting</xsp:expr></xsp:attribute>
                  <xgui:text><i18n:text>aaadsordersession.ordersessiondetailedlist.order_date.text</i18n:text></xgui:text>
                </xgui:column>
              </xgui:columns>
              <udp:recurse-data>
                <xsp:logic>if (null == <udp:item column="_isNode"/> || <udp:item column="_isNode"/>.equals("false")) {groupDepth = groupDepth + 1;} else {groupDepth = 1;}</xsp:logic>
                <xsp:logic>if (groupDepth==1) {</xsp:logic>
                <xsp:content>
                  <xsp:attribute name="expanded">true</xsp:attribute>
                </xsp:content>
                <xsp:logic>}</xsp:logic>
                <xgui:row>
                  <bean:define key="DSTableModel.AAADSOrderSession.OrderSessionDetailedList.entities" name="ExtOperationAll" prefix-keyword="final">
                    <bean:param name="property">(<udp:item column="order_id"/>)</bean:param>
                  </bean:define>
                  <xsp:logic>if (groupDepth==1) {</xsp:logic>
                  <xgui:cell>
                    <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>

&amp;&amp; "true".equals(<udp:item column="UPDATE_RIGHT"/>.toString());</xsp:logic>
                    <xgui:icon id="y_sB_" ref="application_form_edit">
                      <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                      <xgui:tooltip><i18n:text>159638881438004.tooltip</i18n:text></xgui:tooltip>
                      <xgui:onevent type="click">
                        <xgui:submit method="post" target="self">
                          <xgui:param name="flow-action">updateorder</xgui:param>
                          <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                          <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                    </xgui:icon>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>

&amp;&amp; "true".equals(<udp:item column="UPDATE_RIGHT"/>.toString())

&amp;&amp; "SINGLE".equals(<udp:item column="PARENT_OPER_INDICATOR"/>);</xsp:logic>
                    <xgui:icon id="h009_" ref="application_double">
                      <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                      <xgui:tooltip><i18n:text>91300635714874.tooltip</i18n:text></xgui:tooltip>
                      <xgui:onevent type="click">
                        <xgui:submit method="post" target="self">
                          <xgui:param name="flow-action">copyOrder</xgui:param>
                          <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                          <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                    </xgui:icon>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>;</xsp:logic>
                    <xgui:icon id="O7_h_" ref="application_form_magnify">
                      <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                      <xgui:tooltip><i18n:text>118793130408194.tooltip</i18n:text></xgui:tooltip>
                      <xgui:onevent type="click">
                        <xgui:submit method="post" target="self">
                          <xgui:param name="flow-action">vieworder</xgui:param>
                          <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                          <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                    </xgui:icon>
                  </xgui:cell>
                  <xgui:cell/>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="_nodeDisplay"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="CREATION_DATE"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="ORDER_NATURE"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                    <xgui:autocomplete keys="1" uri="/wui/ajax-xml/autocompleteoutput/Portfolio" widget-group="formSearch">
                      <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xsp:attribute>
                      <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                      <xgui:value>
                        <bean:get-property bean="ExtOperationAll" property="portfolio.code"/>
                      </xgui:value>
                      <xgui:param name="postValue">code</xgui:param>
                      <xgui:param name="textValue">code</xgui:param>
                      <xgui:param name="scope-id"><scope:get-id/></xgui:param>
                      <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                      <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                      <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                      <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                      <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                      <xgui:param name="Query.runAtStart">true</xgui:param>
                      <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                      <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                      <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                      <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                      <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                      <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                      <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                      <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                      <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                      <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                      <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                      <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                      <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                      <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                      <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                      <xgui:onevent type="select">
                        <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                          <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                          <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xgui:param>
                          <xgui:param name="Query.exactMatching">true</xgui:param>
                          <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                          <xgui:param name="Query.tableModelRef">DSTableModel.AAADSPortfolio.PortfolioList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.maxRowCount">1500</xgui:param>
                          <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                          <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                          <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                      <xgui:onevent type="search">
                        <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                          <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                          <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xgui:param>
                          <xgui:param name="Query.alwaysDisplayResult">true</xgui:param>
                          <xgui:param name="Query.exactMatching">false</xgui:param>
                          <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                          <xgui:param name="Query.tableModelRef">DSTableModel.AAADSPortfolio.PortfolioList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.maxRowCount">1500</xgui:param>
                          <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                          <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                          <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                    </xgui:autocomplete>
                    <xsp:logic>} else {</xsp:logic>
                    <xgui:label>
                      <xgui:text><udp:item column="PORTFOLIO_NAME"/></xgui:text>
                    </xgui:label>
                    <xsp:logic>}</xsp:logic>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                    <xgui:autocomplete keys="1" uri="/wui/ajax-xml/autocompleteoutput/Instrument" widget-group="formSearch">
                      <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xsp:attribute>
                      <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                      <xgui:value>
                        <bean:get-property bean="ExtOperationAll" property="instr.code"/>
                      </xgui:value>
                      <xgui:param name="postValue">code</xgui:param>
                      <xgui:param name="textValue">code</xgui:param>
                      <xgui:param name="scope-id"><scope:get-id/></xgui:param>
                      <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                      <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                      <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                      <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                      <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                      <xgui:param name="Query.runAtStart">true</xgui:param>
                      <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                      <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                      <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                      <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                      <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                      <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                      <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                      <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                      <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                      <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                      <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                      <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                      <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                      <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                      <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                      <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                      <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                      <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                      <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                      <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                      <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                      <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                      <xgui:onevent type="select">
                        <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                          <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                          <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xgui:param>
                          <xgui:param name="Query.exactMatching">true</xgui:param>
                          <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                          <xgui:param name="Query.tableModelRef">DSTableModel.AAADSInstrument.InstrumentList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.maxRowCount">1500</xgui:param>
                          <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                          <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                          <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                      <xgui:onevent type="search">
                        <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                          <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                          <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xgui:param>
                          <xgui:param name="Query.alwaysDisplayResult">true</xgui:param>
                          <xgui:param name="Query.exactMatching">false</xgui:param>
                          <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                          <xgui:param name="Query.tableModelRef">DSTableModel.AAADSInstrument.InstrumentList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.maxRowCount">1500</xgui:param>
                          <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                          <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                          <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                        </xgui:submit>
                      </xgui:onevent>
                    </xgui:autocomplete>
                    <xsp:logic>} else {</xsp:logic>
                    <xgui:label>
                      <xgui:text><udp:item column="INSTR_NAME"/></xgui:text>
                    </xgui:label>
                    <xsp:logic>}</xsp:logic>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                    <xgui:textfield chars="22" columns="16" precision="12" scale="2" type="decimal" widget-group="form">
                      <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.quantityN</xsp:attribute>
                      <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                      <xgui:value><udp:format-decimal><bean:get-property bean="ExtOperationAll" property="quantityN"/></udp:format-decimal></xgui:value>
                    </xgui:textfield>
                    <xsp:logic>} else {</xsp:logic>
                    <xgui:label>
                      <xgui:text><udp:item column="QUANTITY"/></xgui:text>
                    </xgui:label>
                    <xsp:logic>}</xsp:logic>
                  </xgui:cell>
                  <xgui:cell>
                    <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                    <xsp:logic>conditionVal = "SINGLE".equals(<udp:item column="PARENT_OPER_INDICATOR"/>);</xsp:logic>
                    <xgui:combobox widget-group="form">
                      <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.parentOperNatE</xsp:attribute>
                      <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                      <xgui:selected-value>
                        <bean:get-property bean="ExtOperationAll" property="parentOperNatE"/>
                      </xgui:selected-value>
                      <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(0)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>0</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.0.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(1)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>1</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.1.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(2)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>2</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.2.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(3)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>3</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.3.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(4)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>4</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.4.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(5)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>5</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.5.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(6)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>6</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.6.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                      <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(7)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                      <xgui:item>
                        <xgui:value>7</xgui:value>
                        <xgui:text><i18n:text>aaaenumerations.operationparentopernate.7.text</i18n:text></xgui:text>
                      </xgui:item>
                      <xsp:logic>}</xsp:logic>
                    </xgui:combobox>
                    <xsp:logic>} else {</xsp:logic>
                    <xgui:label>
                      <xgui:text><udp:item column="PARENT_OPER_NATURE"/></xgui:text>
                    </xgui:label>
                    <xsp:logic>}</xsp:logic>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="CATEGORY_LABEL"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="VALUE_DATE"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="ORDER_SUMMARY"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xgui:cell>
                    <xgui:label>
                      <xgui:text><udp:item column="ORDER_DATE"/></xgui:text>
                    </xgui:label>
                  </xgui:cell>
                  <xsp:logic>}</xsp:logic>
                  <udp:on-row>
                    <xgui:row>
                      <bean:define key="DSTableModel.AAADSOrderSession.OrderSessionDetailedList.entities" name="ExtOperationAll" prefix-keyword="final">
                        <bean:param name="property">(<udp:item column="order_id"/>)</bean:param>
                      </bean:define>
                      <xgui:cell>
                        <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>

&amp;&amp; "true".equals(<udp:item column="UPDATE_RIGHT"/>.toString());</xsp:logic>
                        <xgui:icon id="y_sB_" ref="application_form_edit">
                          <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                          <xgui:tooltip><i18n:text>159638881438004.tooltip</i18n:text></xgui:tooltip>
                          <xgui:onevent type="click">
                            <xgui:submit method="post" target="self">
                              <xgui:param name="flow-action">updateorder</xgui:param>
                              <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                              <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                        </xgui:icon>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>

&amp;&amp; "true".equals(<udp:item column="UPDATE_RIGHT"/>.toString())

&amp;&amp; "SINGLE".equals(<udp:item column="PARENT_OPER_INDICATOR"/>);</xsp:logic>
                        <xgui:icon id="h009_" ref="application_double">
                          <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                          <xgui:tooltip><i18n:text>91300635714874.tooltip</i18n:text></xgui:tooltip>
                          <xgui:onevent type="click">
                            <xgui:submit method="post" target="self">
                              <xgui:param name="flow-action">copyOrder</xgui:param>
                              <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                              <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                        </xgui:icon>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>;</xsp:logic>
                        <xgui:icon id="O7_h_" ref="application_form_magnify">
                          <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                          <xgui:tooltip><i18n:text>118793130408194.tooltip</i18n:text></xgui:tooltip>
                          <xgui:onevent type="click">
                            <xgui:submit method="post" target="self">
                              <xgui:param name="flow-action">vieworder</xgui:param>
                              <xgui:param name="toinit-id"><udp:item column="order_id"/></xgui:param>
                              <xgui:param name="toinit-functionResult.id">valueOf(form.id)</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                        </xgui:icon>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>conditionVal=!<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>

&amp;&amp; "true".equals(<udp:item column="UPDATE_RIGHT"/>.toString());</xsp:logic>
                        <xgui:checkbox widget-group="ReactToMainCheckBox">
                          <xsp:attribute name="id">order_id_orderSel.<udp:item column="order_id"/></xsp:attribute>
                          <xsp:attribute name="selected"><udp:row-is-selected column="orderSel"/></xsp:attribute>
                          <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                        </xgui:checkbox>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="_nodeDisplay"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="CREATION_DATE"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="ORDER_NATURE"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                        <xgui:autocomplete keys="1" uri="/wui/ajax-xml/autocompleteoutput/Portfolio" widget-group="formSearch">
                          <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xsp:attribute>
                          <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                          <xgui:value>
                            <bean:get-property bean="ExtOperationAll" property="portfolio.code"/>
                          </xgui:value>
                          <xgui:param name="postValue">code</xgui:param>
                          <xgui:param name="textValue">code</xgui:param>
                          <xgui:param name="scope-id"><scope:get-id/></xgui:param>
                          <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                          <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                          <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                          <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                          <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                          <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                          <xgui:onevent type="select">
                            <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                              <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                              <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xgui:param>
                              <xgui:param name="Query.exactMatching">true</xgui:param>
                              <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                              <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                              <xgui:param name="Query.tableModelRef">DSTableModel.AAADSPortfolio.PortfolioList</xgui:param>
                              <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                              <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                              <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                              <xgui:param name="Query.runAtStart">true</xgui:param>
                              <xgui:param name="Query.maxRowCount">1500</xgui:param>
                              <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                              <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                              <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                          <xgui:onevent type="search">
                            <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                              <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                              <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code</xgui:param>
                              <xgui:param name="Query.alwaysDisplayResult">true</xgui:param>
                              <xgui:param name="Query.exactMatching">false</xgui:param>
                              <xgui:param name="Query.attributeExclude">activeF,corporateAHIndustryType,daysSinceLastContact,denom,extBenchDenom,extPtfThreshold,extSecPos,fusionRuleE,id,linkedToPepPerson,mgtBeginD,moodDuringLastContact,natureE,parentPortSearchCode,SearchManagerCode,searchManagerId,thirdRiskGeoSearchCode,typeCode,updateRightF</xgui:param>
                              <xgui:param name="Query.DSOutput">AAADSPortfolio:PortfolioList</xgui:param>
                              <xgui:param name="Query.tableModelRef">DSTableModel.AAADSPortfolio.PortfolioList</xgui:param>
                              <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                              <xgui:param name="Query.beanProperty1">portfolio.code</xgui:param>
                              <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                              <xgui:param name="Query.runAtStart">true</xgui:param>
                              <xgui:param name="Query.maxRowCount">1500</xgui:param>
                              <xgui:param name="Query.fs_rqa.TargetDS">AAADSPortfolio:PortfolioSearchCriteria</xgui:param>
                              <xgui:param name="Query.fs_rqa.level">1</xgui:param>
                              <xgui:param name="Query.fs_rqa.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.attribute">searchCode</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.Op">LIKE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.portfolio.code)</xgui:param>
                              <xgui:param name="Query.fs_rqa.f1.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.attribute">statusE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.value1">1,3,0</xgui:param>
                              <xgui:param name="Query.fs_rqa.f2.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.attribute">activeF</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.Op">EQUAL</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.value1">true</xgui:param>
                              <xgui:param name="Query.fs_rqa.f3.mode">HIDDEN</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                        </xgui:autocomplete>
                        <xsp:logic>} else {</xsp:logic>
                        <xgui:label>
                          <xgui:text><udp:item column="PORTFOLIO_NAME"/></xgui:text>
                        </xgui:label>
                        <xsp:logic>}</xsp:logic>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                        <xgui:autocomplete keys="1" uri="/wui/ajax-xml/autocompleteoutput/Instrument" widget-group="formSearch">
                          <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xsp:attribute>
                          <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                          <xgui:value>
                            <bean:get-property bean="ExtOperationAll" property="instr.code"/>
                          </xgui:value>
                          <xgui:param name="postValue">code</xgui:param>
                          <xgui:param name="textValue">code</xgui:param>
                          <xgui:param name="scope-id"><scope:get-id/></xgui:param>
                          <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                          <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                          <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                          <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                          <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                          <xgui:param name="Query.runAtStart">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                          <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                          <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                          <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                          <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                          <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                          <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                          <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                          <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                          <xgui:onevent type="select">
                            <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                              <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                              <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xgui:param>
                              <xgui:param name="Query.exactMatching">true</xgui:param>
                              <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                              <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                              <xgui:param name="Query.tableModelRef">DSTableModel.AAADSInstrument.InstrumentList</xgui:param>
                              <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                              <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                              <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                              <xgui:param name="Query.runAtStart">true</xgui:param>
                              <xgui:param name="Query.maxRowCount">1500</xgui:param>
                              <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                              <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                              <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                              <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                              <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                          <xgui:onevent type="search">
                            <xgui:submit method="post" only-changed="true" param="flow-action=search" target="popup" widget-group-ref="form">
                              <xsp:attribute name="call-URI">/wui/activity/aaa/pageflow/search-pageflow-Lookup/Lookup</xsp:attribute>
                              <xgui:param name="Query.parentWidgetValue1Id">formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code</xgui:param>
                              <xgui:param name="Query.alwaysDisplayResult">true</xgui:param>
                              <xgui:param name="Query.exactMatching">false</xgui:param>
                              <xgui:param name="Query.attributeInclude">marketThirdSearchCode,issuerThirdSearchCode,extDenomination,searchCode,statusE,extSectorC,riskGeoSearchCode,maturityDate,code,underlyingInstrSearchCode,refCurrSearchCode,natureE,extTelekursSynC,extIsinSynC,name,interestRateP</xgui:param>
                              <xgui:param name="Query.DSOutput">AAADSInstrument:InstrumentList</xgui:param>
                              <xgui:param name="Query.tableModelRef">DSTableModel.AAADSInstrument.InstrumentList</xgui:param>
                              <xgui:param name="Query.beanName">AAADSExtOperation:ExtOperationAll</xgui:param>
                              <xgui:param name="Query.beanProperty1">instr.code</xgui:param>
                              <xgui:param name="Query.selectionMode">SINGLE</xgui:param>
                              <xgui:param name="Query.runAtStart">true</xgui:param>
                              <xgui:param name="Query.maxRowCount">1500</xgui:param>
                              <xgui:param name="Query.fs_WiG.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                              <xgui:param name="Query.fs_WiG.level">1</xgui:param>
                              <xgui:param name="Query.fs_WiG.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.attribute">searchCode</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.Op">LIKE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.value1">valueOf(formSearch.<bean:get-property bean="ExtOperationAll" property="id"/>.instr.code)</xgui:param>
                              <xgui:param name="Query.fs_WiG.f1.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.attribute">activeF</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.Op">EQUAL</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.value1">true</xgui:param>
                              <xgui:param name="Query.fs_WiG.f2.mode">HIDDEN</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.attribute">statusE</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.value1">1,0</xgui:param>
                              <xgui:param name="Query.fs_WiG.f3.mode">EDITABLE</xgui:param>
                              <xgui:param name="Query.fs_8wO.TargetDS">AAADSInstrument:InstrumentSearchCriteriaAll</xgui:param>
                              <xgui:param name="Query.fs_8wO.level">2</xgui:param>
                              <xgui:param name="Query.fs_8wO.cancel">true</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.attribute">natureE</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.Op">IN</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.value1">6,4,5,3,24,1,7,19,21,22,2,13,11,18</xgui:param>
                              <xgui:param name="Query.fs_8wO.f1.mode">EDITABLE</xgui:param>
                            </xgui:submit>
                          </xgui:onevent>
                        </xgui:autocomplete>
                        <xsp:logic>} else {</xsp:logic>
                        <xgui:label>
                          <xgui:text><udp:item column="INSTR_NAME"/></xgui:text>
                        </xgui:label>
                        <xsp:logic>}</xsp:logic>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                        <xgui:textfield chars="22" columns="16" precision="12" scale="2" type="decimal" widget-group="form">
                          <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.quantityN</xsp:attribute>
                          <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                          <xgui:value><udp:format-decimal><bean:get-property bean="ExtOperationAll" property="quantityN"/></udp:format-decimal></xgui:value>
                        </xgui:textfield>
                        <xsp:logic>} else {</xsp:logic>
                        <xgui:label>
                          <xgui:text><udp:item column="QUANTITY"/></xgui:text>
                        </xgui:label>
                        <xsp:logic>}</xsp:logic>
                      </xgui:cell>
                      <xgui:cell>
                        <xsp:logic>if (<bean:is-true key="DSBean.AAADSOrderSession.OrderSessionDetailedList.updateMode"/>) {</xsp:logic>
                        <xsp:logic>conditionVal = "SINGLE".equals(<udp:item column="PARENT_OPER_INDICATOR"/>);</xsp:logic>
                        <xgui:combobox widget-group="form">
                          <xsp:attribute name="id"><bean:get-property bean="ExtOperationAll" property="id"/>.parentOperNatE</xsp:attribute>
                          <xsp:attribute name="editable"><udp:item column="UPDATE_RIGHT"/></xsp:attribute>
                          <xgui:selected-value>
                            <bean:get-property bean="ExtOperationAll" property="parentOperNatE"/>
                          </xgui:selected-value>
                          <xsp:attribute name="enabled"><xsp:expr>conditionVal</xsp:expr></xsp:attribute>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(0)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>0</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.0.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(1)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>1</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.1.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(2)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>2</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.2.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(3)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>3</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.3.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(4)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>4</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.4.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(5)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>5</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.5.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(6)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>6</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.6.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                          <xsp:logic>if (<bean:is-null-or-empty bean="ExtOperationAll" property="permValues.parentOperNatEPermValues"/> || <bean:contains bean="ExtOperationAll" object="new java.lang.Integer(7)" property="permValues.parentOperNatEPermValues"/>) { </xsp:logic>
                          <xgui:item>
                            <xgui:value>7</xgui:value>
                            <xgui:text><i18n:text>aaaenumerations.operationparentopernate.7.text</i18n:text></xgui:text>
                          </xgui:item>
                          <xsp:logic>}</xsp:logic>
                        </xgui:combobox>
                        <xsp:logic>} else {</xsp:logic>
                        <xgui:label>
                          <xgui:text><udp:item column="PARENT_OPER_NATURE"/></xgui:text>
                        </xgui:label>
                        <xsp:logic>}</xsp:logic>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="CATEGORY_LABEL"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="VALUE_DATE"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="ORDER_SUMMARY"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                      <xgui:cell>
                        <xgui:label>
                          <xgui:text><udp:item column="ORDER_DATE"/></xgui:text>
                        </xgui:label>
                      </xgui:cell>
                    </xgui:row>
                  </udp:on-row>
                </xgui:row>
                <xsp:logic>if (null == <udp:item column="_isNode"/> || <udp:item column="_isNode"/>.equals("false")) {groupDepth = groupDepth - 1;}</xsp:logic>
              </udp:recurse-data>
            </xgui:tree>
            <xsp:logic>}</xsp:logic>
            <xsp:logic>}</xsp:logic>
            <xsp:logic>if(<udp:grouped-row-count/> > 0) { </xsp:logic>
            <xgui:tablefooter>
              <xsp:attribute name="ref">order_id</xsp:attribute>
              <xsp:attribute name="itemfirst"><udp:first-visible-index/></xsp:attribute>
              <xsp:attribute name="itemlast"><udp:last-visible-index/></xsp:attribute>
              <xsp:attribute name="itemtot"><udp:grouped-row-count/></xsp:attribute>
              <xsp:attribute name="page"><udp:current-page/></xsp:attribute>
              <xsp:attribute name="pagelast"><udp:last-page/></xsp:attribute>
            </xgui:tablefooter>
            <xsp:logic>}</xsp:logic>
          </udp:render-list>
        </udp:udp>
        <ic:reporter>
          <ic:add-scope-reporter report-key="udp.reporter"/>
          <ic:rendering>
            <ic:param name="caption">
              <i18n:text>udp.reporter.label</i18n:text>
            </ic:param>
          </ic:rendering>
        </ic:reporter>
      </xgui:vbox>
    </nav:managerequest>
  </xgui:module>
</xsp:page>
