<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="CATEG.ENT.BOOK.STD" fileName="name:/ENT_EntryCreation:CATEG.ENTRY#" noSelection="true" showAllBooks="false" startLine="5" endLine="19"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="P and L Categ Entries"/></description><buildRoutines xsi:type="enquiry:JBCRoutine" name="E.PLCATEGORY.VAL"/><fixedSorts field="BOOKING.DATE"/> <customSelection><selection field="PL.CATEGORY" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="PL Category"/></label><operands>Equals</operands></selection><selection field="BOOKING.DATE.SEL" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Booking Date"/></label></selection><operator>AND</operator></customSelection> <fields name="HDR.1" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header"><position column="26" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;P and L Entries&quot;"/></fields> <fields name="HDR.2" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Category:&quot;"/></fields> <fields name="HDR.3" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;CCY:&quot;"/></fields> <fields name="CURRENCY" displayType="CLASS-ENQ.H.ID" length="3" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="CCY:"/></label><position column="10" line="2"/><operation xsi:type="enquiry:LocalCurrencyOperation"/></fields> <fields name="OPENING.BAL" comments="Determines the opening balance" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.CATEG.ENQ.STD"/></conversion></fields> <fields name="TODAY" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:TodayOperation"/></fields> <fields name="@ID" comments="Updates R.RECORD with correct amt and closing balance for the year" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.READ.CATEG.ENTRY"/></conversion></fields> <fields name="VAL.DATE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="VALUE.DATE"/></fields> <fields name="YRMTH" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="BOOKING.DATE"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="6"/></fields> <fields name="BKMTH" comments=" and closing balance for the year" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:BreakOnChangeOperation" field="YRMTH"/></fields> <fields name="MONTH.END.BAL" alignment="Left" commaSeparator="false" escapeSequence="BL"> <breakCondition field="BKMTH"/><operation xsi:type="enquiry:FieldExtractOperation" field="POST"/></fields> <fields name="P.VAL.DATE" length="10" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Value date"/></label><position column="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="VAL.DATE"/><conversion xsi:type="enquiry:JulianConversion"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="--"/></fields> <fields name="FOOTER" alignment="Left" commaSeparator="false" escapeSequence="BL"> <breakCondition field="BKMTH"/><position column="14" relative="+" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;CLOSING BALANCE&quot;"/></fields> <fields name="FOOTER1" length="19" alignment="Right" commaSeparator="false" escapeSequence="BL"> <breakCondition field="BKMTH"/><format format="Currency" field="CCY" pattern="#-"/><position column="60" relative="+" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="YRMTH"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.CATEG.ENQ.BAL"/></conversion></fields> <fields name="CAT" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="PL.CATEGORY"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="--"/></fields> <fields name="HEADER.CAT" displayType="CLASS-ENQ.H.ID" comments="Show category in the case of no selection" alignment="Right" commaSeparator="false" fmtMask="##-###" displaySection="Header" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Category:"/></label><position column="65" line="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="PL.CATEGORY"/></fields> <fields name="CCY" length="3" comments=" selection" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:LocalCurrencyOperation"/></fields> <fields name="D.CCY" displayType="CLASS-ENQ.H.DATA.LABEL" length="3" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="CCY:"/></label><position column="76" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="CCY"/></fields> <fields name="LANG" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:LanguageOperation"/></fields> <fields name="CATEG.D" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><format format="User"/><position column="15" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="CAT"/><conversion xsi:type="enquiry:GetFromConversion" application="CATEGORY" field="DESCRIPTION"/></fields> <fields name="TCODE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TRANSACTION.CODE"/></fields> <fields name="DESC" alignment="Left" commaSeparator="false"><format format="User"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TRANSACTION.CODE"/><conversion xsi:type="enquiry:GetFromConversion" application="TRANSACTION" field="NARRATIVE"/></fields> <fields name="PDESC" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Description"/></label><position column="14"/><operation xsi:type="enquiry:DecisionOperation" leftField="TCODE" operand="NotEquals" rightField="NULL" firstField="DESC" secondField="NOREC"/></fields> <fields name="REFNO" length="25" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Ref no"/></label><position column="34"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TRANS.REFERENCE"/></fields> <fields name="POST" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Booking date"/></label><position column="50"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="BOOKING.DATE"/><conversion xsi:type="enquiry:JulianConversion"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="--"/></fields> <fields name="PAMT" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="TCODE" operand="NotEquals" rightField="NULL" firstField="AMT" secondField="NOREC2"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="--"/></fields> <fields name="PAMOUNT" length="19" alignment="Right" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Amount"/></label><position column="60"/><operation xsi:type="enquiry:FieldExtractOperation" field="PAMT"/></fields> <fields name="NOREC" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><format format="Translate"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*** NO ENTRIES FOR PERIOD ENDING&quot;"/></fields> <fields name="NOTHING" alignment="Left" commaSeparator="false" escapeSequence="BL"> <breakCondition break="None"/><format format="Translate"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*** NO ENTRIES FOR REQUESTED CRITERIA ***&quot;"/></fields> <fields name="NOBALANCE" alignment="Left" commaSeparator="false" escapeSequence="BL"> <breakCondition break="None"/><format format="Translate"/><position column="14" relative="+" line="3"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*** OPENING AND CLOSING BALANCE ZERO ***&quot;"/></fields> <fields name="NULL" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="F" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;F&quot;"/></fields> <fields name="AMT" length="19" alignment="Right" commaSeparator="false" singleMulti="Single"><format format="Currency" field="CCY" pattern="#-"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="AMOUNT.FCY"/></fields> <fields name="NOREC2" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="TOT.AMT" alignment="Left" commaSeparator="false"> <breakCondition break="End"/><format format="Translate"/><position column="14" relative="+" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Total Entries For Period&quot;"/></fields> <fields name="TOTAL" length="19" alignment="Right" commaSeparator="false"> <breakCondition break="End"/><format format="Currency" field="CCY" pattern="#-"/><position column="60" relative="+" line="2"/><operation xsi:type="enquiry:TotalOperation" field="AMT"/></fields> <fields name="BFWD" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" escapeSequence="BL" displaySection="Header"> <breakCondition break="Once"/><format format="Translate"/><position column="14" line="4"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Balances at Period Start&quot;"/></fields> <fields name="AMT.BFWD" displayType="CLASS-ENQ.H.DATA.LABEL" length="19" alignment="Right" commaSeparator="false" escapeSequence="BL" displaySection="Header"> <breakCondition break="Once"/><format format="Currency" field="CCY" pattern="#-"/><position column="60" line="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="OPENING.BAL"/></fields> <fields name="CATEG.ID" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="SYSTEM.ID" length="4" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SYSTEM.ID"/></fields> <fields name="APPLICATION" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SYSTEM.ID"/><conversion xsi:type="enquiry:GetFromConversion" application="EB.SYSTEM.ID" field="APPLICATION"/></fields> <fields name="APPL.ID" length="16" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="OUR.REFERENCE"/></fields> <fields name="FULL.APPL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="APPLICATION" operand="Equals" rightField="NULL" firstField="CATEG.ENTRY" secondField="APPLICATION"/></fields> <fields name="NEXT.APPL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="APPL.DRILL" operand="Equals" rightField="YES" firstField="FULL.APPL" secondField="CATEG.ENTRY"/></fields> <fields name="NEXT.ID" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="NEXT.APPL" operand="Equals" rightField="CATEG.ENTRY" firstField="CATEG.ID" secondField="APPL.ID"/></fields> <fields name="CATEG.ENTRY" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;CATEG.ENTRY&quot;"/></fields> <fields name="YES" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;YES&quot;"/></fields> <fields name="APPL.DRILL" length="3" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><format format="User"/><operation xsi:type="enquiry:SelectionOperation" field="APPL.DRILLDOWN"/></fields> <fields name="CATEG.ENTRY.02" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;CATEG.ENTRY&quot;"/></fields> <fields name="YES.02" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;YES&quot;"/></fields> <fields name="APPL.DRILL.02" length="3" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><format format="User"/><operation xsi:type="enquiry:SelectionOperation" field="APPL.DRILLDOWN"/></fields><drillDowns image="view.gif" fromField="NEXT.APPL" labelField="PDESC"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="View Entry"/></description><parameters function="See"> <fieldName>NEXT.ID</fieldName></parameters></drillDowns></enquiry:Enquiry>