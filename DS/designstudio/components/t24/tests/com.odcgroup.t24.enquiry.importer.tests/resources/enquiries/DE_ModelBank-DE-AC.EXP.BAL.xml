<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="AC.EXP.BAL" fileName="name:/ACM_AccountOpening:ACCOUNT#" noSelection="true" showAllBooks="false" startLine="4" endLine="19"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Expected Balance Details"/></description><fixedSorts field="CUSTOMER"/> <customSelection><selection field="ACCOUNT.NUMBER"></selection><selection field="CUSTOMER"></selection><selection field="CATEGORY"></selection><operator>AND</operator><operator>AND</operator></customSelection> <fields name="HEADER.1" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false"><position column="1" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Expected Balance &quot;"/></fields> <fields name="HEADER.2" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header"><position column="18" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Details as at :&quot;"/></fields> <fields name="ACCT.DISPLAY" displayType="CLASS-ENQ.ID.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Account&quot;"/></fields> <fields name="HEADER.3" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Cleared/Actual&quot;"/></fields> <fields name="ACC" displayType="CLASS-ENQ.H.ID" length="8" comments="Account no for header" alignment="Left" commaSeparator="false" displaySection="Header"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Account"/></label><position column="9" line="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="TODAY" displayType="CLASS-ENQ.H.ID" length="11" comments="Use &#33;TODAY for date comparisons" alignment="Left" commaSeparator="false"><format format="Date"/><position column="60" line="0"/><operation xsi:type="enquiry:TodayOperation"/></fields> <fields name="ACC.TITLE" displayType="CLASS-ENQ.H.DATA" length="30" comments="Get the A/C title it&apos;s friendlier" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:GetFromConversion" application="ACCOUNT" field="SHORT.TITLE"/></fields> <fields name="ACCT.CCY" length="3" comments="Used for formatting &amp; header" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Cleared/Actual"/></label><position column="63" line="2"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="CURRENCY"/></fields> <fields name="ONLINE.ACTUAL.BAL" length="19" comments="Actual balance (includes uncleared)" alignment="Right" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.GET.AC.ONLINE.ACTUAL.BALANCE"/></conversion></fields> <fields name="ONLINE.CLEARED.BAL" length="19" comments="Cleared balance does not include credits with forward exposure" alignment="Right" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.GET.AC.ONLINE.CLEARED.BALANCE"/></conversion></fields> <fields name="CLEARED" displayType="CLASS-ENQ.H.DATA" length="19" comments="Display cleared balance" alignment="Right" commaSeparator="false" displaySection="Header" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Cleared/Actual"/></label><format format="Currency" field="ACCT.CCY" pattern="-#"/><position column="66" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="ONLINE.CLEARED.BAL"/></fields> <fields name="DELIM" displayType="CLASS-ENQ.COLUMN.LABEL" length="1" comments="Separator for display" alignment="Left" commaSeparator="false" displaySection="Header"><position column="85" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;/&quot;"/></fields> <fields name="ACTUAL.BAL" displayType="CLASS-ENQ.H.DATA" length="19" comments="Display actual balance" alignment="Left" commaSeparator="false" displaySection="Header"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Cleared/Actual"/></label><format format="Currency" field="ACCT.CCY" pattern="-#"/><position column="86" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="ONLINE.ACTUAL.BAL"/></fields> <fields name="ER.VALUE.DATE" length="11" comments="Show the Expected Value Date" alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Value"/></label><format format="Date"/><position column="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ER.VALUE.DATE"/></fields> <fields name="ER.BALANCE" length="19" comments="Display the total for the date Note this can be negative if the money comes in unexpected." alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Expected Amount"/></label><format format="Currency" field="ACCT.CCY" pattern="-#"/><position column="2"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ER.BALANCE"/></fields> <fields name="ER.BALANCE.TMP" length="19" comments="Temp bal field for totalling" alignment="Right" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ER.BALANCE"/></fields> <fields name="ZERO" comments="Zero used for comparisons" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot;0&quot;"/></fields> <fields name="TYPE" length="15" comments="Work out if current or forward" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Type"/></label><position column="3"/><operation xsi:type="enquiry:CalcOperation"><field>TODAY</field><field>ER.VALUE.DATE</field><operator>-</operator></operation><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ AC.EXP.OD.DAYS"/></conversion></fields> <fields name="PROJ.BAL" length="19" comments="Which amount to use if LT Zero" alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Usable Amount"/></label><format format="Currency" field="ACCT.CCY" pattern="-#"/><position column="4"/><operation xsi:type="enquiry:DecisionOperation" leftField="ER.BALANCE" operand="LessThan" rightField="ZERO" firstField="ZERO" secondField="ER.BALANCE.TMP"/></fields> <fields name="TOT.BAL" comments="More totalling" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:TotalOperation" field="PROJ.BAL"/></fields> <fields name="ADD.TOT" comments="More totalling" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>PROJ.BAL</field><field>TOT.BAL</field><operator>+</operator></operation></fields> <fields name="DISP.PROJ.BAL" length="19" comments="Totals based on user balance Use either CALC ADD.TOT + ACTUAL.BAL or CALC ADD.TOT + CLEARED Depends on how exposure dates are set" alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Projected Balance"/></label><format format="Currency" field="ACCT.CCY" pattern="-#"/><position column="5"/><operation xsi:type="enquiry:CalcOperation"><field>ADD.TOT</field><field>ACTUAL.BAL</field><operator>+</operator></operation></fields></enquiry:Enquiry>