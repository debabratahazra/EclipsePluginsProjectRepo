<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="DE.XML" fileName="name:/DE_Config:DE.O.HISTORY#" noSelection="true" showAllBooks="false" startLine="4" endLine="19"> <customSelection><selection field="KEY" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Key"/></label></selection><selection field="MESSAGE.TEXT" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="CARRIER"/></label></selection><operator>AND</operator></customSelection> <fields name="CARRIER.TYPE" comments="To get the carrier type from selection" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:SelectionOperation" field="MESSAGE.TEXT"/></fields> <fields name="SECUREMSG" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;SECUREMSG&quot;"/></fields> <fields name="EMAIL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;EMAIL&quot;"/></fields> <fields name="SMS" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;SMS&quot;"/></fields> <fields name="MSG.TAGS" comments="The list of tags for SECUREMSG The values will be retrieved in the same order as above." alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ConstantOperation" value="&quot;FromCustomerToCustomerSubjectMessage&quot;"/></fields> <fields name="EMAIL.TAGS" comments="The list of tags for EMAIL Carrier The values will be retrieved in the same order as above." alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;FromToSubjectBody&quot;"/></fields> <fields name="SMS.TAGS" comments="The list of tags for SMS Carrier The values will be retrieved in the same order as above." alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;senderreceivermessage&quot;"/></fields> <fields name="NULL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="DECISION1" comments="If carrier is SMS then use SMS tags given above" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="SMS" firstField="SMS.TAGS" secondField="DECISION2"/></fields> <fields name="DECISION2" comments="If carrier is EMAIL then use EMAIL tags else use SECUREMSG tags" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="EMAIL" firstField="EMAIL.TAGS" secondField="MSG.TAGS"/></fields> <fields name="TAG.VALUES" comments="Check the previous conditions and pass the tags to the routine to fetch tag values in the same order" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="DECISION1" operand="NotEquals" rightField="NULL" firstField="DECISION1" secondField="DECISION2"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.MB.DE.XML"/></conversion></fields> <fields name="FROM.HEADER" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Message From:&quot;"/></fields> <fields name="FROM.E.S" comments="For EMAIL and SMS" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="*"/></fields> <fields name="FROM.MSG" comments="for SECUREMSG" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="4" to="1" delimiter="*"/></fields> <fields name="FROM" displayType="CLASS-ENQ.H.ID" comments="display the value" alignment="Left" commaSeparator="false" displaySection="Header"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Message From:"/></label><position column="15" line="0"/><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="SECUREMSG" firstField="FROM.MSG" secondField="FROM.E.S"/></fields> <fields name="TO.HEADER" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Message To:&quot;"/></fields> <fields name="TO.MSG" comments="For SECUREMSG" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="*"/></fields> <fields name="TO.E.S" comments="For EMAIL and SMS" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="*"/></fields> <fields name="TO" displayType="CLASS-ENQ.H.ID" comments="Display the value" alignment="Left" commaSeparator="false" displaySection="Header"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Message To:"/></label><position column="15" line="1"/><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="SECUREMSG" firstField="TO.MSG" secondField="TO.E.S"/></fields> <fields name="SUB.MSG" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="5" to="1" delimiter="*"/></fields> <fields name="SUB.E.S" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="3" to="1" delimiter="*"/></fields> <fields name="SUBJECT" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Subject"/></label><position column="1"/><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="SECUREMSG" firstField="SUB.MSG" secondField="SUB.E.S"/></fields> <fields name="MESS.E.S" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="4" to="1" delimiter="*"/></fields> <fields name="MESS.MSG" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="TAG.VALUES"/><conversion xsi:type="enquiry:ExtractConversion" from="6" to="1" delimiter="*"/></fields> <fields name="MESSAGE" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Message"/></label><position column="2"/><operation xsi:type="enquiry:DecisionOperation" leftField="CARRIER.TYPE" operand="Equals" rightField="SECUREMSG" firstField="MESS.MSG" secondField="MESS.E.S"/></fields></enquiry:Enquiry>