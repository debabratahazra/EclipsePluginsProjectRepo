<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="PM.NOSTRO.TXNS" fileName="name:/PM_Reports:NOFILE.PM.DPC#" noSelection="true" showAllBooks="false" startLine="5" endLine="18"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="PM.NOSTRO.TXNS"/></description><fixedSorts field="DATE"/><fixedSorts field="POSN.CLASS"/> <customSelection><selection field="ID2"></selection><selection field="DATE"></selection><operator>AND</operator></customSelection> <fields name="H.CCY.DESC" displayType="CLASS-ENQ.H.DATA" length="30" alignment="Left" commaSeparator="false" displaySection="Header"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Ccy"/></label><format format="User"/><position column="4" line="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:ExtractConversion" from="5" to="1" delimiter="."/><conversion xsi:type="enquiry:GetFromConversion" application="CURRENCY" field="CCY.NAME"/></fields> <fields name="HEADER1" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Transaction&quot;"/></fields> <fields name="HEADER2" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header"><position column="13" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Details&quot;"/></fields> <fields name="HEADER3" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Ccy&quot;"/></fields> <fields name="NULL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="TODAY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:TodayOperation"/></fields> <fields name="BACK.DATED" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;B/DATED&quot;"/></fields> <fields name="CURRENCY" length="3" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Currency"/></label><format format="User"/><position column="5"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="PM.CCY"/></fields> <fields name="GET.OPEN.BAL" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.PM.NOS.OPEN.BAL"/></conversion></fields> <fields name="OPENING.BALANCE" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:FieldExtractOperation" field="GET.OPEN.BAL"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="&gt;"/></fields> <fields name="OPENING.FBAL" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:FieldExtractOperation" field="GET.OPEN.BAL"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="&gt;"/></fields> <fields name="OBAL.TEXT" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Opening Balance&quot;"/></fields> <fields name="TEXT1" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;SETUP&quot;"/></fields> <fields name="SMARK" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&gt;&quot;"/></fields> <fields name="PART1" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:CalcOperation"><field>TEXT1</field><field>SMARK</field><operator>:</operator></operation></fields> <fields name="TXN.DTLS.COMMON" comments="Call the above routine to set up the common variables." alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:CalcOperation"><field>PART1</field><field>OPENING.BALANCE</field><operator>:</operator></operation><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.PM.NOS.TXNS"/></conversion></fields> <fields name="TXN.DTLS" comments="Call this routine to consolidate all DPC records withthe same date. Txn details will be added in fields 10 to 12 (txn id, class and amount)" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.PM.NOS.TXNS"/></conversion></fields> <fields name="PREVIOUS.DATE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="VALUE.DATE"/></fields> <fields name="VALUE.DATE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:ExtractConversion" from="6" to="1" delimiter="."/></fields> <fields name="DATE.DECIS" length="11" alignment="Right" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Date"/></label><format format="Date"/><position column="4"/><operation xsi:type="enquiry:DecisionOperation" leftField="PREVIOUS.DATE" operand="Equals" rightField="VALUE.DATE" firstField="NULL" secondField="VALUE.DATE"/></fields> <fields name="B.DATE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:BreakOnChangeOperation" field="VALUE.DATE"/></fields> <fields name="TXN.REF" length="40" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Transaction Ref"/></label><position column="17"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TXN.ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="*"/></fields> <fields name="B.TXN.REF" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:BreakOnChangeOperation" field="TXN.REF"/></fields> <fields name="TRAN.AMT.DIS" length="30" alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Transaction amount"/></label><format format="Currency" field="CURRENCY" pattern="-#"/><position column="37"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TXN.FAMT"/></fields> <fields name="TOT.TRAN.AMT" comments="Total per transaction is calculated in the routine E.PM.NOS.TXNS" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Txn Total"/></label><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TXN.TOT"/></fields> <fields name="RUNNING.BALANCE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldNumberOperation" number="15"/></fields> <fields name="BLANKS" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;XXXXXXXXXXXXXXXXXXX&quot;"/><conversion xsi:type="enquiry:ConvertConversion" oldData="X"/></fields> <fields name="OBAL.TEST" displayType="CLASS-ENQ.H.DATA" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><position column="60" line="4"/><operation xsi:type="enquiry:DecisionOperation" leftField="OBAL.TEST" operand="Equals" rightField="NULL" firstField="OPENING.FBAL" secondField="BLANKS"/></fields> <fields name="OBAL.TXT.TEST" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Opening Balance"/></label><position column="13" line="4"/><operation xsi:type="enquiry:DecisionOperation" leftField="OBAL.TXT.TEST" operand="Equals" rightField="NULL" firstField="OBAL.TEXT" secondField="BLANKS"/></fields> <fields name="DATE.TEST" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="VALUE.DATE" operand="LessThan" rightField="TODAY" firstField="BACK.DATED" secondField="VALUE.DATE"/></fields> <fields name="B.VALUE.DATE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:BreakOnChangeOperation" field="DATE.TEST"/></fields> <fields name="VBAL.TEXT" alignment="Left" commaSeparator="false"> <breakCondition field="B.VALUE.DATE"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Balance on&quot;"/></fields> <fields name="LAST.VALUE.DATE" alignment="Left" commaSeparator="false"> <breakCondition field="B.VALUE.DATE"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Last Value Date"/></label><format format="Date"/><operation xsi:type="enquiry:FieldExtractOperation" field="DATE.TEST"/></fields> <fields name="DISP.BAL.TEXT" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Balance"/></label><position column="60"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="VALUE.DATED.BAL" displayType="CLASS-AMNUM" length="30" alignment="Right" commaSeparator="false"> <breakCondition field="B.DATE"/><format format="Currency" field="CURRENCY" pattern="-#"/><position column="60" relative="-" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="RUNNING.BALANCE"/></fields> <fields name="TNRDC" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="TXN.REF"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="17"/></fields> <fields name="SYSTEM" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="TXN.REF"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="2"/></fields> <fields name="DC" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;DC&quot;"/></fields> <fields name="TNR" comments="Covert all spaces to null" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:DecisionOperation" leftField="SYSTEM" operand="Equals" rightField="DC" firstField="TNRDC" secondField="TXN.REF"/><conversion xsi:type="enquiry:ConvertConversion" oldData=" "/></fields> <fields name="SPACE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot; &quot;"/></fields> <fields name="NULL.02" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="TXN.ID" length="12" alignment="Right" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TXN.ID"/></fields> <fields name="NEXT.ENQ1" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot;PM.NOSTRO.DRILL&quot;"/></fields> <fields name="ENQ2" length="12" alignment="Right" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="TXN.ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.PM.GET.APPL"/></conversion></fields> <fields name="NEXT.ENQ2" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>ENQ2</field><field>SPACE</field><field>S</field><field>SPACE</field><field>TNR</field><operator>:</operator><operator>:</operator><operator>:</operator><operator>:</operator></operation></fields> <fields name="NEXT.ENQ" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:DecisionOperation" leftField="TXN.ID" operand="Equals" rightField="NULL" firstField="NEXT.ENQ1" secondField="NEXT.ENQ2"/></fields><drillDowns image="view.gif" fromField="NEXT.ENQ" labelField="TXN.REF"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Transactions"/></description></drillDowns></enquiry:Enquiry>