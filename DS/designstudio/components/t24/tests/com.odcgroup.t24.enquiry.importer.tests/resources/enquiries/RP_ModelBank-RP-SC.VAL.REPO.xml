<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="SC.VAL.REPO" fileName="name:/SC_ScvValuationUpdates:SC.POS.ASSET#" noSelection="true" showAllBooks="false" startLine="4" endLine="99"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="SC.VAL.REPO"/></description><buildRoutines xsi:type="enquiry:JBCRoutine" name="E.OL.VAL"/> <customSelection><selection field="@ID"></selection><selection field="SECURITY.ACC" mandatory="true"></selection><selection field="ONLINE.YNO" mandatory="true"></selection><operator>AND</operator><operator>AND</operator></customSelection> <fields name="TITLE1" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><position column="1" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Portfolio Evaluation - Trade Date&quot;"/></fields> <fields name="PAGE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:BreakLineOperation"/></fields> <fields name="PORTFOLIO.TEXT" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;A/C&quot;"/></fields> <fields name="ZERO" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;0&quot;"/></fields> <fields name="Z" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;0&quot;"/></fields> <fields name="NULL" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="DASH" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;-&quot;"/></fields> <fields name="SPACE" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot; &quot;"/></fields> <fields name="REF.CUR" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:FieldExtractOperation" field="ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.VAL.PARAM"/></conversion></fields> <fields name="HEADER" displayType="CLASS-ENQ.H.DATA.LABEL" length="15" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Once"/><position column="1" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Reference Ccy&quot;"/></fields> <fields name="REF.CCY" displayType="CLASS-ENQ.H.DATA" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Reference Ccy"/></label><position column="21" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="."/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="VALUATION.CURRENCY"/></fields> <fields name="SEC.ACC" displayType="CLASS-ENQ.H.DATA" length="14" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="A/C"/></label><position column="7" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="."/></fields> <fields name="SEC.NME" displayType="CLASS-ENQ.H.DATA" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><position column="22" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="."/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="-"/><conversion xsi:type="enquiry:GetFromConversion" application="CUSTOMER" field="SHORT.NAME" language="true"/></fields> <fields name="BLANKS" alignment="Left" commaSeparator="false"> <breakCondition break="Page"/><position column="24" line="19"/><operation xsi:type="enquiry:ConstantOperation" value="&quot; &quot;"/></fields> <fields name="CCY" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Ccy"/></label><position column="3"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SECURITY.CCY"/></fields> <fields name="SEC.CODE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SECURITY.NO"/></fields> <fields name="NOM.VAL" length="16" alignment="Right" commaSeparator="true" numberOfDecimals="4" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Nominal/Quantity"/></label><position column="6"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="NO.NOMINAL"/></fields> <fields name="NAME.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="NAME.DATE"/></fields> <fields name="LQ.YEAR" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="NAME.DATE"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="4"/></fields> <fields name="LQ.MONTH" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="NAME.DATE"/><conversion xsi:type="enquiry:ExtractConversion" from="5" to="2"/></fields> <fields name="DASH.DATEA" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>LQ.YEAR</field><field>SPACE</field><operator>:</operator></operation></fields> <fields name="DASH.DATEB" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>DASH.DATEA</field><field>LQ.MONTH</field><operator>:</operator></operation></fields> <fields name="SPACE.NAME" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>SPACE</field><field>DASH.DATEB</field><operator>:</operator></operation></fields> <fields name="DESC" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.CODE"/><conversion xsi:type="enquiry:GetFromConversion" application="SECURITY.MASTER" field="SHORT.NAME" language="true"/></fields> <fields name="NM.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SHORT.NAME"/></fields> <fields name="DE.MN" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:CalcOperation"><field>DESC</field><field>SPACE.NAME</field><operator>:</operator></operation></fields> <fields name="SEC.NO" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Description"/></label><position column="24"/><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.CODE"/></fields> <fields name="DESC.NAM" alignment="Left" commaSeparator="false" singleMulti="Multi"><position column="24" relative="+" line="1"/><operation xsi:type="enquiry:DecisionOperation" leftField="NM.DATE" operand="NotEquals" rightField="NULL" firstField="NM.DATE" secondField="DE.MN"/></fields> <fields name="COST" length="10" alignment="Right" commaSeparator="true" numberOfDecimals="3" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Cost Price"/></label><position column="38"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="COST.PRICE"/></fields> <fields name="MARKET" length="11" alignment="Right" commaSeparator="true" numberOfDecimals="3" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Market Price"/></label><position column="49"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="MARKET.PRICE"/></fields> <fields name="REF.CR" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="."/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="VALUATION.CURRENCY"/></fields> <fields name="EST" length="16" alignment="Right" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Estimation"/></label><format format="Currency" field="REF.CR" pattern="-#"/><position column="61"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ESTIMATION"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.VAL.RATE"/></conversion></fields> <fields name="INT" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ACCRUED.INT"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.VAL.RATE"/></conversion></fields> <fields name="F.INT" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="INT"/></fields> <fields name="INT.LIT" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot;ACCRUED INTEREST SINCE&quot;"/></fields> <fields name="IN.LIT" alignment="Left" commaSeparator="false" singleMulti="Multi"><position column="24" relative="+" line="2"/><operation xsi:type="enquiry:DecisionOperation" leftField="INT" operand="NotEquals" rightField="ZERO" firstField="INT.LIT" secondField="NULL"/></fields> <fields name="ACCRUAL.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="INTEREST.DATE"/><conversion xsi:type="enquiry:JulianConversion"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2/E"/></fields> <fields name="D.ACCRUAL.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><position column="48" relative="+" line="2"/><operation xsi:type="enquiry:DecisionOperation" leftField="INT" operand="NotEquals" rightField="ZERO" firstField="ACCRUAL.DATE" secondField="NULL"/></fields> <fields name="D.INT" length="10" alignment="Right" commaSeparator="false" singleMulti="Multi"><format format="Currency" field="REF.CR" pattern="-#"/><position column="67" relative="+" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="F.INT"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.VAL.INTEREST"/></conversion></fields> <fields name="MAT.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="HELD.SINCE"/><conversion xsi:type="enquiry:ExtractConversion" from="11" to="8"/></fields> <fields name="MAT.DATEY" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="MAT.DATE"/><conversion xsi:type="enquiry:JulianConversion"/><conversion xsi:type="enquiry:BasicOConversion" instruction="D2/E"/></fields> <fields name="MAT.LIT" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ConstantOperation" value="&quot;MATURITY DATE&quot;"/></fields> <fields name="D.MAT.LIT" alignment="Left" commaSeparator="false" singleMulti="Multi"><position column="24" relative="+" line="2"/><operation xsi:type="enquiry:DecisionOperation" leftField="MAT.DATE" operand="NotEquals" rightField="NULL" firstField="MAT.LIT" secondField="NULL"/></fields> <fields name="D.MAT.DATE" alignment="Left" commaSeparator="false" singleMulti="Multi"><position column="48" relative="+" line="2"/><operation xsi:type="enquiry:DecisionOperation" leftField="MAT.DATE" operand="NotEquals" rightField="NULL" firstField="MAT.DATEY" secondField="NULL"/></fields> <fields name="ID" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="B.ID" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:BreakOnChangeOperation" field="ID"/></fields> <fields name="B.SEC" alignment="Left" commaSeparator="false"><position pageThrow="true"/><operation xsi:type="enquiry:BreakOnChangeOperation" field="SEC.ACC"/></fields> <fields name="TOT.LIT" alignment="Left" commaSeparator="false"> <breakCondition field="B.ID"/><position column="24"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;TOTAL&quot;"/></fields> <fields name="CUST.GR" alignment="Left" commaSeparator="false"> <breakCondition field="B.ID"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Cust Gr"/></label><position column="30"/><operation xsi:type="enquiry:FieldExtractOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="."/><conversion xsi:type="enquiry:GetFromConversion" application="SUB.ASSET.TYPE" field="SHORT.DESCR" language="true"/></fields> <fields name="TOT.CUST" length="18" alignment="Right" commaSeparator="false"> <breakCondition field="B.ID"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Tot Cust"/></label><format format="Currency" field="REF.CCY" pattern="-#"/><position column="59"/><operation xsi:type="enquiry:TotalOperation" field="EST"/></fields> <fields name="BLANK" alignment="Left" commaSeparator="false"> <breakCondition field="B.ID"/><position column="1" relative="+" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot; &quot;"/></fields> <fields name="P.LIT1" alignment="Left" commaSeparator="false"> <breakCondition break="End"/><position column="26" line="5"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;PORTFOLIO TOTAL&quot;"/></fields> <fields name="PORT.TOT" length="18" alignment="Right" commaSeparator="false"> <breakCondition break="End"/><format format="Currency" field="REF.CCY" pattern="-#"/><position column="59" line="5"/><operation xsi:type="enquiry:TotalOperation" field="EST"/></fields> <fields name="P.LIT2" alignment="Left" commaSeparator="false"> <breakCondition break="End"/><position column="26" line="6"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;ACCRUED INTEREST&quot;"/></fields> <fields name="TOT.INT" length="15" alignment="Right" commaSeparator="false"> <breakCondition break="End"/><format format="Currency" field="REF.CCY" pattern="-#"/><position column="62" line="6"/><operation xsi:type="enquiry:TotalOperation" field="INT"/></fields> <fields name="P.LIT3" alignment="Left" commaSeparator="false"> <breakCondition break="End"/><position column="26" line="7"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;TOTAL INCL. ACCRUED INTEREST&quot;"/></fields> <fields name="ALL.TOT" length="18" alignment="Right" commaSeparator="false"> <breakCondition break="End"/><format format="Currency" field="REF.CCY" pattern="-#"/><position column="59" line="7"/><operation xsi:type="enquiry:CalcOperation"><field>PORT.TOT</field><field>TOT.INT</field><operator>+</operator></operation></fields> <fields name="SEC.ACC.SUFFIX" length="3" alignment="Left" commaSeparator="false"><format format="User"/><operation xsi:type="enquiry:DescriptorOperation" field="SEC.ACC.SUFFIX"/></fields> <fields name="MARGIN.PORT.TYPE" length="4" comments="Returns REPO or RESO" alignment="Left" commaSeparator="false" singleMulti="Single"> <breakCondition break="End"/><format format="User"/><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.ACC.SUFFIX"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.DETERMINE.MRGN.PORT.TYPE"/></conversion></fields> <fields name="SIGN.MARGIN.PORT" comments="Sign according to repo or reso in order to determine margin call" alignment="Left" commaSeparator="false" singleMulti="Single"> <breakCondition break="End"/><operation xsi:type="enquiry:FieldExtractOperation" field="MARGIN.PORT.TYPE"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="&quot;&quot;" newData="0"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="REPO" newData="1"/><conversion xsi:type="enquiry:ReplaceConversion" oldData="RESO" newData="-1"/></fields> <fields name="MARGIN.CALL" comments="If result GT 0 then call margin i.e. (if REPO and total GT 0) or (if RESO and total LT 0)" alignment="Left" commaSeparator="false" singleMulti="Single"> <breakCondition break="End"/><operation xsi:type="enquiry:CalcOperation"><field>SIGN.MARGIN.PORT</field><field>ALL.TOT</field><operator>*</operator></operation></fields> <fields name="WARNING.LIT" alignment="Left" commaSeparator="false" singleMulti="Single"> <breakCondition break="End"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*** INSUFFICIENT COLLATERAL ***&quot;"/></fields> <fields name="D.WARNING.LIT" length="34" alignment="Left" commaSeparator="false" singleMulti="Single"> <breakCondition break="End"/><position column="26" line="10"/><operation xsi:type="enquiry:DecisionOperation" leftField="MARGIN.CALL" operand="Greater" rightField="ZERO" firstField="WARNING.LIT" secondField="NULL"/></fields> <fields name="VAL.SEL" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SECURITY.NO"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.VAL.SELECTION"/></conversion></fields> <fields name="ENQ.NAME" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="VAL.SEL"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="~"/></fields> <fields name="ENQ.SEL" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="VAL.SEL"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="~"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="+"/></fields> <fields name="ENQ.SEL2" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="VAL.SEL"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="~"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="+"/></fields><drillDowns image="view.gif" fromField="ENQ.NAME" labelField="CCY"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Transaction Details"/></description> <criteria field="ENQ.SEL"/> <criteria field="ENQ.SEL2"/></drillDowns></enquiry:Enquiry>