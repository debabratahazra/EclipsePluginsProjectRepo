<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="SC.HOLD.SUM.BY.PF" fileName="name:/SC_ScoSecurityPositionUpdate:SECURITY.POSITION#" noSelection="true" showAllBooks="false" startLine="5" endLine="98"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Client Sec Position by Portfolio"/></description><buildRoutines xsi:type="enquiry:JBCRoutine" name="E.MB.INSERT.SELECTION"/><fixedSelections field="CLOSING.BAL.NO.NOM" operand="NotEquals"><values>0</values></fixedSelections><fixedSelections field="SECURITY.ACCOUNT" operand="NotMatches"><values>...-777</values></fixedSelections><fixedSelections field="SECURITY.ACCOUNT" operand="NotMatches"><values>...-999</values></fixedSelections><fixedSorts field="SECURITY.ACCOUNT"/><fixedSorts field="SECURITY.NUMBER"/> <customSelection><selection field="SECURITY.ACCOUNT" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Portfolio"/></label></selection><selection field="SECURITY.NUMBER"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Security No"/></label></selection><selection field="DEPOSITORY"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Depository"/></label></selection><selection field="CLOSING.BAL.NO.NOM"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Closing Bal Nominal"/></label></selection><operator>AND</operator><operator>AND</operator><operator>AND</operator></customSelection> <fields name="TITLE" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Client Security Position by Portfolio&quot;"/></fields> <fields name="SECURITY.ACCOUNT" length="18" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SECURITY.ACCOUNT"/></fields> <fields name="PORTFOLIO.TEXT" displayType="CLASS-ENQ.H.DATA.LABEL" length="15" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="Page"/><position column="1" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Portfolio: &quot;"/></fields> <fields name="PORTFOLIO.NO" displayType="CLASS-ENQ.H.DATA" length="18" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="Page"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Portfolio:"/></label><position column="16" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/></fields> <fields name="PORTFOLIO.DESC" displayType="CLASS-ENQ.H.DATA" length="35" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="Page"/><format format="User"/><position column="40" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="ACCOUNT.NAME"/></fields> <fields name="REF.CURRENCY.TEXT" displayType="CLASS-ENQ.H.DATA.LABEL" length="15" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="Page"/><position column="1" line="3"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Reference Ccy: &quot;"/></fields> <fields name="REF.CURRENCY" displayType="CLASS-ENQ.H.DATA" length="18" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Reference Ccy:"/></label><format format="User"/><position column="16" line="3"/><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="REFERENCE.CURRENCY"/></fields> <fields name="REF.CURRENCY.DESC" displayType="CLASS-ENQ.H.DATA" length="35" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><format format="User"/><position column="40" line="3"/><operation xsi:type="enquiry:FieldExtractOperation" field="REF.CURRENCY"/><conversion xsi:type="enquiry:GetFromConversion" application="CURRENCY.PARAM" field="CCY.NAME"/></fields> <fields name="INV.PROGRAM.TEXT" displayType="CLASS-ENQ.H.DATA.LABEL" length="15" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><position column="1" line="4"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Investment Pgm:&quot;"/></fields> <fields name="INV.PROGRAM" displayType="CLASS-ENQ.H.DATA" length="18" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Investment Pgm:"/></label><format format="User"/><position column="16" line="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="INVESTMENT.PROGRAM"/></fields> <fields name="INV.PROGRAM.DESC" displayType="CLASS-ENQ.H.DATA" length="35" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="Page"/><format format="User"/><position column="40" line="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="INV.PROGRAM"/><conversion xsi:type="enquiry:GetFromConversion" application="INVESTMENT.PROGRAM" field="DESCRIPTION"/></fields> <fields name="@ID" length="80" alignment="Right" commaSeparator="false" singleMulti="Single" hidden="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Trans Ref"/></label><position column="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="SEC.NO" length="12" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Security"/></label><position column="2"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SECURITY.NUMBER"/></fields> <fields name="ISIN" length="12" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="ISIN"/></label><position column="3"/><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.NO"/><conversion xsi:type="enquiry:GetFromConversion" application="SECURITY.MASTER" field="I.S.I.N."/></fields> <fields name="SEC.NAME" length="35" alignment="Left" commaSeparator="false" hidden="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Sec Name"/></label><position column="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.NO"/><conversion xsi:type="enquiry:GetFromConversion" application="SECURITY.MASTER" field="SHORT.NAME"/></fields> <fields name="DEPO" length="10" alignment="Right" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Depot"/></label><position column="5"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="DEPOSITORY"/></fields> <fields name="DEP.NAME" length="35" alignment="Left" commaSeparator="false" hidden="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Depot Name"/></label><position column="6"/><operation xsi:type="enquiry:FieldExtractOperation" field="DEPO"/><conversion xsi:type="enquiry:GetFromConversion" application="CUSTOMER" field="SHORT.NAME"/></fields> <fields name="SUB.ACCOUNT" length="16" alignment="Right" commaSeparator="false" singleMulti="Single" hidden="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Sub Account"/></label><position column="7"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="SUB.ACCOUNT"/></fields> <fields name="CLOSING.BAL.NO.NOM" displayType="CLASS-POSNEG" length="18" alignment="Right" commaSeparator="true" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Position"/></label><position column="8"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="CLOSING.BAL.NO.NOM"/></fields> <fields name="NET.OPEN.ORD.POS" displayType="CLASS-POSNEG" length="18" alignment="Right" commaSeparator="true" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Open Order Position"/></label><position column="9"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="NET.OPEN.ORD.POS"/></fields> <fields name="VALUE.DATED.POSN" displayType="CLASS-POSNEG" length="18" alignment="Right" commaSeparator="true" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Vd Position"/></label><position column="10"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="VALUE.DATED.POSN"/></fields> <fields name="UNSETTLED.NOM.CR" length="18" alignment="Right" commaSeparator="true" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Unsett Cr."/></label><position column="11"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="UNSETTLED.NOM.CR"/></fields> <fields name="UNSETTLED.NOM.DR" length="18" alignment="Right" commaSeparator="true" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Unsett Dr"/></label><position column="12"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="UNSETTLED.NOM.DR"/></fields> <fields name="RATE.REC" length="80" comments="Returns rate and value in 3 items as local, sc and ref ccy" alignment="Right" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.MARKET.PRICE"/></conversion></fields> <fields name="PORT.CCY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/><conversion xsi:type="enquiry:GetFromConversion" application="SEC.ACC.MASTER" field="REFERENCE.CURRENCY"/></fields> <fields name="PRICE.CCY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.NO"/><conversion xsi:type="enquiry:GetFromConversion" application="SECURITY.MASTER" field="PRICE.CURRENCY"/></fields> <fields name="SEC.CURR" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.NO"/><conversion xsi:type="enquiry:GetFromConversion" application="SECURITY.MASTER" field="SECURITY.CURRENCY"/></fields> <fields name="FREE.NOM.PEND" displayType="CLASS-POSNEG" length="12" alignment="Right" commaSeparator="true" singleMulti="Single" hidden="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Pend. Receipts"/></label><position column="13"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="FREE.NOM.PEND"/></fields> <fields name="AMT.BLOCKED" length="18" alignment="Right" commaSeparator="true" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Blocked"/></label><position column="14"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="AMT.BLOCKED"/></fields> <fields name="PRI.CCY" length="3" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Price Ccy"/></label><position column="15"/><operation xsi:type="enquiry:FieldExtractOperation" field="PRICE.CCY"/></fields> <fields name="RATE.PRICE" comments="Defines if price is a rate or a price" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="RATE.REC"/><conversion xsi:type="enquiry:ExtractConversion" from="7" to="1" delimiter="*"/></fields> <fields name="MARKET.PRICE" comments="Market price in security ccy" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="RATE.REC"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="*"/></fields> <fields name="DISP.RATE" alignment="Left" commaSeparator="false"><format format="Rate"/><operation xsi:type="enquiry:FieldExtractOperation" field="MARKET.PRICE"/></fields> <fields name="DISP.PRICE" alignment="Left" commaSeparator="false"><format format="Rate"/><operation xsi:type="enquiry:FieldExtractOperation" field="MARKET.PRICE"/></fields> <fields name="DISP.RATE.PRICE" length="18" alignment="Right" commaSeparator="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Price/Rate"/></label><position column="16"/><operation xsi:type="enquiry:DecisionOperation" leftField="RATE.PRICE" operand="Equals" rightField="RATE" firstField="DISP.RATE" secondField="DISP.PRICE"/></fields> <fields name="SEC.CCY" length="3" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Sec Ccy"/></label><format format="User"/><position column="17"/><operation xsi:type="enquiry:FieldExtractOperation" field="SEC.CURR"/></fields> <fields name="VALUE" displayType="CLASS-POSNEG" length="20" alignment="Right" commaSeparator="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Value(Sec.Ccy)"/></label><format format="Currency" field="SEC.CCY" pattern="-#"/><position column="18"/><operation xsi:type="enquiry:FieldExtractOperation" field="RATE.REC"/><conversion xsi:type="enquiry:ExtractConversion" from="4" to="1" delimiter="*"/></fields> <fields name="AST" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;*&quot;"/></fields> <fields name="CONV.CCY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>AST</field><field>SEC.CCY</field><operator>:</operator></operation></fields> <fields name="CONV.CCY.1" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CONV.CCY</field><field>AST</field><operator>:</operator></operation></fields> <fields name="CONV.CCY.2" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CONV.CCY.1</field><field>PRICE.CCY</field><operator>:</operator></operation></fields> <fields name="CONV.CCY.3" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>AST</field><field>PRICE.CCY</field><operator>:</operator></operation></fields> <fields name="CONV.CCY.4" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CONV.CCY.3</field><field>AST</field><operator>:</operator></operation></fields> <fields name="CONV.CCY.5" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CONV.CCY.4</field><field>PORT.CCY</field><operator>:</operator></operation></fields> <fields name="VALUE.DIS.CCY" alignment="Left" commaSeparator="false"><format format="Currency" field="SEC.CCY" pattern="-#"/><operation xsi:type="enquiry:CalcOperation"><field>VALUE</field><field>CONV.CCY.5</field><operator>:</operator></operation><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SC.PF.VALUE.REF"/></conversion></fields> <fields name="REF.AMT" alignment="Left" commaSeparator="false"><format format="Currency" field="SEC.CCY" pattern="-#"/><operation xsi:type="enquiry:FieldExtractOperation" field="VALUE.DIS.CCY"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.MB.SC.PF.HOLD.CONVERT"/></conversion></fields> <fields name="VALUE.REF.CCY" displayType="CLASS-POSNEG" length="18" alignment="Right" commaSeparator="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Value Ref Ccy"/></label><position column="19"/><operation xsi:type="enquiry:FieldExtractOperation" field="RATE.REC"/><conversion xsi:type="enquiry:ExtractConversion" from="5" to="1" delimiter="*"/></fields> <fields name="DATA" length="80" alignment="Right" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="UNREAL.PL" displayType="CLASS-POSNEG" length="20" alignment="Right" commaSeparator="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Unrealised PL"/></label><format format="Currency" field="SEC.CCY" pattern="-#"/><position column="20"/><operation xsi:type="enquiry:CalcOperation"><field>VALUE</field><field>GROSS.COST.SEC.CCY</field><operator>-</operator></operation></fields> <fields name="CUST" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="SECURITY.ACCOUNT"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="-"/></fields> <fields name="CG.KEY1" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CUST</field><field>&quot;.&quot;</field><operator>:</operator></operation></fields> <fields name="CG.KEY2" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CG.KEY1</field><field>SECURITY.ACCOUNT</field><operator>:</operator></operation></fields> <fields name="CG.KEY3" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CG.KEY2</field><field>&quot;.&quot;</field><operator>:</operator></operation></fields> <fields name="CG.KEY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>CG.KEY3</field><field>SEC.NO</field><operator>:</operator></operation></fields> <fields name="FCG.KEY" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="CG.KEY"/></fields> <fields name="ID.FORMAT" length="30" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="@ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.SEC.POS.ID"/></conversion></fields> <fields name="SELL" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;SEC.OPEN.ORDER,SELL I F3&quot;"/></fields> <fields name="NOS" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;SEC.OPEN.ORDER,SELL.POS I F3&quot;"/></fields> <fields name="DDOWN" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="CLOSING.BAL.NO.NOM" operand="Greater" rightField="0" firstField="SELL" secondField="NOS"/></fields><drillDowns enquiry="SEC.MOVEMENTS.BY.PORTFOLIO" labelField="@ID"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Security Movements"/></description> <criteria field="REF.NO" operand="Equals"><values>ID.FORMAT</values></criteria></drillDowns><drillDowns enquiry="SC.SETT.FRONT" labelField="@ID"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Outstanding Settlements"/></description> <criteria field="SECURITY.NUMBER" operand="Equals"><values>SEC.NO</values></criteria> <criteria field="DEPOSITORY" operand="Equals"><values>DEPO</values></criteria> <criteria field="CU.PORTFOLIO" operand="Equals"><values>SECURITY.ACCOUNT</values></criteria></drillDowns><drillDowns fromField="DDOWN" labelField="@ID"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Sell Position"/></description> <criteria field="SECURITY.POSITION" operand="&gt;"><values>@ID</values></criteria></drillDowns><drillDowns screen="SEC.OPEN.ORDER,BUY.MORE" labelField="@ID"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Buy More"/></description> <criteria field="SECURITY.POSITION" operand="&gt;"><values>@ID</values></criteria><parameters function="Input" auto="true"/></drillDowns><drillDowns enquiry="CG.TXN.DETAILS" labelField="@ID"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Book Cost"/></description> <criteria field="CUST.GRP.SEC" operand="Equals"><values>FCG.KEY</values></criteria></drillDowns><attributes>ALLDATA</attributes></enquiry:Enquiry>