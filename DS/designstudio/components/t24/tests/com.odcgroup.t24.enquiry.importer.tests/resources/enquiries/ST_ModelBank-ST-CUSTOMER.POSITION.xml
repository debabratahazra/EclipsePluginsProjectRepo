<?xml version="1.0" encoding="UTF-8"?> <enquiry:Enquiry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enquiry="http://www.odcgroup.com/t24/Enquiry" xmlns:translationDsl="http://www.odcgroup.com/translation/TranslationDsl" name="CUSTOMER.POSITION" fileName="name:/ST_Customer:CUSTOMER.POSITION#" noSelection="true" showAllBooks="false" startLine="4" endLine="99"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Client Details"/></description><header column="1" line="2"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="A/Off  :"/></label></header><buildRoutines xsi:type="enquiry:JBCRoutine" name="E.BUILD.CUS.POSITION"/><fixedSelections field="LIMIT.LEVEL" operand="Equals"><values>PRODUCT</values><values>NULL</values></fixedSelections><fixedSelections field="EB.SYSTEM.ID" operand="NotEquals"><values>LIUT</values><values>FX</values><values>SCS</values><values>SCB</values><values>ND</values></fixedSelections><fixedSelections field="DEAL.AMOUNT" operand="NotEquals"><values>NULL</values></fixedSelections><fixedSorts field="CUSTOMER"/><fixedSorts field="SORT.POSITION"/><fixedSorts field="MATURITY.DATE"/><fixedSorts field="TRANS.REF"/> <customSelection><selection field="CUSTOMER.NO" mandatory="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Customer Number"/></label><operands>Equals</operands></selection><selection field="CATEGORY"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Product"/></label></selection><selection field="SORT.POSITION"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Sort Position"/></label></selection><selection field="AC.NO.DAYS"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Ac.No.Days"/></label><operands>Equals</operands></selection><selection field="EB.SYSTEM.ID"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="System id"/></label></selection><selection field="ASSET.LIAB.MARKER"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="AL Marker"/></label></selection><operator>AND</operator><operator>AND</operator><operator>AND</operator><operator>AND</operator><operator>AND</operator></customSelection> <fields name="ASTERIX" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*&quot;"/></fields> <fields name="F" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;F&quot;"/></fields> <fields name="HEADER" displayType="CLASS-ENQ.H.TITLE" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="0"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Client Details&quot;"/></fields> <fields name="HEADER2" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Client&quot;"/></fields> <fields name="HEADER3" displayType="CLASS-ENQ.H.DATA.LABEL" alignment="Left" commaSeparator="false" displaySection="Header"><position column="1" line="2"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;A/Off :&quot;"/></fields> <fields name="ENQUIRY.NAME" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;CUS.POSITION&quot;"/></fields> <fields name="TODAY" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:TodayOperation"/></fields> <fields name="LOCAL.CCY" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:LocalCurrencyOperation"/></fields> <fields name="PERC" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;PERC&quot;"/></fields> <fields name="CPE.TYPE" length="10" comments="Defines the enquiry type used to link to CUS.POS.ENQ.PARAM" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><format format="User"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="DETAIL.NEXT.LEVEL" length="1" comments="Denotes that the drilldown should be to the detail (i.e transasction level from this enquiry)" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><format format="User"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;Y&quot;"/></fields> <fields name="STAR" comments=" be to the detail (i.e transasction level from this enquiry)" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;*&quot;"/></fields> <fields name="\NULL" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;&quot;"/></fields> <fields name="MINUS1" comments=" to link to CUS.POS.ENQ.PARAM" alignment="Left" commaSeparator="false"> <breakCondition break="Once"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;-1&quot;"/></fields> <fields name="CUSTOMER" length="60" comments="Customer number be to the detail (i.e transasction level from this enquiry)" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:ExtractConversion" from="2" delimiter="*"/></fields> <fields name="CPEP.RECORD" length="50" alignment="Left" commaSeparator="false"><format format="User"/><operation xsi:type="enquiry:DescriptorOperation" field="CPEP.RECORD"/></fields> <fields name="AMT.TO.TAKE" comments="Indicates amount to be used for display" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="CPEP.RECORD"/><conversion xsi:type="enquiry:ExtractConversion" from="4" delimiter="&gt;"/></fields> <fields name="AL.TYPE" comments="Asset or Liab indicator display" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="CPEP.RECORD"/><conversion xsi:type="enquiry:ExtractConversion" from="6" delimiter="&gt;"/></fields> <fields name="BRKCUS" alignment="Left" commaSeparator="false"><position pageThrow="true"/><operation xsi:type="enquiry:BreakOnChangeOperation" field="CUSTOMER"/></fields> <fields name="DISP.CUST" displayType="CLASS-ENQ.H.ID" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="NewPage"/><position column="10" line="1"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="*"/></fields> <fields name="CUSTOMER.NAME" displayType="CLASS-ENQ.H.ID" length="35" comments=" display" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="NewPage"/><format format="User"/><position column="20" line="1"/><operation xsi:type="enquiry:FieldExtractOperation" field="DISP.CUST"/><conversion xsi:type="enquiry:GetFromConversion" application="CUSTOMER" field="2"/></fields> <fields name="ACCT.OFFICER" displayType="CLASS-ENQ.H.ID" alignment="Left" commaSeparator="false" displaySection="Header" singleMulti="Single"> <breakCondition break="NewPage"/><position column="10" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="CUSTOMER"/><conversion xsi:type="enquiry:GetFromConversion" application="CUSTOMER" field="11"/></fields> <fields name="ACCT.OFFICER.NAME" displayType="CLASS-ENQ.H.DATA" length="35" alignment="Left" commaSeparator="false" displaySection="Header"> <breakCondition break="NewPage"/><position column="20" line="2"/><operation xsi:type="enquiry:FieldExtractOperation" field="ACCT.OFFICER"/><conversion xsi:type="enquiry:GetFromConversion" application="DEPT.ACCT.OFFICER" field="2"/></fields> <fields name="CONVERT.RECORD" comments="Convert amounts to local" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="LOCAL.CCY"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.CUS.POSITION.EXCHANGE"/></conversion></fields> <fields name="EB.SYSTEM.ID" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="3" to="1" delimiter="*"/></fields> <fields name="MODULE" length="2" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Module"/></label><position column="4"/><operation xsi:type="enquiry:FieldExtractOperation" field="EB.SYSTEM.ID"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="2"/></fields> <fields name="TXN.REF" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Transaction Ref"/></label><position column="7"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ID"/><conversion xsi:type="enquiry:ExtractConversion" from="6" to="1" delimiter="*"/></fields> <fields name="CUP.ID" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="@ID"/></fields> <fields name="NARRATIVE" length="30" comments="This should not be displayed directly, but should extracted from the field DISPLAY.NARR... to ensure multi vlaues are preserved" alignment="Left" commaSeparator="false" singleMulti="Multi"><operation xsi:type="enquiry:FieldExtractOperation" field="CPEP.RECORD"/><conversion xsi:type="enquiry:ExtractConversion" from="3" to="1" delimiter="&gt;"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.CUS.NARRATIVE"/></conversion></fields> <fields name="DISPLAY.NARRATIVE" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Display Narrative"/></label><format format="User"/><position column="25"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="DISPLAY.NARRATIVE"/></fields> <fields name="NEXT.ENQ" comments="Returns the next enquiry and selection separted by a &gt; from the field DISPLAY.NARR... to ensure multi vlaues are preserved" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:FieldExtractOperation" field="CUP.ID"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.MB.CUS.POS.NEXT.LEVEL"/></conversion></fields> <fields name="DEAL.CCY" length="3" alignment="Left" commaSeparator="false" singleMulti="Single"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Deal Ccy"/></label><position column="56"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="DEAL.CCY"/></fields> <fields name="PERC.AMOUNT" comments=" selection separted by a &gt;" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="PERC.AMOUNT"/></fields> <fields name="DEAL.AMOUNT" comments=" directly, but should extracted from the field DISPLAY.NARR... to ensure multi vlaues are preserved" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="DEAL.AMOUNT"/></fields> <fields name="DEAL.USE.AMT" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="AMT.TO.TAKE" operand="Equals" rightField="PERC" firstField="PERC.AMOUNT" secondField="DEAL.AMOUNT"/></fields> <fields name="DEAL.USE.AMT.OPP" comments=" selection separted by a &gt;" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>DEAL.USE.AMT</field><field>MINUS1</field><operator>*</operator></operation></fields> <fields name="A.L" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="ASSET.LIAB.MARKER"/></fields> <fields name="USE.AL" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:DecisionOperation" leftField="AL.TYPE" operand="NotEquals" rightField="NULL" firstField="AL.TYPE" secondField="A.L"/></fields> <fields name="DISP.AMT" displayType="CLASS-POSNEG" length="19" alignment="Right" commaSeparator="true"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Display Amount"/></label><format format="Currency" field="DEAL.CCY" pattern="#-"/><position column="60"/><operation xsi:type="enquiry:DecisionOperation" leftField="USE.AL" operand="Equals" rightField="A.L" firstField="DEAL.USE.AMT" secondField="DEAL.USE.AMT.OPP"/></fields> <fields name="MARGIN.PERC" alignment="Left" commaSeparator="false"><format format="Rate"/><operation xsi:type="enquiry:DescriptorOperation" field="MARGIN.PERC"/></fields> <fields name="MARGIN.NARR" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="MARGIN.PERC" operand="NotEquals" rightField="NULL" firstField="STAR" secondField="NULL"/></fields> <fields name="VALUE.DATE" alignment="Left" commaSeparator="false" singleMulti="Single"><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="VALUE.DATE"/></fields> <fields name="MARGIN.DISP" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Margin Display"/></label><position column="79"/><operation xsi:type="enquiry:DecisionOperation" leftField="AMT.TO.TAKE" operand="Equals" rightField="PERC" firstField="MARGIN.NARR" secondField="NULL"/></fields> <fields name="FORWARD.IND" alignment="Left" commaSeparator="false"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Forward Date"/></label><position column="80"/><operation xsi:type="enquiry:DecisionOperation" leftField="VALUE.DATE" operand="Greater" rightField="TODAY" firstField="F" secondField="NULL"/></fields> <fields name="COLL.RGHT.COVER" length="15" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Coll Right Cover"/></label><position column="81"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="COLL.RGHT.COVER"/></fields> <fields name="COLL.RIGHT" length="15" alignment="Left" commaSeparator="false" singleMulti="Multi"><label xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Coll Right"/></label><position column="91"/><operation xsi:type="enquiry:ApplicationFieldNameOperation" field="COLL.RIGHT"/></fields> <fields name="LOCAL.AMOUNT" comments="The local equivalent for the comparison and totals" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="CONVERT.RECORD"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="&gt;"/></fields> <fields name="LOCAL.PERC.AMOUNT" comments="The local equivalent of a percentag" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="CONVERT.RECORD"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="&gt;"/></fields> <fields name="LOC.AMT.USE" comments=" comparison and totals" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="AMT.TO.TAKE" operand="Equals" rightField="PERC" firstField="LOCAL.PERC.AMOUNT" secondField="LOCAL.AMOUNT"/></fields> <fields name="LOC.AMT.USE.OPP" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:CalcOperation"><field>LOC.AMT.USE</field><field>MINUS1</field><operator>*</operator></operation></fields> <fields name="DISP.LOC.AMT.USE" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="USE.AL" operand="Equals" rightField="A.L" firstField="LOC.AMT.USE" secondField="LOC.AMT.USE.OPP"/></fields> <fields name="LIAL" comments=" comparison and totals" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;LIAL&quot;"/></fields> <fields name="ZERO" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;0&quot;"/></fields> <fields name="NON.LIMITS" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="EB.SYSTEM.ID" operand="Equals" rightField="LIAL" firstField="ZERO" secondField="DISP.LOC.AMT.USE"/></fields> <fields name="TOTAL.NON.LIMITS" alignment="Left" commaSeparator="false"> <breakCondition field="BRKCUS"/><operation xsi:type="enquiry:TotalOperation" field="NON.LIMITS"/></fields> <fields name="LIMITS" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:DecisionOperation" leftField="EB.SYSTEM.ID" operand="Equals" rightField="LIAL" firstField="DISP.LOC.AMT.USE" secondField="ZERO"/></fields> <fields name="TOT.LIMITS" alignment="Left" commaSeparator="false"> <breakCondition field="BRKCUS"/><operation xsi:type="enquiry:TotalOperation" field="LIMITS"/></fields> <fields name="CAP.LIMIT" alignment="Left" commaSeparator="false"> <breakCondition field="BRKCUS"/><operation xsi:type="enquiry:SelectionOperation" field="CUSTOMER.NO"/><conversion xsi:type="enquiry:CallRoutine"><routine xsi:type="enquiry:JBCRoutine" name="@ E.CAP.LIMIT.AMOUNT"/></conversion></fields> <fields name="MAX.LIMITS" alignment="Left" commaSeparator="false"> <breakCondition field="BRKCUS"/><operation xsi:type="enquiry:DecisionOperation" leftField="TOT.LIMITS" operand="Greater" rightField="CAP.LIMIT" firstField="CAP.LIMIT" secondField="TOT.LIMITS"/></fields> <fields name="TOTAL.NARR" alignment="Left" commaSeparator="false" escapeSequence="RV"> <breakCondition field="BRKCUS"/><position column="25" relative="+" line="1"/><operation xsi:type="enquiry:ConstantOperation" value="&quot;TOTAL VALUE IN LOCAL CCY :&quot;"/></fields> <fields name="TOTAL.LOCAL" length="19" alignment="Right" commaSeparator="false" escapeSequence="RV" singleMulti="Single"> <breakCondition field="BRKCUS"/><format format="Currency" field="LOCAL.CCY" pattern="#-"/><position column="60" relative="+" line="1"/><operation xsi:type="enquiry:CalcOperation"><field>TOTAL.NON.LIMITS</field><field>MAX.LIMITS</field><operator>+</operator></operation></fields> <fields name="NENQ" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="NEXT.ENQ"/><conversion xsi:type="enquiry:ExtractConversion" from="1" to="1" delimiter="&gt;"/></fields> <fields name="NEXT.SEL1" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="NEXT.ENQ"/><conversion xsi:type="enquiry:ExtractConversion" from="2" to="1" delimiter="&gt;"/></fields> <fields name="NEXT.SEL2" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:FieldExtractOperation" field="NEXT.ENQ"/><conversion xsi:type="enquiry:ExtractConversion" from="3" to="1" delimiter="&gt;"/></fields> <fields name="APPEND.MB" alignment="Left" commaSeparator="false"><operation xsi:type="enquiry:ConstantOperation" value="&quot;MB.&quot;"/></fields><drillDowns fromField="NENQ" labelField="MODULE"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="More detail..."/></description> <criteria field="NEXT.SEL1"/> <criteria field="NEXT.SEL2"/></drillDowns><drillDowns enquiry="CO.100" labelField="MODULE"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Collateral Cover Details"/></description> <criteria field="COLLATERAL.RIGHT" operand="Equals"><values>COLL.RGHT.COVER</values></criteria></drillDowns><drillDowns enquiry="CO.010" labelField="MODULE"> <description xsi:type="translationDsl:LocalTranslations"><translations locale="en" text="Collateral Right Details"/></description> <criteria field="COLLAT.RIGHT" operand="Equals"><values>COLL.RIGHT</values></criteria></drillDowns></enquiry:Enquiry>