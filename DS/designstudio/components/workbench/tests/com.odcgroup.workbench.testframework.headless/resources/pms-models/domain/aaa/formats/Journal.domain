# UTF-8
Domain AAAFormatsJournal 
	@java:Package (value=com.odcgroup.aaa.formats) 
namespace "http://www.odcgroup.com/aaa-formats-journal" 
metamodelVersion 4.3.0.20110527 
Classes { 
	/* PCK_DS_JOURNAL */ 
	PCK_DS_JOURNAL 
		@aaa:FormatColumnFilter (value=CASHVIEW_FILTER) 
		@aaa:FormatFunction (value=Journal) 
		@sql:SQLName (value=PCK_DS_JOURNAL) 
		@aaa:TripleA (ColumnFilter=CASHVIEW_FILTER, EntitySQLName=extended_pos, FinFuncName=Journal, FinFuncProcName=journal, FormatName=PCK_DS_JOURNAL) 
	{ 
		/* ACCOUNT_CODE */ 
		ACCOUNT_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Kontonummer, en="Account Code", fr="Code du compte") 
			@sql:SQLName (value=ACCOUNT_CODE) 
			@aaa:TripleA (FormatEltName=ACCOUNT_CODE, Rank=287, ScriptDef="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_de) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_en) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_fr) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* account_id */ 
		account_id : AAABusinessTypes:Id 
			@sql:SQLName (value=account_id) 
			@aaa:TripleA (FormatEltName=account_id, Rank=16, ScriptDef="IF( instr_id.nature_e = 4, instr_id, NULL)") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, instr_id, NULL)") 
		
		/* ACCOUNTING_DATE */ 
		ACCOUNTING_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Buchungsdatum, en="Accouting Date", fr="Date de comptabilisation") 
			@sql:SQLName (value=ACCOUNTING_DATE) 
			@aaa:TripleA (FormatEltName=ACCOUNTING_DATE, Rank=442, ScriptDef=account_d) 
			@aaa:scpt (value=account_d) 
		
		/* BALANCE_PER_0 */ 
		BALANCE_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=BALANCE_PER_0) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_0, Rank=120, ScriptDef="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_1 */ 
		BALANCE_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=BALANCE_PER_1) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_1, Rank=121, ScriptDef="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_2 */ 
		BALANCE_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine Prochaine") 
			@sql:SQLName (value=BALANCE_PER_2) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_2, Rank=122, ScriptDef="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_3 */ 
		BALANCE_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=BALANCE_PER_3) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_3, Rank=123, ScriptDef="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_4 */ 
		BALANCE_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=BALANCE_PER_4) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_4, Rank=124, ScriptDef="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_5 */ 
		BALANCE_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=BALANCE_PER_5) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_5, Rank=125, ScriptDef="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_6 */ 
		BALANCE_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=BALANCE_PER_6) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_6, Rank=126, ScriptDef="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_7 */ 
		BALANCE_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=BALANCE_PER_7) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_7, Rank=127, ScriptDef="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BEGIN_DATE */ 
		BEGIN_DATE : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Anfangsdatum, en="Begin Date", fr="Date de début") 
			@sql:SQLName (value=BEGIN_DATE) 
			@aaa:TripleA (FormatEltName=BEGIN_DATE, Rank=604, ScriptDef="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (5, 7) {Money Market, Forward} AND open_oper_id.instr_id.generic_f = 1, DATESTR(GET_EXT_OP(open_oper_id.ref_oper_code).operation_d), {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (5, 7) AND open_oper_id.instr_id.generic_f = 1, DATESTR(operation_d), {ELSE} IF( open_oper_id.instr_id.nature_e IN (2, 11, 18, 19) {Fixed Income, Discount Instrument, Option Bond, Convertible Bond}, RIGHT(DATESTR(open_oper_id.instr_id.begin_d), 4), {ELSE} DATESTR(open_oper_id.instr_id.begin_d) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (5, 7) {Money Market, Forward} AND open_oper_id.instr_id.generic_f = 1, DATESTR(GET_EXT_OP(open_oper_id.ref_oper_code).operation_d), {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (5, 7) AND open_oper_id.instr_id.generic_f = 1, DATESTR(operation_d), {ELSE} IF( open_oper_id.instr_id.nature_e IN (2, 11, 18, 19) {Fixed Income, Discount Instrument, Option Bond, Convertible Bond}, RIGHT(DATESTR(open_oper_id.instr_id.begin_d), 4), {ELSE} DATESTR(open_oper_id.instr_id.begin_d) ) ) )") 
		
		/* CASH_FBAL_FILTER */ 
		CASH_FBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_FBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_FBAL_FILTER, Rank=32, ScriptDef="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASH_IBAL_FILTER */ 
		CASH_IBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_IBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_IBAL_FILTER, Rank=30, ScriptDef="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASHVIEW_FILTER */ 
		CASHVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASHVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=CASHVIEW_FILTER, Rank=26, ScriptDef="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
			@aaa:scpt (value="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
		
		/* CHILD_PTF_CODE */ 
		CHILD_PTF_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Sub-Portfolio, en="Child Portfolio", fr="Portefeuille enfant") 
			@sql:SQLName (value=CHILD_PTF_CODE) 
			@aaa:TripleA (FormatEltName=CHILD_PTF_CODE, Rank=265, ScriptDef="{IF(child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code)} IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
			@aaa:scpt (value="{IF(child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code)} IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=4, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
		
		/* CONTRACT_SIZE */ 
		CONTRACT_SIZE : AAABusinessTypes:Number 
			@i18n:Label (de="Kontraktgrösse", en="Contract Size", fr="Taille du contrat") 
			@sql:SQLName (value=CONTRACT_SIZE) 
			@aaa:TripleA (FormatEltName=CONTRACT_SIZE, Rank=335, ScriptDef="IF( open_oper_id.instr_id.contract_size_n <> NULL AND open_oper_id.instr_id.contract_size_n <> 0, open_oper_id.instr_id.contract_size_n, 1 )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.contract_size_n <> NULL AND open_oper_id.instr_id.contract_size_n <> 0, open_oper_id.instr_id.contract_size_n, 1 )") 
		
		/* COST_PRICE */ 
		COST_PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Einstandspreis, en="Cost Price", fr="Prix d\'achat") 
			@sql:SQLName (value=COST_PRICE) 
			@aaa:TripleA (FormatEltName=COST_PRICE, Rank=603, ScriptDef="IF(open_oper_nat_e IN(4, 10, 13), IF(pos_nat_e=2,quote_n, instr_ext_pos_id.quote_n), IF(open_oper_nat_e = 5, IF(pos_nat_e=2,-1*quote_n, -1*instr_ext_pos_id.quote_n), IF(open_oper_nat_e IN(3, 6), IF(pos_nat_e=1,-1*quote_n, -1*main_ext_pos_id.quote_n), IF(pos_nat_e=1,quote_n, main_ext_pos_id.quote_n))))") 
			@aaa:scpt (value="IF(open_oper_nat_e IN(4, 10, 13), IF(pos_nat_e=2,quote_n, instr_ext_pos_id.quote_n), IF(open_oper_nat_e = 5, IF(pos_nat_e=2,-1*quote_n, -1*instr_ext_pos_id.quote_n), IF(open_oper_nat_e IN(3, 6), IF(pos_nat_e=1,-1*quote_n, -1*main_ext_pos_id.quote_n), IF(pos_nat_e=1,quote_n, main_ext_pos_id.quote_n))))") 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währungsklassifikationscode", en="Currency Classification Code", fr="Code de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_CODE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} {instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code} IF (@CURR_CLASS_RANK = 99, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {pos_currency_id.SYNONYM[GET_APPL_PARAM(\"DS_CURRENCY_CODE\")].code)} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} {instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code} IF (@CURR_CLASS_RANK = 99, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {pos_currency_id.SYNONYM[GET_APPL_PARAM(\"DS_CURRENCY_CODE\")].code)} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_de : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_de) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_en : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_en) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_fr : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_fr) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_de) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_en) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_RANK */ 
		CURR_CLASS_RANK : AAABusinessTypes:Int 
			@i18n:Label (de="Währungsklassifikation", en="Currency Classification", fr="Classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_RANK, Rank=54, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n", SortingRank=3) 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=1, ScriptDef="IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
			@aaa:scpt (value="IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
		
		/* DEBIT_CREDIT */ 
		DEBIT_CREDIT : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/crédit") 
			@sql:SQLName (value=DEBIT_CREDIT) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT, Rank=61, ScriptDef="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=130, ScriptDef="IF(nature_e=2,@BALANCE_PER_0)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_0)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=131, ScriptDef="IF(nature_e=2,@BALANCE_PER_1)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_1)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=132, ScriptDef="IF(nature_e=2,@BALANCE_PER_2)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_2)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=133, ScriptDef="IF(nature_e=2,@BALANCE_PER_3)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_3)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=134, ScriptDef="IF(nature_e=2,@BALANCE_PER_4)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_4)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=135, ScriptDef="IF(nature_e=2,@BALANCE_PER_5)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_5)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=136, ScriptDef="IF(nature_e=2,@BALANCE_PER_6)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_6)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=137, ScriptDef="IF(nature_e=2,@BALANCE_PER_7)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_7)") 
		
		/* DEBIT_CREDIT_CURR */ 
		DEBIT_CREDIT_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=DEBIT_CREDIT_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CURR, Rank=432, ScriptDef="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* DEBIT_CREDIT_FILTER */ 
		DEBIT_CREDIT_FILTER : AAABusinessTypes:Int 
			@sql:SQLName (value=DEBIT_CREDIT_FILTER) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_FILTER, Rank=38, ScriptDef="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
			@aaa:scpt (value="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
		
		/* DEBIT_CREDIT_PER_0 */ 
		DEBIT_CREDIT_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_0, Rank=80, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_1 */ 
		DEBIT_CREDIT_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_1, Rank=81, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_2 */ 
		DEBIT_CREDIT_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next Week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_2, Rank=82, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_3 */ 
		DEBIT_CREDIT_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_3, Rank=83, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_4 */ 
		DEBIT_CREDIT_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_4, Rank=84, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_5 */ 
		DEBIT_CREDIT_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_5, Rank=85, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_6 */ 
		DEBIT_CREDIT_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_6, Rank=86, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_7 */ 
		DEBIT_CREDIT_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_7, Rank=87, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_REF_CUR */ 
		DEBIT_CREDIT_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/Crédit") 
			@sql:SQLName (value=DEBIT_CREDIT_REF_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_REF_CUR, Rank=60, ScriptDef="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
		
		/* DEPOSIT_NAME */ 
		DEPOSIT_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Lagerstelle, en=Deposit, fr="Dépositaire") 
			@sql:SQLName (value=DEPOSIT_NAME) 
			@aaa:TripleA (FormatEltName=DEPOSIT_NAME, Rank=3001, ScriptDef=deposit_id.name) 
			@aaa:scpt (value=deposit_id.name) 
		
		/* domain_client_id */ 
		domain_client_id : AAABusinessTypes:Id 
			@sql:SQLName (value=domain_client_id) 
			@aaa:TripleA (FormatEltName=domain_client_id, Rank=3000, ScriptDef="IF(DOMAIN().dim_port_dict_id=600 AND DOMAIN().third_compo_e<>1 ,DOMAIN().port_object_id,NULL)") 
			@aaa:scpt (value="IF(DOMAIN().dim_port_dict_id=600 AND DOMAIN().third_compo_e<>1 ,DOMAIN().port_object_id,NULL)") 
		
		/* EXPIRATION */ 
		EXPIRATION : AAABusinessTypes:Date 
			@i18n:Label (de="Fälligkeitsdatum", en="Expiration Date", fr="Date d\'expiration") 
			@sql:SQLName (value=EXPIRATION) 
			@aaa:TripleA (FormatEltName=EXPIRATION, Rank=605, ScriptDef="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).expiration_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, expiration_d, {ELSE} IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).value_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, value_d, {ELSE} IF( open_oper_id.instr_id.nature_e IN (2,3,6,11,18,19), open_oper_id.instr_id.end_d, {ELSE} NULL ) ) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).expiration_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, expiration_d, {ELSE} IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).value_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, value_d, {ELSE} IF( open_oper_id.instr_id.nature_e IN (2,3,6,11,18,19), open_oper_id.instr_id.end_d, {ELSE} NULL ) ) ) ) )") 
		
		/* FINAL_BAL_POS_CURR */ 
		FINAL_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Op. Währung)", en="Final Balance (Op. Ccy.)", fr="Solde final (devise de l\'op.)") 
			@sql:SQLName (value=FINAL_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_POS_CURR, Rank=317, ScriptDef="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* FINAL_BAL_REF_CURR */ 
		FINAL_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Ref. Währung)", en="Final Balance (Ref. Ccy.)", fr="Solde final (devise de réf.)") 
			@sql:SQLName (value=FINAL_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_REF_CURR, Rank=315, ScriptDef="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
		
		/* first_flow_id */ 
		first_flow_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_flow_id) 
			@aaa:TripleA (FormatEltName=first_flow_id, Rank=24, ScriptDef="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
		
		/* first_operation_id */ 
		first_operation_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_operation_id) 
			@aaa:TripleA (FormatEltName=first_operation_id, Rank=18, ScriptDef="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_de : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_de) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_en : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_en) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_fr : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_fr) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=5, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INIT_BAL_POS_CURR */ 
		INIT_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangsbetrag (Op. Währung)", en="Initial Balance (Op. Ccy.)", fr="Solde initial (devise de l\'op.)") 
			@sql:SQLName (value=INIT_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_POS_CURR, Rank=316, ScriptDef="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* INIT_BAL_REF_CURR */ 
		INIT_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangssaldo (Ref. Währung)", en="Initial Balance (Ref. Ccy.)", fr="Solde initial (devise de réf.)") 
			@sql:SQLName (value=INIT_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_REF_CURR, Rank=119, ScriptDef="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
		
		/* INSTR_CODE */ 
		INSTR_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Instrument Code", en="Instrument Code", fr="Code de l\'instrument") 
			@sql:SQLName (value=INSTR_CODE) 
			@aaa:TripleA (FormatEltName=INSTR_CODE, Rank=290, ScriptDef=open_oper_id.instr_id.code) 
			@aaa:scpt (value=open_oper_id.instr_id.code) 
		
		/* INSTR_CURR_CLASS_COD */ 
		INSTR_CURR_CLASS_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Anlagekategorie, en="Asset Class", fr="Catégorie d\'actif") 
			@sql:SQLName (value=INSTR_CURR_CLASS_CODE) 
			@aaa:TripleA (FormatEltName=INSTR_CURR_CLASS_COD, Rank=57, ScriptDef="{This format element is used to classify the instruments used in operation. The classification is based on their currency area (EURO, EX-EURO, ASIA, etc...). The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Instrument entity is used for the computation. The classification is the following: - Code of list \"PCK_DS_EUR\": Euro area - Code of list \"PCK_DS_CHF\": Switzerland area - Code of list \"PCK_DS_GBP\": Great Britain area - Code of list \"PCK_DS_USD\": North America area - Code of list \"PCK_DS_AUD: Australian area - Code of list \"PCK_DS_OTHER_CURR\": Other areas } {--------------------------------------------------} open_oper_id.instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code") 
			@aaa:scpt (value="{This format element is used to classify the instruments used in operation. The classification is based on their currency area (EURO, EX-EURO, ASIA, etc...). The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Instrument entity is used for the computation. The classification is the following: - Code of list \"PCK_DS_EUR\": Euro area - Code of list \"PCK_DS_CHF\": Switzerland area - Code of list \"PCK_DS_GBP\": Great Britain area - Code of list \"PCK_DS_USD\": North America area - Code of list \"PCK_DS_AUD: Australian area - Code of list \"PCK_DS_OTHER_CURR\": Other areas } {--------------------------------------------------} open_oper_id.instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_de : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_en : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_fr : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* instr_id */ 
		instr_id : AAABusinessTypes:Id 
			@sql:SQLName (value=instr_id) 
			@aaa:TripleA (FormatEltName=instr_id, Rank=14, ScriptDef="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
			@aaa:scpt (value="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Emittent, en=Issuer, fr=Emetteur) 
			@sql:SQLName (value=INSTR_ISSUER_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef="IF( open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.issuer_third_id.denom <> NULL, open_oper_id.instr_id.issuer_third_id.denom, open_oper_id.instr_id.issuer_third_id.name ))") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.issuer_third_id.denom <> NULL, open_oper_id.instr_id.issuer_third_id.denom, open_oper_id.instr_id.issuer_third_id.name ))") 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_NATURE_VALUE */ 
		INSTR_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Instrumentenart, en="Instrument Nature", fr="Nature de l\'instrument") 
			@sql:SQLName (value=INSTR_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=INSTR_NATURE_VALUE, Rank=295, ScriptDef=instr_id.nature_e) 
			@aaa:scpt (value=instr_id.nature_e) 
		
		/* INSTR_PRICE_CURRENCY */ 
		INSTR_PRICE_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_PRICE_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_PRICE_CURRENCY, Rank=312, ScriptDef="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
		
		/* INSTR_REF_CURRENCY */ 
		INSTR_REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_REF_CURRENCY, Rank=601, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Basiswert, en=Underlying, fr=Sous-jacent) 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3,6,7), IF(open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF(open_oper_id.instr_id.underly_instr_id.denom<>NULL, open_oper_id.instr_id.underly_instr_id.denom, open_oper_id.instr_id.underly_instr_id.name)))") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3,6,7), IF(open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF(open_oper_id.instr_id.underly_instr_id.denom<>NULL, open_oper_id.instr_id.underly_instr_id.denom, open_oper_id.instr_id.underly_instr_id.name)))") 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=3, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
		
		/* NET_AMOUNT_OP_CURREN */ 
		NET_AMOUNT_OP_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Op. Währung)", en="Net Amount (Op. Ccy.)", fr="Montant net (devise de l\'op.)") 
			@sql:SQLName (value=NET_AMOUNT_OP_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_OP_CURREN, Rank=400, ScriptDef="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
		
		/* NET_AMOUNT_REF_CURRE */ 
		NET_AMOUNT_REF_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Ref. Währung)", en="Net Amount (Ref. Ccy.)", fr="Montant net (devise de réf.)") 
			@sql:SQLName (value=NET_AMOUNT_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_REF_CURRE, Rank=410, ScriptDef="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
		
		/* ONE_CURR_OCCUR */ 
		ONE_CURR_OCCUR : AAABusinessTypes:Id 
			@i18n:Label (de="Anz. Währungen", en="One Currency Occurrence", fr="Une occurrence par devise") 
			@sql:SQLName (value=ONE_CURR_OCCUR) 
			@aaa:TripleA (FormatEltName=ONE_CURR_OCCUR, Rank=200, ScriptDef="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
			@aaa:scpt (value="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
		
		/* OPER_DENOM */ 
		OPER_DENOM : AAABusinessTypes:UniNote 
			@i18n:Label (de="Zukünftiges Ereignis", en="Future Event", fr="Evénement futur") 
			@sql:SQLName (value=OPER_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPER_DENOM, Rank=700, ScriptDef="IF(nature_e=2, PRINTF(\"%s %s %s %s %s\", @OPERATION_TYPE_DENOM, NUMSTR(@QUANTITY), NUMSTR(@PRICE), @INSTR_PRICE_CURRENCY, @INSTR_DENOM))") 
			@aaa:scpt (value="IF(nature_e=2, PRINTF(\"%s %s %s %s %s\", @OPERATION_TYPE_DENOM, NUMSTR(@QUANTITY), NUMSTR(@PRICE), @INSTR_PRICE_CURRENCY, @INSTR_DENOM))") 
		
		/* OPER_DENOM */ 
		OPER_DENOM_de : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_DENOM */ 
		OPER_DENOM_en : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_DENOM */ 
		OPER_DENOM_fr : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_CODE */ 
		OPER_SUBTYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_CODE, Rank=456, ScriptDef=open_oper_id.subtype_id.code) 
			@aaa:scpt (value=open_oper_id.subtype_id.code) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_CLASS_RANK */ 
		OPERATION_CLASS_RANK : AAABusinessTypes:Int 
			@i18n:Label (de="Klassifikation der Transaktion", en="Operation Classification", fr="Classification de l\'opération") 
			@sql:SQLName (value=OPERATION_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=OPERATION_CLASS_RANK, Rank=10, ScriptDef="{This format element is used to classify the operations based on their operation nature and the nature of their related instrument. The classification PCK_DS_OPER_CLASS (defined in the packaging parameter DS_CLASSIF_OPER_CLASS) on Extended Position entity is used for the computation. The classification is the following: - Rank 1: Buy of Securities - Rank 2: Sell of Securities - Rank 6: Buy and Sell of Cash and Forward (FX Spot/Forward) - Rank 16: Corporate Actions - Rank 11: Buy of Money Markets - Rank 12: Sell of Money Markets - Rank 21: Investments of Securities - Rank 22: Withdrawals, Transfers and Portfolio Transfers of Securities - Rank 26: Investments of Cash - Rank 27: Withdrawals, Transfers and Portfolio Transfers of Cash - Rank 28: Investment, Withdrawals, Transfers and Portfolio Transfers of Money Markets - Rank 31: Incomes (Dividends, Coupons, etc...) of instruments, which are not Money Markets - Rank 32: Incomes of Money Markets - Rank 36: Redemptions of Bonds and equivalent (but not Money Markets) - Rank 37: Redemption of Money Markets - Rank 41: Management Fees - Rank 99: Other Operations } {--------------------------------------------------} CLASSIFY( GET_ENTITY(\"extended_pos\"), id, GET_APPL_PARAM(\"DS_CLASSIF_OPER_CLASS\")).rank_n") 
			@aaa:scpt (value="{This format element is used to classify the operations based on their operation nature and the nature of their related instrument. The classification PCK_DS_OPER_CLASS (defined in the packaging parameter DS_CLASSIF_OPER_CLASS) on Extended Position entity is used for the computation. The classification is the following: - Rank 1: Buy of Securities - Rank 2: Sell of Securities - Rank 6: Buy and Sell of Cash and Forward (FX Spot/Forward) - Rank 16: Corporate Actions - Rank 11: Buy of Money Markets - Rank 12: Sell of Money Markets - Rank 21: Investments of Securities - Rank 22: Withdrawals, Transfers and Portfolio Transfers of Securities - Rank 26: Investments of Cash - Rank 27: Withdrawals, Transfers and Portfolio Transfers of Cash - Rank 28: Investment, Withdrawals, Transfers and Portfolio Transfers of Money Markets - Rank 31: Incomes (Dividends, Coupons, etc...) of instruments, which are not Money Markets - Rank 32: Incomes of Money Markets - Rank 36: Redemptions of Bonds and equivalent (but not Money Markets) - Rank 37: Redemption of Money Markets - Rank 41: Management Fees - Rank 99: Other Operations } {--------------------------------------------------} CLASSIFY( GET_ENTITY(\"extended_pos\"), id, GET_APPL_PARAM(\"DS_CLASSIF_OPER_CLASS\")).rank_n") 
		
		/* OPERATION_CODE */ 
		OPERATION_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Transaktions-Code, en="Operation Code", fr="Code de l\'opération") 
			@sql:SQLName (value=OPERATION_CODE) 
			@aaa:TripleA (FormatEltName=OPERATION_CODE, Rank=321, ScriptDef=open_oper_code) 
			@aaa:scpt (value=open_oper_code) 
		
		/* OPERATION_DATE */ 
		OPERATION_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de="Ausführungsdatum", en="Execution Date", fr="Date d\'exécution") 
			@sql:SQLName (value=OPERATION_DATE) 
			@aaa:TripleA (FormatEltName=OPERATION_DATE, Rank=440, ScriptDef=operation_d) 
			@aaa:scpt (value=operation_d) 
		
		/* OPERATION_KEY */ 
		OPERATION_KEY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Transaktions-Schlüssel", en="Operation Key", fr="Clé de l\'opération") 
			@sql:SQLName (value=OPERATION_KEY) 
			@aaa:TripleA (FormatEltName=OPERATION_KEY, Rank=320, ScriptDef="IF( LEFT(GET_APPL_PARAM(\"AAA_VERSION\"), 2) = \"R3\", NUMSTR(open_oper_id), {ELSE} open_oper_code )") 
			@aaa:scpt (value="IF( LEFT(GET_APPL_PARAM(\"AAA_VERSION\"), 2) = \"R3\", NUMSTR(open_oper_id), {ELSE} open_oper_code )") 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE : AAABusinessTypes:UniName 
			@i18n:Label (de=Art, en=Nature, fr=Nature) 
			@sql:SQLName (value=OPERATION_NATURE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_de : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_de) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_en : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_en) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_fr : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_de) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_en) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_VAL */ 
		OPERATION_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_VAL, Rank=330, ScriptDef=open_oper_nat_e) 
			@aaa:scpt (value=open_oper_nat_e) 
		
		/* OPERATION_TYPE_CODE */ 
		OPERATION_TYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type Code", fr="Code du type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_CODE, Rank=300, ScriptDef=open_oper_id.type_id.code) 
			@aaa:scpt (value=open_oper_id.type_id.code) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Options-Stil, en="Option Style", fr="Style d\'option") 
			@sql:SQLName (value=OPT_STYLE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPT_STYLE, Rank=610, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.opt_style_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.opt_style_e.LABEL[]) )") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.opt_style_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.opt_style_e.LABEL[]) )") 
		
		/* OPT_STYLE */ 
		OPT_STYLE_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_de) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_en) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_fr) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE : AAABusinessTypes:UniName 
			@i18n:Label (de=Options-Typ, en="Option Type", fr="Type d\'option") 
			@sql:SQLName (value=OPT_TYPE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPT_TYPE, Rank=611, ScriptDef="IF(open_oper_id.instr_id.nature_e IN(3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.option_class_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.option_class_e.LABEL[] ) )") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN(3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.option_class_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.option_class_e.LABEL[] ) )") 
		
		/* OPT_TYPE */ 
		OPT_TYPE_de : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_de) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE_en : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_en) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE_fr : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_fr) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_CLASS_RANK */ 
		PERIOD_CLASS_RANK : AAABusinessTypes:Int 
			@sql:SQLName (value=PERIOD_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_RANK, Rank=49, ScriptDef="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
			@aaa:scpt (value="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
		
		/* portfolio_account_id */ 
		portfolio_account_id : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=portfolio_account_id) 
			@aaa:TripleA (FormatEltName=portfolio_account_id, Rank=22, ScriptDef="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
			@aaa:scpt (value="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Portfolio Code", en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=266, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
		
		/* PORTFOLIO_CURRENCY */ 
		PORTFOLIO_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PORTFOLIO_CURRENCY) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CURRENCY, Rank=311, ScriptDef="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
		
		/* PORTFOLIO_FULL_NAME */ 
		PORTFOLIO_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_FULL_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_FULL_NAME, Rank=268, ScriptDef="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=267, ScriptDef="IF(DOMAIN().port_cons_rule_e=1,@HIERARCHY_HEAD,IF( child_ptf_id <> NULL, child_ptf_id.name, portfolio_id.name ))") 
			@aaa:scpt (value="IF(DOMAIN().port_cons_rule_e=1,@HIERARCHY_HEAD,IF( child_ptf_id <> NULL, child_ptf_id.name, portfolio_id.name ))") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POS_CURRENCY */ 
		POS_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=POS_CURRENCY) 
			@aaa:TripleA (FormatEltName=POS_CURRENCY, Rank=345, ScriptDef="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* POSITION_NATURE */ 
		POSITION_NATURE : AAABusinessTypes:Enum 
			@i18n:Label (de=Art, en=Nature, fr=Nature) 
			@sql:SQLName (value=POSITION_NATURE) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE, Rank=201, ScriptDef=nature_e) 
			@aaa:scpt (value=nature_e) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Positionsart, en="Position Nature", fr="Nature de la position") 
			@sql:SQLName (value=POSITION_NATURE_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef="pos_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="pos_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_de) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_en) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_fr) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_VALU */ 
		POSITION_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Positionsart, en="Position Nature", fr="Nature de la position") 
			@sql:SQLName (value=POSITION_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_VALU, Rank=1000, ScriptDef=pos_nat_e) 
			@aaa:scpt (value=pos_nat_e) 
		
		/* PRICE */ 
		PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Preis, en=Price, fr=Prix) 
			@sql:SQLName (value=PRICE) 
			@aaa:TripleA (FormatEltName=PRICE, Rank=350, ScriptDef="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
			@aaa:scpt (value="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
		
		/* PRICE_DEFINITION_CUR */ 
		PRICE_DEFINITION_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_CURR) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_CUR, Rank=352, ScriptDef="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
			@aaa:scpt (value="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
		
		/* PRICE_DEFINITION_PER */ 
		PRICE_DEFINITION_PERCENT : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_PERCENT) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_PER, Rank=351, ScriptDef="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
			@aaa:scpt (value="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
		
		/* PTF_CURR_BREAK */ 
		PTF_CURR_BREAK : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Umbruchkriterium Portfolio / Währung", en="Portfolio/Currency Break Criterion", fr="Critère de séparation portefeuille/devise") 
			@sql:SQLName (value=PTF_CURR_BREAK) 
			@aaa:TripleA (FormatEltName=PTF_CURR_BREAK, Rank=40, ScriptDef="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
		
		/* PTF_HIER_STR */ 
		PTF_HIER_STR : AAABusinessTypes:UniNote 
			@i18n:Label (de=Hierarchie, en=Hierarchy, fr="Hiérarchie") 
			@sql:SQLName (value=PTF_HIER_STR) 
			@aaa:TripleA (FormatEltName=PTF_HIER_STR, Rank=269, ScriptDef="{This script generates the appropriate portfolio dimension hierarchy structure according to the load hierarchy and consolidation method} {----------------------------------------------------} IF( DOMAIN().port_cons_rule_e IN (1, 6), @HIERARCHY_HEAD, IF( portfolio_id.hier_port_id <> NULL, IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s%s\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, PRINTF(\"[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\",portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code) ), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ))))), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ) )") 
			@aaa:scpt (value="{This script generates the appropriate portfolio dimension hierarchy structure according to the load hierarchy and consolidation method} {----------------------------------------------------} IF( DOMAIN().port_cons_rule_e IN (1, 6), @HIERARCHY_HEAD, IF( portfolio_id.hier_port_id <> NULL, IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s%s\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, PRINTF(\"[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\",portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code) ), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ))))), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ) )") 
		
		/* QUANTITY */ 
		QUANTITY : AAABusinessTypes:Number 
			@i18n:Label (de=Anzahl, en=Quantity, fr="Quantité") 
			@sql:SQLName (value=QUANTITY) 
			@aaa:TripleA (FormatEltName=QUANTITY, Rank=340, ScriptDef="{This format element displays the quantity of instrument defined in the operation. As some instruments are in fact submitted to contract size (options, futures, ...), it is important not to forget to divide the quantity returned by the system with the contract size. Reversals must also be taken into account.} {--------------------------------------------------------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(quantity_n/@CONTRACT_SIZE), ABS(quantity_n/@CONTRACT_SIZE) ), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(fi_gross_amount_m), ABS(fi_gross_amount_m) ), IF( pos_nat_e = 17 {To Instrument Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE) ), {ELSE} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE) ) ) ) )") 
			@aaa:scpt (value="{This format element displays the quantity of instrument defined in the operation. As some instruments are in fact submitted to contract size (options, futures, ...), it is important not to forget to divide the quantity returned by the system with the contract size. Reversals must also be taken into account.} {--------------------------------------------------------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(quantity_n/@CONTRACT_SIZE), ABS(quantity_n/@CONTRACT_SIZE) ), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(fi_gross_amount_m), ABS(fi_gross_amount_m) ), IF( pos_nat_e = 17 {To Instrument Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE) ), {ELSE} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE) ) ) ) )") 
		
		/* QUANTITY_CURR */ 
		QUANTITY_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=QUANTITY_CURR) 
			@aaa:TripleA (FormatEltName=QUANTITY_CURR, Rank=341, ScriptDef="{This format element displays the reference currency for bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 4, 5, 18, 19) {instrument is a bond, a cash account, a money market, an option bond or a convertible bond}, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id , GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, open_oper_id.instr_id.ref_curr_id.code ), NULL )") 
			@aaa:scpt (value="{This format element displays the reference currency for bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 4, 5, 18, 19) {instrument is a bond, a cash account, a money market, an option bond or a convertible bond}, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id , GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, open_oper_id.instr_id.ref_curr_id.code ), NULL )") 
		
		/* RATE */ 
		RATE : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Zinssatz, en="Interest Rate", fr="Taux d\'intérêt") 
			@sql:SQLName (value=RATE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=RATE, Rank=609, ScriptDef="{1) operation rate case} IF( (open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_id.ref_oper_code).rate_p), \"%\"), IF( (open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_code).rate_p), \"%\"), {2) instrument rate case} IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Fixed income, Option bond or Convertible bond} OR (open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 0 { Not a Generic instrument}), {2.1) fixed rate case} IF( open_oper_id.instr_id.interest_rate_p <> NULL AND open_oper_id.instr_id.float_instr_id = NULL, PRINTF(\"%s%s%s\", \"@\", NUMSTR(open_oper_id.instr_id.interest_rate_p), \"%\"), {2.1.a) float rate case} IF( open_oper_id.instr_id.interest_rate_p = NULL AND open_oper_id.instr_id.float_instr_id <> NULL, {2.1.b) float rate denom} PRINTF(\"%s%s\", \" - \", IF( open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.float_instr_id.denom <> NULL, open_oper_id.instr_id.float_instr_id.denom, open_oper_id.instr_id.float_instr_id.name )) ) ) ) ) ) )") 
			@aaa:scpt (value="{1) operation rate case} IF( (open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_id.ref_oper_code).rate_p), \"%\"), IF( (open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_code).rate_p), \"%\"), {2) instrument rate case} IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Fixed income, Option bond or Convertible bond} OR (open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 0 { Not a Generic instrument}), {2.1) fixed rate case} IF( open_oper_id.instr_id.interest_rate_p <> NULL AND open_oper_id.instr_id.float_instr_id = NULL, PRINTF(\"%s%s%s\", \"@\", NUMSTR(open_oper_id.instr_id.interest_rate_p), \"%\"), {2.1.a) float rate case} IF( open_oper_id.instr_id.interest_rate_p = NULL AND open_oper_id.instr_id.float_instr_id <> NULL, {2.1.b) float rate denom} PRINTF(\"%s%s\", \" - \", IF( open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.float_instr_id.denom <> NULL, open_oper_id.instr_id.float_instr_id.denom, open_oper_id.instr_id.float_instr_id.name )) ) ) ) ) ) )") 
		
		/* RATE */ 
		RATE_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_de) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* RATE */ 
		RATE_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_en) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* RATE */ 
		RATE_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_fr) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=310, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Stornierung, en=Reversal, fr=Extourne) 
			@sql:SQLName (value=REVERSAL_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - Reverse: the operation is the reverse of a reversed operation - Reversed: the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 0 {reverse nature is <None>}, NULL, rev_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()] )") 
			@aaa:scpt (value="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - Reverse: the operation is the reverse of a reversed operation - Reversed: the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 0 {reverse nature is <None>}, NULL, rev_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()] )") 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_de) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_en) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_fr) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_VALUE */ 
		REVERSAL_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Stornierung, en=Reversal, fr=Extourne) 
			@sql:SQLName (value=REVERSAL_VALUE) 
			@aaa:TripleA (FormatEltName=REVERSAL_VALUE, Rank=454, ScriptDef="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - \"0\": the operation is a single one. It is not reversed and it is also not a reverse. - \"1\": the operation is the reverse of a reversed operation - \"2\": the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} rev_oper_nat_e") 
			@aaa:scpt (value="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - \"0\": the operation is a single one. It is not reversed and it is also not a reverse. - \"1\": the operation is the reverse of a reversed operation - \"2\": the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} rev_oper_nat_e") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
		
		/* SERVER_FILTER */ 
		SERVER_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SERVER_FILTER) 
			@aaa:TripleA (FormatEltName=SERVER_FILTER, Rank=36, ScriptDef="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
			@aaa:scpt (value="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=STATUS_DENOM, Rank=449, ScriptDef="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_de) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_en) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=STATUS_LABEL, Rank=451, ScriptDef="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_de) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_en) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_fr) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_VALUE */ 
		STATUS_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_VALUE) 
			@aaa:TripleA (FormatEltName=STATUS_VALUE, Rank=450, ScriptDef=status_e) 
			@aaa:scpt (value=status_e) 
		
		/* STRIKE_PRICE */ 
		STRIKE_PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Basispreis, en="Strike Price", fr="Prix d\'exercice") 
			@sql:SQLName (value=STRIKE_PRICE) 
			@aaa:TripleA (FormatEltName=STRIKE_PRICE, Rank=612, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3,6),open_oper_id.instr_id.redemp_quote_n)") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3,6),open_oper_id.instr_id.redemp_quote_n)") 
		
		/* STRIKE_PRICE_CURR */ 
		STRIKE_PRICE_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=STRIKE_PRICE_CURR) 
			@aaa:TripleA (FormatEltName=STRIKE_PRICE_CURR, Rank=613, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.exer_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.exer_curr_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.exer_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.exer_curr_id.code )") 
		
		/* SUMMARY_FILTER */ 
		SUMMARY_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SUMMARY_FILTER) 
			@aaa:TripleA (FormatEltName=SUMMARY_FILTER, Rank=34, ScriptDef="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
			@aaa:scpt (value="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
		
		/* THIRD_COMP_RULE */ 
		THIRD_COMP_RULE : AAAEnumerations:DomainAAAThirdCompoE 
			@i18n:Label (de=Portfolio-Kunden-Zuordnung, en="Portfolio Link Nature", fr="Nature du lien avec le portefeuille") 
			@sql:SQLName (value=THIRD_COMP_RULE) 
			@aaa:TripleA (AttrSQLName=third_compo_e, FormatEltName=THIRD_COMP_RULE, Rank=3050, ScriptDef="{ --SQLFORMAT case when domain_client_id = NULL then NULL when client_id = domain_client_id then 1 when THIRD_PARTY_OWNERSHIP_RULE != NULL then 2 end }") 
			@aaa:scpt (value="{ --SQLFORMAT case when domain_client_id = NULL then NULL when client_id = domain_client_id then 1 when THIRD_PARTY_OWNERSHIP_RULE != NULL then 2 end }") 
		
		/* THIRD_PARTY_OWNERSHI */ 
		THIRD_PARTY_OWNERSHIP_RULE : AAAEnumerations:PortfolioThirdCompoOwnershipRuleE 
			@i18n:Label (de="Verfügungsberechtigung", en="Ownership Rule", fr="Règle de propriété") 
			@sql:SQLName (value=THIRD_PARTY_OWNERSHIP_RULE) 
			@aaa:TripleA (AttrSQLName=ownership_rule_e, FormatEltName=THIRD_PARTY_OWNERSHI, Rank=3030, ScriptDef="{ --SQLFORMAT select max(ownership_rule_e) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
			@aaa:scpt (value="{ --SQLFORMAT select max(ownership_rule_e) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
		
		/* THIRD_PARTY_PERCT_OW */ 
		THIRD_PARTY_PERCT_OWNERSHIP : AAABusinessTypes:Number 
			@i18n:Label (de="Prozentsatz des Eigentums", en="Percentage of Ownership", fr="Pourcentage de la propriété") 
			@sql:SQLName (value=THIRD_PARTY_PERCT_OWNERSHIP) 
			@aaa:TripleA (FormatEltName=THIRD_PARTY_PERCT_OW, Rank=3040, ScriptDef="{ --SQLFORMAT select max(weight_n) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
			@aaa:scpt (value="{ --SQLFORMAT select max(weight_n) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
		
		/* third_party_portfoli */ 
		third_party_portfolio_id : AAABusinessTypes:Id 
			@sql:SQLName (value=third_party_portfolio_id) 
			@aaa:TripleA (FormatEltName=third_party_portfoli, Rank=3010, ScriptDef=portfolio_id) 
			@aaa:scpt (value=portfolio_id) 
		
		/* TRANSVIEW_FILTER */ 
		TRANSVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=TRANSVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=TRANSVIEW_FILTER, Rank=28, ScriptDef="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
			@aaa:scpt (value="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
		
		/* type_id_code */ 
		type_id_code : AAABusinessTypes:UniCode 
			@sql:SQLName (value=type_id_code) 
			@aaa:TripleA (FormatEltName=type_id_code, Rank=2000, ScriptDef=instr_id.type_id.code) 
			@aaa:scpt (value=instr_id.type_id.code) 
		
		/* UNDERLYING_INSTR_CD */ 
		UNDERLYING_INSTR_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Basispapier, en="Underlying Code", fr="Code du sous-jacent") 
			@sql:SQLName (value=UNDERLYING_INSTR_CODE) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_CD, Rank=453, ScriptDef=open_oper_id.instr_id.code) 
			@aaa:scpt (value=open_oper_id.instr_id.code) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Basispapier, en=Underlying, fr=Sous-jacent) 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef="IF( open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, open_oper_id.instr_id.name )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, open_oper_id.instr_id.name )") 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_de) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_en) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_fr) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* VALUE_DATE */ 
		VALUE_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Valutadatum, en="Value Date", fr="Date de valeur") 
			@sql:SQLName (value=VALUE_DATE) 
			@aaa:TripleA (FormatEltName=VALUE_DATE, Rank=441, ScriptDef=value_d) 
			@aaa:scpt (value=value_d) 
	} 
	/* PCK_DS_JOURNAL_SUM */ 
	PCK_DS_JOURNAL_SUM 
		@aaa:FormatColumnFilter (value=SERVER_FILTER) 
		@aaa:FormatFunction (value=Journal) 
		@sql:SQLName (value=PCK_DS_JOURNAL_SUM) 
		@aaa:TripleA (ColumnFilter=SERVER_FILTER, EntitySQLName=extended_pos, FinFuncName=Journal, FinFuncProcName=journal, FormatName=PCK_DS_JOURNAL_SUM) 
	{ 
		/* ACCOUNT_CODE */ 
		ACCOUNT_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Kontonummer, en="Account Code", fr="Code du compte") 
			@sql:SQLName (value=ACCOUNT_CODE) 
			@aaa:TripleA (FormatEltName=ACCOUNT_CODE, Rank=287, ScriptDef="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_de) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_en) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=ACCOUNT_DENOM_fr) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef) 
			@aaa:scpt (value) 
		
		/* account_id */ 
		account_id : AAABusinessTypes:Id 
			@sql:SQLName (value=account_id) 
			@aaa:TripleA (FormatEltName=account_id, Rank=16, ScriptDef="IF( instr_id.nature_e = 4, instr_id, NULL)") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, instr_id, NULL)") 
		
		/* ACCOUNTING_DATE */ 
		ACCOUNTING_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Buchungsdatum, en="Accouting Date", fr="Date de comptabilisation") 
			@sql:SQLName (value=ACCOUNTING_DATE) 
			@aaa:TripleA (FormatEltName=ACCOUNTING_DATE, Rank=442, ScriptDef=account_d) 
			@aaa:scpt (value=account_d) 
		
		/* BALANCE_PER_0 */ 
		BALANCE_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=BALANCE_PER_0) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_0, Rank=120, ScriptDef="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_1 */ 
		BALANCE_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=BALANCE_PER_1) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_1, Rank=121, ScriptDef="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_2 */ 
		BALANCE_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine Prochaine") 
			@sql:SQLName (value=BALANCE_PER_2) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_2, Rank=122, ScriptDef="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_3 */ 
		BALANCE_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=BALANCE_PER_3) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_3, Rank=123, ScriptDef="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_4 */ 
		BALANCE_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=BALANCE_PER_4) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_4, Rank=124, ScriptDef="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_5 */ 
		BALANCE_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=BALANCE_PER_5) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_5, Rank=125, ScriptDef="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_6 */ 
		BALANCE_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=BALANCE_PER_6) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_6, Rank=126, ScriptDef="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_7 */ 
		BALANCE_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=BALANCE_PER_7) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_7, Rank=127, ScriptDef="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BEGIN_DATE */ 
		BEGIN_DATE : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Anfangsdatum, en="Begin Date", fr="Date de début") 
			@sql:SQLName (value=BEGIN_DATE) 
			@aaa:TripleA (FormatEltName=BEGIN_DATE, Rank=604, ScriptDef="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (5, 7) {Money Market, Forward} AND open_oper_id.instr_id.generic_f = 1, DATESTR(GET_EXT_OP(open_oper_id.ref_oper_code).operation_d), {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (5, 7) AND open_oper_id.instr_id.generic_f = 1, DATESTR(operation_d), {ELSE} IF( open_oper_id.instr_id.nature_e IN (2, 11, 18, 19) {Fixed Income, Discount Instrument, Option Bond, Convertible Bond}, RIGHT(DATESTR(open_oper_id.instr_id.begin_d), 4), {ELSE} DATESTR(open_oper_id.instr_id.begin_d) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (5, 7) {Money Market, Forward} AND open_oper_id.instr_id.generic_f = 1, DATESTR(GET_EXT_OP(open_oper_id.ref_oper_code).operation_d), {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (5, 7) AND open_oper_id.instr_id.generic_f = 1, DATESTR(operation_d), {ELSE} IF( open_oper_id.instr_id.nature_e IN (2, 11, 18, 19) {Fixed Income, Discount Instrument, Option Bond, Convertible Bond}, RIGHT(DATESTR(open_oper_id.instr_id.begin_d), 4), {ELSE} DATESTR(open_oper_id.instr_id.begin_d) ) ) )") 
		
		/* CASH_FBAL_FILTER */ 
		CASH_FBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_FBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_FBAL_FILTER, Rank=32, ScriptDef="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASH_IBAL_FILTER */ 
		CASH_IBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_IBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_IBAL_FILTER, Rank=30, ScriptDef="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASHVIEW_FILTER */ 
		CASHVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASHVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=CASHVIEW_FILTER, Rank=26, ScriptDef="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
			@aaa:scpt (value="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
		
		/* CHILD_PTF_CODE */ 
		CHILD_PTF_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Sub-Portfolio, en="Child Portfolio", fr="Portefeuille enfant") 
			@sql:SQLName (value=CHILD_PTF_CODE) 
			@aaa:TripleA (FormatEltName=CHILD_PTF_CODE, Rank=265, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=4, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
		
		/* CONTRACT_SIZE */ 
		CONTRACT_SIZE : AAABusinessTypes:Number 
			@i18n:Label (de="Kontraktgrösse", en="Contract Size", fr="Taille du contrat") 
			@sql:SQLName (value=CONTRACT_SIZE) 
			@aaa:TripleA (FormatEltName=CONTRACT_SIZE, Rank=335, ScriptDef="IF( open_oper_id.instr_id.contract_size_n <> NULL AND open_oper_id.instr_id.contract_size_n <> 0, open_oper_id.instr_id.contract_size_n, 1 )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.contract_size_n <> NULL AND open_oper_id.instr_id.contract_size_n <> 0, open_oper_id.instr_id.contract_size_n, 1 )") 
		
		/* COST_PRICE */ 
		COST_PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Einstandspreis, en="Cost Price", fr="Prix d\'achat") 
			@sql:SQLName (value=COST_PRICE) 
			@aaa:TripleA (FormatEltName=COST_PRICE, Rank=603, ScriptDef="IF(open_oper_nat_e IN(4, 10, 13), IF(pos_nat_e=2,quote_n, instr_ext_pos_id.quote_n), IF(open_oper_nat_e = 5, IF(pos_nat_e=2,-1*quote_n, -1*instr_ext_pos_id.quote_n), IF(open_oper_nat_e IN(3, 6), IF(pos_nat_e=1,-1*quote_n, -1*main_ext_pos_id.quote_n), IF(pos_nat_e=1,quote_n, main_ext_pos_id.quote_n))))") 
			@aaa:scpt (value="IF(open_oper_nat_e IN(4, 10, 13), IF(pos_nat_e=2,quote_n, instr_ext_pos_id.quote_n), IF(open_oper_nat_e = 5, IF(pos_nat_e=2,-1*quote_n, -1*instr_ext_pos_id.quote_n), IF(open_oper_nat_e IN(3, 6), IF(pos_nat_e=1,-1*quote_n, -1*main_ext_pos_id.quote_n), IF(pos_nat_e=1,quote_n, main_ext_pos_id.quote_n))))") 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währungsklassifikationscode", en="Currency Classification Code", fr="Code de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_CODE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF (@CURR_CLASS_RANK = 99, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {pos_currency_id.SYNONYM[GET_APPL_PARAM(\"DS_CURRENCY_CODE\")].code)} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF (@CURR_CLASS_RANK = 99, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {pos_currency_id.SYNONYM[GET_APPL_PARAM(\"DS_CURRENCY_CODE\")].code)} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_de : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_de) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_en : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_en) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_CODE */ 
		CURR_CLASS_CODE_fr : AAABusinessTypes:UniCode 
			@sql:SQLName (value=CURR_CLASS_CODE_fr) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_CODE, Rank=55, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_de) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_en) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=CURR_CLASS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef) 
			@aaa:scpt (value) 
		
		/* CURR_CLASS_RANK */ 
		CURR_CLASS_RANK : AAABusinessTypes:Int 
			@i18n:Label (de="Währungsklassifikation", en="Currency Classification", fr="Classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_RANK, Rank=54, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n", SortingRank=3) 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=1, ScriptDef="IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
			@aaa:scpt (value="IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
		
		/* DEBIT_CREDIT */ 
		DEBIT_CREDIT : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/crédit") 
			@sql:SQLName (value=DEBIT_CREDIT) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT, Rank=61, ScriptDef="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=130, ScriptDef="IF(nature_e=2,@BALANCE_PER_0)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_0)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=131, ScriptDef="IF(nature_e=2,@BALANCE_PER_1)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_1)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=132, ScriptDef="IF(nature_e=2,@BALANCE_PER_2)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_2)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=133, ScriptDef="IF(nature_e=2,@BALANCE_PER_3)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_3)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=134, ScriptDef="IF(nature_e=2,@BALANCE_PER_4)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_4)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=135, ScriptDef="IF(nature_e=2,@BALANCE_PER_5)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_5)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=136, ScriptDef="IF(nature_e=2,@BALANCE_PER_6)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_6)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=137, ScriptDef="IF(nature_e=2,@BALANCE_PER_7)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_7)") 
		
		/* DEBIT_CREDIT_CURR */ 
		DEBIT_CREDIT_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=DEBIT_CREDIT_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CURR, Rank=432, ScriptDef="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* DEBIT_CREDIT_FILTER */ 
		DEBIT_CREDIT_FILTER : AAABusinessTypes:Int 
			@sql:SQLName (value=DEBIT_CREDIT_FILTER) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_FILTER, Rank=38, ScriptDef="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
			@aaa:scpt (value="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
		
		/* DEBIT_CREDIT_PER_0 */ 
		DEBIT_CREDIT_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_0, Rank=80, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_1 */ 
		DEBIT_CREDIT_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_1, Rank=81, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_2 */ 
		DEBIT_CREDIT_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next Week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_2, Rank=82, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_3 */ 
		DEBIT_CREDIT_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_3, Rank=83, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_4 */ 
		DEBIT_CREDIT_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_4, Rank=84, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_5 */ 
		DEBIT_CREDIT_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_5, Rank=85, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_6 */ 
		DEBIT_CREDIT_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_6, Rank=86, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_7 */ 
		DEBIT_CREDIT_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_7, Rank=87, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_REF_CUR */ 
		DEBIT_CREDIT_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/Crédit") 
			@sql:SQLName (value=DEBIT_CREDIT_REF_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_REF_CUR, Rank=60, ScriptDef="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
		
		/* DEPOSIT_NAME */ 
		DEPOSIT_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Lagerstelle, en=Deposit, fr="Dépositaire") 
			@sql:SQLName (value=DEPOSIT_NAME) 
			@aaa:TripleA (FormatEltName=DEPOSIT_NAME, Rank=3001, ScriptDef=deposit_id.name) 
			@aaa:scpt (value=deposit_id.name) 
		
		/* domain_client_id */ 
		domain_client_id : AAABusinessTypes:Id 
			@sql:SQLName (value=domain_client_id) 
			@aaa:TripleA (FormatEltName=domain_client_id, Rank=3000, ScriptDef="IF(DOMAIN().dim_port_dict_id=600 AND DOMAIN().third_compo_e<>1 ,DOMAIN().port_object_id,NULL)") 
			@aaa:scpt (value="IF(DOMAIN().dim_port_dict_id=600 AND DOMAIN().third_compo_e<>1 ,DOMAIN().port_object_id,NULL)") 
		
		/* EXPIRATION */ 
		EXPIRATION : AAABusinessTypes:Date 
			@i18n:Label (de="Fälligkeitsdatum", en="Expiration Date", fr="Date d\'expiration") 
			@sql:SQLName (value=EXPIRATION) 
			@aaa:TripleA (FormatEltName=EXPIRATION, Rank=605, ScriptDef="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).expiration_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, expiration_d, {ELSE} IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).value_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, value_d, {ELSE} IF( open_oper_id.instr_id.nature_e IN (2,3,6,11,18,19), open_oper_id.instr_id.end_d, {ELSE} NULL ) ) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).expiration_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 5 AND open_oper_id.instr_id.generic_f = 1, expiration_d, {ELSE} IF( open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, GET_EXT_OP(open_oper_id.ref_oper_code).value_d, {ELSE} IF( open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e = 7 AND open_oper_id.instr_id.generic_f = 1, value_d, {ELSE} IF( open_oper_id.instr_id.nature_e IN (2,3,6,11,18,19), open_oper_id.instr_id.end_d, {ELSE} NULL ) ) ) ) )") 
		
		/* FINAL_BAL_POS_CURR */ 
		FINAL_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Op. Währung)", en="Final Balance (Op. Ccy.)", fr="Solde final (devise de l\'op.)") 
			@sql:SQLName (value=FINAL_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_POS_CURR, Rank=317, ScriptDef="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* FINAL_BAL_REF_CURR */ 
		FINAL_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Ref. Währung)", en="Final Balance (Ref. Ccy.)", fr="Solde final (devise de réf.)") 
			@sql:SQLName (value=FINAL_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_REF_CURR, Rank=315, ScriptDef="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
		
		/* first_flow_id */ 
		first_flow_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_flow_id) 
			@aaa:TripleA (FormatEltName=first_flow_id, Rank=24, ScriptDef="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
		
		/* first_operation_id */ 
		first_operation_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_operation_id) 
			@aaa:TripleA (FormatEltName=first_operation_id, Rank=18, ScriptDef="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_de : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_de) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_en : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_en) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_fr : AAABusinessTypes:UniCode 
			@sql:SQLName (value=HIERARCHY_HEAD_fr) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef) 
			@aaa:scpt (value) 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=5, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INIT_BAL_POS_CURR */ 
		INIT_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangsbetrag (Op. Währung)", en="Initial Balance (Op. Ccy.)", fr="Solde initial (devise de l\'op.)") 
			@sql:SQLName (value=INIT_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_POS_CURR, Rank=316, ScriptDef="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* INIT_BAL_REF_CURR */ 
		INIT_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangsbetrag (Ref. Währung)", en="Initial Balance (Ref. Ccy.)", fr="Solde initial (devise de réf.)") 
			@sql:SQLName (value=INIT_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_REF_CURR, Rank=119, ScriptDef="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
		
		/* INSTR_CODE */ 
		INSTR_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Instrument Code", en="Instrument Code", fr="Code de l\'instrument") 
			@sql:SQLName (value=INSTR_CODE) 
			@aaa:TripleA (FormatEltName=INSTR_CODE, Rank=290, ScriptDef=open_oper_id.instr_id.code) 
			@aaa:scpt (value=open_oper_id.instr_id.code) 
		
		/* INSTR_CURR_CLASS_COD */ 
		INSTR_CURR_CLASS_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Anlagekategorie, en="Asset Class", fr="Catégorie d\'actif") 
			@sql:SQLName (value=INSTR_CURR_CLASS_CODE) 
			@aaa:TripleA (FormatEltName=INSTR_CURR_CLASS_COD, Rank=57, ScriptDef="{This format element is used to classify the instruments used in operation. The classification is based on their currency area (EURO, EX-EURO, ASIA, etc...). The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Instrument entity is used for the computation. The classification is the following: - Code of list \"PCK_DS_EUR\": Euro area - Code of list \"PCK_DS_CHF\": Switzerland area - Code of list \"PCK_DS_GBP\": Great Britain area - Code of list \"PCK_DS_USD\": North America area - Code of list \"PCK_DS_AUD: Australian area - Code of list \"PCK_DS_OTHER_CURR\": Other areas } {--------------------------------------------------} open_oper_id.instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code") 
			@aaa:scpt (value="{This format element is used to classify the instruments used in operation. The classification is based on their currency area (EURO, EX-EURO, ASIA, etc...). The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Instrument entity is used for the computation. The classification is the following: - Code of list \"PCK_DS_EUR\": Euro area - Code of list \"PCK_DS_CHF\": Switzerland area - Code of list \"PCK_DS_GBP\": Great Britain area - Code of list \"PCK_DS_USD\": North America area - Code of list \"PCK_DS_AUD: Australian area - Code of list \"PCK_DS_OTHER_CURR\": Other areas } {--------------------------------------------------} open_oper_id.instr_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.code") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_de : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_en : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_fr : AAABusinessTypes:UniNote 
			@sql:SQLName (value=INSTR_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef) 
			@aaa:scpt (value) 
		
		/* instr_id */ 
		instr_id : AAABusinessTypes:Id 
			@sql:SQLName (value=instr_id) 
			@aaa:TripleA (FormatEltName=instr_id, Rank=14, ScriptDef="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
			@aaa:scpt (value="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Emittent, en=Issuer, fr=Emetteur) 
			@sql:SQLName (value=INSTR_ISSUER_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef="IF( open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.issuer_third_id.denom <> NULL, open_oper_id.instr_id.issuer_third_id.denom, open_oper_id.instr_id.issuer_third_id.name ))") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.issuer_third_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.issuer_third_id.denom <> NULL, open_oper_id.instr_id.issuer_third_id.denom, open_oper_id.instr_id.issuer_third_id.name ))") 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_ISSUER_DENOM */ 
		INSTR_ISSUER_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_ISSUER_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_ISSUER_DENOM, Rank=608, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_NATURE_VALUE */ 
		INSTR_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Instrumentenart, en="Instrument Nature", fr="Nature de l\'instrument") 
			@sql:SQLName (value=INSTR_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=INSTR_NATURE_VALUE, Rank=295, ScriptDef=instr_id.nature_e) 
			@aaa:scpt (value=instr_id.nature_e) 
		
		/* INSTR_PRICE_CURRENCY */ 
		INSTR_PRICE_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_PRICE_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_PRICE_CURRENCY, Rank=312, ScriptDef="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
		
		/* INSTR_REF_CURRENCY */ 
		INSTR_REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_REF_CURRENCY, Rank=601, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Basiswert, en=Underlying, fr=Sous-jacent) 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3,6,7), IF(open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF(open_oper_id.instr_id.underly_instr_id.denom<>NULL, open_oper_id.instr_id.underly_instr_id.denom, open_oper_id.instr_id.underly_instr_id.name)))") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3,6,7), IF(open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.underly_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF(open_oper_id.instr_id.underly_instr_id.denom<>NULL, open_oper_id.instr_id.underly_instr_id.denom, open_oper_id.instr_id.underly_instr_id.name)))") 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTR_UNDERLY_DENOM */ 
		INSTR_UNDERLY_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=INSTR_UNDERLY_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_UNDERLY_DENOM, Rank=602, ScriptDef) 
			@aaa:scpt (value) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=3, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
		
		/* NET_AMOUNT_OP_CURREN */ 
		NET_AMOUNT_OP_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Op. Währung)", en="Net Amount (Op. Ccy.)", fr="Montant net (devise de l\'op.)") 
			@sql:SQLName (value=NET_AMOUNT_OP_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_OP_CURREN, Rank=400, ScriptDef="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
		
		/* NET_AMOUNT_REF_CURRE */ 
		NET_AMOUNT_REF_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Ref. Währung)", en="Net Amount (Ref. Ccy.)", fr="Montant net (devise de réf.)") 
			@sql:SQLName (value=NET_AMOUNT_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_REF_CURRE, Rank=410, ScriptDef="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
		
		/* ONE_CURR_OCCUR */ 
		ONE_CURR_OCCUR : AAABusinessTypes:Id 
			@i18n:Label (de="Anz. Währungen", en="One Currency Occurrence", fr="Une occurrence par devise") 
			@sql:SQLName (value=ONE_CURR_OCCUR) 
			@aaa:TripleA (FormatEltName=ONE_CURR_OCCUR, Rank=200, ScriptDef="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
			@aaa:scpt (value="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
		
		/* OPER_DENOM */ 
		OPER_DENOM : AAABusinessTypes:UniNote 
			@i18n:Label (de="Zukünftiges Ereignis", en="Future Event", fr="Evénement futur") 
			@sql:SQLName (value=OPER_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPER_DENOM, Rank=700, ScriptDef="IF(nature_e=2, PRINTF(\"%s %s %s %s %s\", @OPERATION_TYPE_DENOM, NUMSTR(@QUANTITY), NUMSTR(@PRICE), @INSTR_PRICE_CURRENCY, @INSTR_DENOM))") 
			@aaa:scpt (value="IF(nature_e=2, PRINTF(\"%s %s %s %s %s\", @OPERATION_TYPE_DENOM, NUMSTR(@QUANTITY), NUMSTR(@PRICE), @INSTR_PRICE_CURRENCY, @INSTR_DENOM))") 
		
		/* OPER_DENOM */ 
		OPER_DENOM_de : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_DENOM */ 
		OPER_DENOM_en : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_DENOM */ 
		OPER_DENOM_fr : AAABusinessTypes:UniNote 
			@sql:SQLName (value=OPER_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPER_DENOM, Rank=700, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_CODE */ 
		OPER_SUBTYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_CODE, Rank=456, ScriptDef=open_oper_id.subtype_id.code) 
			@aaa:scpt (value=open_oper_id.subtype_id.code) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_CLASS_RANK */ 
		OPERATION_CLASS_RANK : AAABusinessTypes:Int 
			@i18n:Label (de="Klassifikation der Transaktion", en="Operation Classification", fr="Classification de l\'opération") 
			@sql:SQLName (value=OPERATION_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=OPERATION_CLASS_RANK, Rank=10, ScriptDef="{This format element is used to classify the operations based on their operation nature and the nature of their related instrument. The classification PCK_DS_OPER_CLASS (defined in the packaging parameter DS_CLASSIF_OPER_CLASS) on Extended Position entity is used for the computation. The classification is the following: - Rank 1: Buy of Securities - Rank 2: Sell of Securities - Rank 6: Buy and Sell of Cash and Forward (FX Spot/Forward) - Rank 16: Corporate Actions - Rank 11: Buy of Money Markets - Rank 12: Sell of Money Markets - Rank 21: Investments of Securities - Rank 22: Withdrawals, Transfers and Portfolio Transfers of Securities - Rank 26: Investments of Cash - Rank 27: Withdrawals, Transfers and Portfolio Transfers of Cash - Rank 28: Investment, Withdrawals, Transfers and Portfolio Transfers of Money Markets - Rank 31: Incomes (Dividends, Coupons, etc...) of instruments, which are not Money Markets - Rank 32: Incomes of Money Markets - Rank 36: Redemptions of Bonds and equivalent (but not Money Markets) - Rank 37: Redemption of Money Markets - Rank 41: Management Fees - Rank 99: Other Operations } {--------------------------------------------------} CLASSIFY( GET_ENTITY(\"extended_pos\"), id, GET_APPL_PARAM(\"DS_CLASSIF_OPER_CLASS\")).rank_n") 
			@aaa:scpt (value="{This format element is used to classify the operations based on their operation nature and the nature of their related instrument. The classification PCK_DS_OPER_CLASS (defined in the packaging parameter DS_CLASSIF_OPER_CLASS) on Extended Position entity is used for the computation. The classification is the following: - Rank 1: Buy of Securities - Rank 2: Sell of Securities - Rank 6: Buy and Sell of Cash and Forward (FX Spot/Forward) - Rank 16: Corporate Actions - Rank 11: Buy of Money Markets - Rank 12: Sell of Money Markets - Rank 21: Investments of Securities - Rank 22: Withdrawals, Transfers and Portfolio Transfers of Securities - Rank 26: Investments of Cash - Rank 27: Withdrawals, Transfers and Portfolio Transfers of Cash - Rank 28: Investment, Withdrawals, Transfers and Portfolio Transfers of Money Markets - Rank 31: Incomes (Dividends, Coupons, etc...) of instruments, which are not Money Markets - Rank 32: Incomes of Money Markets - Rank 36: Redemptions of Bonds and equivalent (but not Money Markets) - Rank 37: Redemption of Money Markets - Rank 41: Management Fees - Rank 99: Other Operations } {--------------------------------------------------} CLASSIFY( GET_ENTITY(\"extended_pos\"), id, GET_APPL_PARAM(\"DS_CLASSIF_OPER_CLASS\")).rank_n") 
		
		/* OPERATION_CODE */ 
		OPERATION_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Transaktions-Code, en="Operation Code", fr="Code de l\'opération") 
			@sql:SQLName (value=OPERATION_CODE) 
			@aaa:TripleA (FormatEltName=OPERATION_CODE, Rank=321, ScriptDef=open_oper_code) 
			@aaa:scpt (value=open_oper_code) 
		
		/* OPERATION_DATE */ 
		OPERATION_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de="Ausführungsdatum", en="Execution Date", fr="Date d\'exécution") 
			@sql:SQLName (value=OPERATION_DATE) 
			@aaa:TripleA (FormatEltName=OPERATION_DATE, Rank=440, ScriptDef=operation_d) 
			@aaa:scpt (value=operation_d) 
		
		/* OPERATION_KEY */ 
		OPERATION_KEY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Transaktions-Schlüssel", en="Operation Key", fr="Clé de l\'opération") 
			@sql:SQLName (value=OPERATION_KEY) 
			@aaa:TripleA (FormatEltName=OPERATION_KEY, Rank=320, ScriptDef="IF( LEFT(GET_APPL_PARAM(\"AAA_VERSION\"), 2) = \"R3\", NUMSTR(open_oper_id), {ELSE} open_oper_code )") 
			@aaa:scpt (value="IF( LEFT(GET_APPL_PARAM(\"AAA_VERSION\"), 2) = \"R3\", NUMSTR(open_oper_id), {ELSE} open_oper_code )") 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE : AAABusinessTypes:UniName 
			@i18n:Label (de=Art, en=Nature, fr=Nature) 
			@sql:SQLName (value=OPERATION_NATURE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_de : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_de) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_en : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_en) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE */ 
		OPERATION_NATURE_fr : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPERATION_NATURE_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE, Rank=607, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_de) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_en) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_NATURE_VAL */ 
		OPERATION_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_VAL, Rank=330, ScriptDef=open_oper_nat_e) 
			@aaa:scpt (value=open_oper_nat_e) 
		
		/* OPERATION_TYPE_CODE */ 
		OPERATION_TYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type Code", fr="Code du type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_CODE, Rank=300, ScriptDef=open_oper_id.type_id.code) 
			@aaa:scpt (value=open_oper_id.type_id.code) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Options-Stil, en="Option Style", fr="Style d\'option") 
			@sql:SQLName (value=OPT_STYLE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPT_STYLE, Rank=610, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.opt_style_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.opt_style_e.LABEL[]) )") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.opt_style_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.opt_style_e.LABEL[]) )") 
		
		/* OPT_STYLE */ 
		OPT_STYLE_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_de) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_en) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_STYLE */ 
		OPT_STYLE_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=OPT_STYLE_fr) 
			@aaa:TripleA (FormatEltName=OPT_STYLE, Rank=610, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE : AAABusinessTypes:UniName 
			@i18n:Label (de=Options-Typ, en="Option Type", fr="Type d\'option") 
			@sql:SQLName (value=OPT_TYPE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPT_TYPE, Rank=611, ScriptDef="IF(open_oper_id.instr_id.nature_e IN(3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.option_class_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.option_class_e.LABEL[] ) )") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN(3), IF(DOMAIN() != NULL AND TSL_CURRENT_LANGUAGE() > 0, open_oper_id.instr.option_class_e.LABEL[TSL_CURRENT_LANGUAGE()], open_oper_id.instr.option_class_e.LABEL[] ) )") 
		
		/* OPT_TYPE */ 
		OPT_TYPE_de : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_de) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE_en : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_en) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* OPT_TYPE */ 
		OPT_TYPE_fr : AAABusinessTypes:UniName 
			@sql:SQLName (value=OPT_TYPE_fr) 
			@aaa:TripleA (FormatEltName=OPT_TYPE, Rank=611, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_CLASS_DENOM */ 
		PERIOD_CLASS_DENOM : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PERIOD_CLASS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=PERIOD_CLASS_DENOM, Rank=50, ScriptDef="{Today -> [From date of context] } IF( @PERIOD_CLASS_RANK = 0, DISP_MSG(2,\"PCK_DS_JNL_PER_0\", TSL_CURRENT_LANGUAGE(),NULL), {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( @PERIOD_CLASS_RANK = 1, DISP_MSG(2,\"PCK_DS_JNL_PER_1\", TSL_CURRENT_LANGUAGE(),NULL), {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( @PERIOD_CLASS_RANK = 2, DISP_MSG(2,\"PCK_DS_JNL_PER_2\", TSL_CURRENT_LANGUAGE(),NULL), {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( @PERIOD_CLASS_RANK = 3, DISP_MSG(2,\"PCK_DS_JNL_PER_3\", TSL_CURRENT_LANGUAGE(),NULL), {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( @PERIOD_CLASS_RANK = 4, DISP_MSG(2,\"PCK_DS_JNL_PER_4\", TSL_CURRENT_LANGUAGE(),NULL), {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( @PERIOD_CLASS_RANK = 5, DISP_MSG(2,\"PCK_DS_JNL_PER_5\", TSL_CURRENT_LANGUAGE(),NULL), {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( @PERIOD_CLASS_RANK = 6, DISP_MSG(2,\"PCK_DS_JNL_PER_6\", TSL_CURRENT_LANGUAGE(),NULL), {ELSE} NULL )))))))") 
			@aaa:scpt (value="{Today -> [From date of context] } IF( @PERIOD_CLASS_RANK = 0, DISP_MSG(2,\"PCK_DS_JNL_PER_0\", TSL_CURRENT_LANGUAGE(),NULL), {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( @PERIOD_CLASS_RANK = 1, DISP_MSG(2,\"PCK_DS_JNL_PER_1\", TSL_CURRENT_LANGUAGE(),NULL), {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( @PERIOD_CLASS_RANK = 2, DISP_MSG(2,\"PCK_DS_JNL_PER_2\", TSL_CURRENT_LANGUAGE(),NULL), {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( @PERIOD_CLASS_RANK = 3, DISP_MSG(2,\"PCK_DS_JNL_PER_3\", TSL_CURRENT_LANGUAGE(),NULL), {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( @PERIOD_CLASS_RANK = 4, DISP_MSG(2,\"PCK_DS_JNL_PER_4\", TSL_CURRENT_LANGUAGE(),NULL), {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( @PERIOD_CLASS_RANK = 5, DISP_MSG(2,\"PCK_DS_JNL_PER_5\", TSL_CURRENT_LANGUAGE(),NULL), {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( @PERIOD_CLASS_RANK = 6, DISP_MSG(2,\"PCK_DS_JNL_PER_6\", TSL_CURRENT_LANGUAGE(),NULL), {ELSE} NULL )))))))") 
		
		/* PERIOD_CLASS_DENOM */ 
		PERIOD_CLASS_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PERIOD_CLASS_DENOM_de) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_DENOM, Rank=50, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_CLASS_DENOM */ 
		PERIOD_CLASS_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PERIOD_CLASS_DENOM_en) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_DENOM, Rank=50, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_CLASS_DENOM */ 
		PERIOD_CLASS_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PERIOD_CLASS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_DENOM, Rank=50, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_CLASS_RANK */ 
		PERIOD_CLASS_RANK : AAABusinessTypes:Int 
			@sql:SQLName (value=PERIOD_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_RANK, Rank=49, ScriptDef="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
			@aaa:scpt (value="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
		
		/* portfolio_account_id */ 
		portfolio_account_id : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=portfolio_account_id) 
			@aaa:TripleA (FormatEltName=portfolio_account_id, Rank=22, ScriptDef="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
			@aaa:scpt (value="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Portfolio Code", en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=266, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
		
		/* PORTFOLIO_CURRENCY */ 
		PORTFOLIO_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PORTFOLIO_CURRENCY) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CURRENCY, Rank=311, ScriptDef="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
		
		/* PORTFOLIO_FULL_NAME */ 
		PORTFOLIO_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_FULL_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_FULL_NAME, Rank=268, ScriptDef="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=267, ScriptDef="IF(DOMAIN().port_cons_rule_e=1,@HIERARCHY_HEAD,IF( child_ptf_id <> NULL, child_ptf_id.name, portfolio_id.name ))") 
			@aaa:scpt (value="IF(DOMAIN().port_cons_rule_e=1,@HIERARCHY_HEAD,IF( child_ptf_id <> NULL, child_ptf_id.name, portfolio_id.name ))") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POS_CURRENCY */ 
		POS_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=POS_CURRENCY) 
			@aaa:TripleA (FormatEltName=POS_CURRENCY, Rank=345, ScriptDef="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* POSITION_NATURE */ 
		POSITION_NATURE : AAABusinessTypes:Enum 
			@i18n:Label (de=Art, en=Nature, fr=Nature) 
			@sql:SQLName (value=POSITION_NATURE) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE, Rank=201, ScriptDef=nature_e) 
			@aaa:scpt (value=nature_e) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Positionsart, en="Position Nature", fr="Nature de la position") 
			@sql:SQLName (value=POSITION_NATURE_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef="pos_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="pos_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_de) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_en) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_LABE */ 
		POSITION_NATURE_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=POSITION_NATURE_LABEL_fr) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_LABE, Rank=1001, ScriptDef) 
			@aaa:scpt (value) 
		
		/* POSITION_NATURE_VALU */ 
		POSITION_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Positionsart, en="Position Nature", fr="Nature de la position") 
			@sql:SQLName (value=POSITION_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE_VALU, Rank=1000, ScriptDef=pos_nat_e) 
			@aaa:scpt (value=pos_nat_e) 
		
		/* PRICE */ 
		PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Preis, en=Price, fr=Prix) 
			@sql:SQLName (value=PRICE) 
			@aaa:TripleA (FormatEltName=PRICE, Rank=350, ScriptDef="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
			@aaa:scpt (value="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
		
		/* PRICE_DEFINITION_CUR */ 
		PRICE_DEFINITION_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_CURR) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_CUR, Rank=352, ScriptDef="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
			@aaa:scpt (value="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
		
		/* PRICE_DEFINITION_PER */ 
		PRICE_DEFINITION_PERCENT : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_PERCENT) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_PER, Rank=351, ScriptDef="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
			@aaa:scpt (value="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
		
		/* PTF_CURR_BREAK */ 
		PTF_CURR_BREAK : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Umbruchkriterium Portfolio / Währung", en="Portfolio/Currency Break Criterion", fr="Critère de séparation portefeuille/devise") 
			@sql:SQLName (value=PTF_CURR_BREAK) 
			@aaa:TripleA (FormatEltName=PTF_CURR_BREAK, Rank=40, ScriptDef="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
		
		/* PTF_HIER_STR */ 
		PTF_HIER_STR : AAABusinessTypes:UniNote 
			@i18n:Label (de=Hierarchie, en=Hierarchy, fr="Hiérarchie") 
			@sql:SQLName (value=PTF_HIER_STR) 
			@aaa:TripleA (FormatEltName=PTF_HIER_STR, Rank=269, ScriptDef="{This script generates the appropriate portfolio dimension hierarchy structure according to the load hierarchy and consolidation method} {----------------------------------------------------} IF( DOMAIN().port_cons_rule_e IN (1, 6), @HIERARCHY_HEAD, IF( portfolio_id.hier_port_id <> NULL, IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s%s\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, PRINTF(\"[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\",portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code) ), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ))))), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ) )") 
			@aaa:scpt (value="{This script generates the appropriate portfolio dimension hierarchy structure according to the load hierarchy and consolidation method} {----------------------------------------------------} IF( DOMAIN().port_cons_rule_e IN (1, 6), @HIERARCHY_HEAD, IF( portfolio_id.hier_port_id <> NULL, IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s%s\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, PRINTF(\"[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\",portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code) ), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.parent_port_id.name, portfolio_id.parent_port_id.parent_port_id.code, portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), IF( portfolio_id.hier_port_id = portfolio_id.parent_port_id, PRINTF(\"%s[HIERLEV%s]%s[HIERLEV%s]\", portfolio_id.parent_port_id.name, portfolio_id.parent_port_id.code, portfolio_id.name, portfolio_id.code), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ))))), PRINTF(\"%s[HIERLEV%s]\", portfolio_id.name, portfolio_id.code) ) )") 
		
		/* QUANTITY */ 
		QUANTITY : AAABusinessTypes:Number 
			@i18n:Label (de=Anzahl, en=Quantity, fr="Quantité") 
			@sql:SQLName (value=QUANTITY) 
			@aaa:TripleA (FormatEltName=QUANTITY, Rank=340, ScriptDef="{This format element displays the quantity of instrument defined in the operation. As some instruments are in fact submitted to contract size (options, futures, ...), it is important not to forget to divide the quantity returned by the system with the contract size. Reversals must also be taken into account.} {--------------------------------------------------------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(quantity_n/@CONTRACT_SIZE), ABS(quantity_n/@CONTRACT_SIZE) ), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(fi_gross_amount_m), ABS(fi_gross_amount_m) ), IF( pos_nat_e = 17 {To Instrument Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE) ), {ELSE} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE) ) ) ) )") 
			@aaa:scpt (value="{This format element displays the quantity of instrument defined in the operation. As some instruments are in fact submitted to contract size (options, futures, ...), it is important not to forget to divide the quantity returned by the system with the contract size. Reversals must also be taken into account.} {--------------------------------------------------------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(quantity_n/@CONTRACT_SIZE), ABS(quantity_n/@CONTRACT_SIZE) ), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(fi_gross_amount_m), ABS(fi_gross_amount_m) ), IF( pos_nat_e = 17 {To Instrument Position}, IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(instr_ext_pos_id.quantity_n/@CONTRACT_SIZE) ), {ELSE} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE), ABS(main_ext_pos_id.quantity_n/@CONTRACT_SIZE) ) ) ) )") 
		
		/* QUANTITY_CURR */ 
		QUANTITY_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=QUANTITY_CURR) 
			@aaa:TripleA (FormatEltName=QUANTITY_CURR, Rank=341, ScriptDef="{This format element displays the reference currency for bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 4, 5, 18, 19) {instrument is a bond, a cash account, a money market, an option bond or a convertible bond}, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id , GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, open_oper_id.instr_id.ref_curr_id.code ), NULL )") 
			@aaa:scpt (value="{This format element displays the reference currency for bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 4, 5, 18, 19) {instrument is a bond, a cash account, a money market, an option bond or a convertible bond}, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id , GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, open_oper_id.instr_id.ref_curr_id.code ), NULL )") 
		
		/* RATE */ 
		RATE : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Zinssatz, en="Interest Rate", fr="Taux d\'intérêt") 
			@sql:SQLName (value=RATE) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=RATE, Rank=609, ScriptDef="{1) operation rate case} IF( (open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_id.ref_oper_code).rate_p), \"%\"), IF( (open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_code).rate_p), \"%\"), {2) instrument rate case} IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Fixed income, Option bond or Convertible bond} OR (open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 0 { Not a Generic instrument}), {2.1) fixed rate case} IF( open_oper_id.instr_id.interest_rate_p <> NULL AND open_oper_id.instr_id.float_instr_id = NULL, PRINTF(\"%s%s%s\", \"@\", NUMSTR(open_oper_id.instr_id.interest_rate_p), \"%\"), {2.1.a) float rate case} IF( open_oper_id.instr_id.interest_rate_p = NULL AND open_oper_id.instr_id.float_instr_id <> NULL, {2.1.b) float rate denom} PRINTF(\"%s%s\", \" - \", IF( open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.float_instr_id.denom <> NULL, open_oper_id.instr_id.float_instr_id.denom, open_oper_id.instr_id.float_instr_id.name )) ) ) ) ) ) )") 
			@aaa:scpt (value="{1) operation rate case} IF( (open_oper_id.ref_oper_code <> NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_id.ref_oper_code).rate_p), \"%\"), IF( (open_oper_id.ref_oper_code = NULL AND open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 1 {Generic instrument}), PRINTF(\"%s%s%s\", \"@\", NUMSTR(GET_EXT_OP(open_oper_code).rate_p), \"%\"), {2) instrument rate case} IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Fixed income, Option bond or Convertible bond} OR (open_oper_id.instr_id.nature_e IN (4, 5) {Cash account or Money Market} AND open_oper_id.instr_id.generic_f = 0 { Not a Generic instrument}), {2.1) fixed rate case} IF( open_oper_id.instr_id.interest_rate_p <> NULL AND open_oper_id.instr_id.float_instr_id = NULL, PRINTF(\"%s%s%s\", \"@\", NUMSTR(open_oper_id.instr_id.interest_rate_p), \"%\"), {2.1.a) float rate case} IF( open_oper_id.instr_id.interest_rate_p = NULL AND open_oper_id.instr_id.float_instr_id <> NULL, {2.1.b) float rate denom} PRINTF(\"%s%s\", \" - \", IF( open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.float_instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, IF( open_oper_id.instr_id.float_instr_id.denom <> NULL, open_oper_id.instr_id.float_instr_id.denom, open_oper_id.instr_id.float_instr_id.name )) ) ) ) ) ) )") 
		
		/* RATE */ 
		RATE_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_de) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* RATE */ 
		RATE_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_en) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* RATE */ 
		RATE_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=RATE_fr) 
			@aaa:TripleA (FormatEltName=RATE, Rank=609, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=310, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Stornierung, en=Reversal, fr=Extourne) 
			@sql:SQLName (value=REVERSAL_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - Reverse: the operation is the reverse of a reversed operation - Reversed: the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 0 {reverse nature is <None>}, NULL, rev_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()] )") 
			@aaa:scpt (value="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - Reverse: the operation is the reverse of a reversed operation - Reversed: the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 0 {reverse nature is <None>}, NULL, rev_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()] )") 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_de) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_en) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_LABEL */ 
		REVERSAL_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=REVERSAL_LABEL_fr) 
			@aaa:TripleA (FormatEltName=REVERSAL_LABEL, Rank=455, ScriptDef) 
			@aaa:scpt (value) 
		
		/* REVERSAL_VALUE */ 
		REVERSAL_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Stornierung, en=Reversal, fr=Extourne) 
			@sql:SQLName (value=REVERSAL_VALUE) 
			@aaa:TripleA (FormatEltName=REVERSAL_VALUE, Rank=454, ScriptDef="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - \"0\": the operation is a single one. It is not reversed and it is also not a reverse. - \"1\": the operation is the reverse of a reversed operation - \"2\": the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} rev_oper_nat_e") 
			@aaa:scpt (value="{This format element indicates if the operation is reversed, if it is the reverse of a reversed one or if it is just a single operation. The available values are: - \"0\": the operation is a single one. It is not reversed and it is also not a reverse. - \"1\": the operation is the reverse of a reversed operation - \"2\": the operation is reversed (cancelled) and another one with opposite signs is create (the reverse operation) } {-------------------------------------------------------------------------------------------------} rev_oper_nat_e") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
		
		/* SERVER_FILTER */ 
		SERVER_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SERVER_FILTER) 
			@aaa:TripleA (FormatEltName=SERVER_FILTER, Rank=36, ScriptDef="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
			@aaa:scpt (value="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=STATUS_DENOM, Rank=449, ScriptDef="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_de) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_en) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_DENOM */ 
		STATUS_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=STATUS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=STATUS_DENOM, Rank=449, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=STATUS_LABEL, Rank=451, ScriptDef="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="status_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_de) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_en) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_LABEL */ 
		STATUS_LABEL_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=STATUS_LABEL_fr) 
			@aaa:TripleA (FormatEltName=STATUS_LABEL, Rank=451, ScriptDef) 
			@aaa:scpt (value) 
		
		/* STATUS_VALUE */ 
		STATUS_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Status, en=Status, fr=Statut) 
			@sql:SQLName (value=STATUS_VALUE) 
			@aaa:TripleA (FormatEltName=STATUS_VALUE, Rank=450, ScriptDef=status_e) 
			@aaa:scpt (value=status_e) 
		
		/* STRIKE_PRICE */ 
		STRIKE_PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Basispreis, en="Strike Price", fr="Prix d\'exercice") 
			@sql:SQLName (value=STRIKE_PRICE) 
			@aaa:TripleA (FormatEltName=STRIKE_PRICE, Rank=612, ScriptDef="IF(open_oper_id.instr_id.nature_e IN (3,6),open_oper_id.instr_id.redemp_quote_n)") 
			@aaa:scpt (value="IF(open_oper_id.instr_id.nature_e IN (3,6),open_oper_id.instr_id.redemp_quote_n)") 
		
		/* STRIKE_PRICE_CURR */ 
		STRIKE_PRICE_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=STRIKE_PRICE_CURR) 
			@aaa:TripleA (FormatEltName=STRIKE_PRICE_CURR, Rank=613, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.exer_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.exer_curr_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.exer_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.exer_curr_id.code )") 
		
		/* SUMMARY_FILTER */ 
		SUMMARY_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SUMMARY_FILTER) 
			@aaa:TripleA (FormatEltName=SUMMARY_FILTER, Rank=34, ScriptDef="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
			@aaa:scpt (value="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
		
		/* THIRD_COMP_RULE */ 
		THIRD_COMP_RULE : AAAEnumerations:DomainAAAThirdCompoE 
			@i18n:Label (de=Portfolio-Kunden-Zuordnung, en="Portfolio Link Nature", fr="Nature du lien avec le portefeuille") 
			@sql:SQLName (value=THIRD_COMP_RULE) 
			@aaa:TripleA (AttrSQLName=third_compo_e, FormatEltName=THIRD_COMP_RULE, Rank=3050, ScriptDef="{ --SQLFORMAT case when domain_client_id = NULL then NULL when client_id = domain_client_id then 1 when THIRD_PARTY_OWNERSHIP_RULE != NULL then 2 end }") 
			@aaa:scpt (value="{ --SQLFORMAT case when domain_client_id = NULL then NULL when client_id = domain_client_id then 1 when THIRD_PARTY_OWNERSHIP_RULE != NULL then 2 end }") 
		
		/* THIRD_PARTY_OWNERSHI */ 
		THIRD_PARTY_OWNERSHIP_RULE : AAAEnumerations:PortfolioThirdCompoOwnershipRuleE 
			@i18n:Label (de="Verfügungsberechtigung", en="Ownership Rule", fr="Règle de propriété") 
			@sql:SQLName (value=THIRD_PARTY_OWNERSHIP_RULE) 
			@aaa:TripleA (AttrSQLName=ownership_rule_e, FormatEltName=THIRD_PARTY_OWNERSHI, Rank=3030, ScriptDef="{ --SQLFORMAT select max(ownership_rule_e) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
			@aaa:scpt (value="{ --SQLFORMAT select max(ownership_rule_e) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
		
		/* THIRD_PARTY_PERCT_OW */ 
		THIRD_PARTY_PERCT_OWNERSHIP : AAABusinessTypes:Number 
			@i18n:Label (de="Prozentsatz des Eigentums", en="Percentage of Ownership", fr="Pourcentage de la propriété") 
			@sql:SQLName (value=THIRD_PARTY_PERCT_OWNERSHIP) 
			@aaa:TripleA (FormatEltName=THIRD_PARTY_PERCT_OW, Rank=3040, ScriptDef="{ --SQLFORMAT select max(weight_n) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
			@aaa:scpt (value="{ --SQLFORMAT select max(weight_n) from portfolio_third_compo_vw p where p.third_id = E.domain_client_id and p.portfolio_id = E.third_party_portfolio_id }") 
		
		/* third_party_portfoli */ 
		third_party_portfolio_id : AAABusinessTypes:Id 
			@sql:SQLName (value=third_party_portfolio_id) 
			@aaa:TripleA (FormatEltName=third_party_portfoli, Rank=3010, ScriptDef=portfolio_id) 
			@aaa:scpt (value=portfolio_id) 
		
		/* TRANSVIEW_FILTER */ 
		TRANSVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=TRANSVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=TRANSVIEW_FILTER, Rank=28, ScriptDef="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
			@aaa:scpt (value="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
		
		/* type_id_code */ 
		type_id_code : AAABusinessTypes:UniCode 
			@sql:SQLName (value=type_id_code) 
			@aaa:TripleA (FormatEltName=type_id_code, Rank=2000, ScriptDef=instr_id.type_id.code) 
			@aaa:scpt (value=instr_id.type_id.code) 
		
		/* UNDERLYING_INSTR_CD */ 
		UNDERLYING_INSTR_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Basispapier, en="Underlying Code", fr="Code du sous-jacent") 
			@sql:SQLName (value=UNDERLYING_INSTR_CODE) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_CD, Rank=453, ScriptDef=open_oper_id.instr_id.code) 
			@aaa:scpt (value=open_oper_id.instr_id.code) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Basispapier, en=Underlying, fr=Sous-jacent) 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef="IF( open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, open_oper_id.instr_id.name )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, open_oper_id.instr_id.name )") 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_de) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_en) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* UNDERLYING_INSTR_DEN */ 
		UNDERLYING_INSTR_DENOM_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=UNDERLYING_INSTR_DENOM_fr) 
			@aaa:TripleA (FormatEltName=UNDERLYING_INSTR_DEN, Rank=452, ScriptDef) 
			@aaa:scpt (value) 
		
		/* VALUE_DATE */ 
		VALUE_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Valutadatum, en="Value Date", fr="Date de valeur") 
			@sql:SQLName (value=VALUE_DATE) 
			@aaa:TripleA (FormatEltName=VALUE_DATE, Rank=441, ScriptDef=value_d) 
			@aaa:scpt (value=value_d) 
	} 
	/* PCK_RMT_JOURNAL */ 
	PCK_RMT_JOURNAL 
		@aaa:FormatColumnFilter (value=CASHVIEW_FILTER) 
		@aaa:FormatFunction (value=Journal) 
		@sql:SQLName (value=PCK_RMT_JOURNAL) 
		@aaa:TripleA (ColumnFilter=CASHVIEW_FILTER, EntitySQLName=extended_pos, FinFuncName=Journal, FinFuncProcName=journal, FormatName=PCK_RMT_JOURNAL) 
	{ 
		/* ACCOUNT_CODE */ 
		ACCOUNT_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Kontonummer, en="Account Code", fr="Code du compte") 
			@sql:SQLName (value=ACCOUNT_CODE) 
			@aaa:TripleA (FormatEltName=ACCOUNT_CODE, Rank=287, ScriptDef="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4 {Cash Account}, instr_id.code, NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM_de) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM_en) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* ACCOUNT_DENOM */ 
		ACCOUNT_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Konto, en=Account, fr=Compte) 
			@sql:SQLName (value=ACCOUNT_DENOM_fr) 
			@aaa:TripleA (FormatEltName=ACCOUNT_DENOM, Rank=288, ScriptDef="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, {DB DENOM} IF( instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} instr_id.name ) , NULL )") 
		
		/* account_id */ 
		account_id : AAABusinessTypes:Id 
			@sql:SQLName (value=account_id) 
			@aaa:TripleA (FormatEltName=account_id, Rank=16, ScriptDef="IF( instr_id.nature_e = 4, instr_id, NULL)") 
			@aaa:scpt (value="IF( instr_id.nature_e = 4, instr_id, NULL)") 
		
		/* ACCOUNTING_DATE */ 
		ACCOUNTING_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Buchungsdatum, en="Accouting Date", fr="Date de comptabilisation") 
			@sql:SQLName (value=ACCOUNTING_DATE) 
			@aaa:TripleA (FormatEltName=ACCOUNTING_DATE, Rank=442, ScriptDef=account_d) 
			@aaa:scpt (value=account_d) 
		
		/* BALANCE_PER_0 */ 
		BALANCE_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=BALANCE_PER_0) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_0, Rank=120, ScriptDef="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 0 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_1 */ 
		BALANCE_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=BALANCE_PER_1) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_1, Rank=121, ScriptDef="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 1 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_2 */ 
		BALANCE_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine Prochaine") 
			@sql:SQLName (value=BALANCE_PER_2) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_2, Rank=122, ScriptDef="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 2 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_3 */ 
		BALANCE_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=BALANCE_PER_3) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_3, Rank=123, ScriptDef="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 3 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_4 */ 
		BALANCE_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=BALANCE_PER_4) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_4, Rank=124, ScriptDef="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 4 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_5 */ 
		BALANCE_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=BALANCE_PER_5) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_5, Rank=125, ScriptDef="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 5 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_6 */ 
		BALANCE_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=BALANCE_PER_6) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_6, Rank=126, ScriptDef="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 6 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* BALANCE_PER_7 */ 
		BALANCE_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=BALANCE_PER_7) 
			@aaa:TripleA (FormatEltName=BALANCE_PER_7, Rank=127, ScriptDef="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @PERIOD_CLASS_RANK <= 7 AND @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, IF (nature_e = 3, @INIT_BAL_REF_CURR, {else} ref_net_amount_m), {else} pos_net_amount_m ) )") 
		
		/* CASH_FBAL_FILTER */ 
		CASH_FBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_FBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_FBAL_FILTER, Rank=32, ScriptDef="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e IN (2, 3){Flow or Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASH_IBAL_FILTER */ 
		CASH_IBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASH_IBAL_FILTER) 
			@aaa:TripleA (FormatEltName=CASH_IBAL_FILTER, Rank=30, ScriptDef="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
			@aaa:scpt (value="{The operations are extracted if} nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position}") 
		
		/* CASHVIEW_FILTER */ 
		CASHVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=CASHVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=CASHVIEW_FILTER, Rank=26, ScriptDef="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
			@aaa:scpt (value="{This format element is used to extract operations related to cash movements} {-------------------------------------------} {The operations are extracted if} nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded}") 
		
		/* CHILD_PTF_CODE */ 
		CHILD_PTF_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Sub-Portfolio, en="Child Portfolio", fr="Portefeuille enfant") 
			@sql:SQLName (value=CHILD_PTF_CODE) 
			@aaa:TripleA (FormatEltName=CHILD_PTF_CODE, Rank=265, ScriptDef="{IF(child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code)} IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
			@aaa:scpt (value="{IF(child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code)} IF( child_ptf_id <> NULL, child_ptf_id.code, NULL )") 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=4, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.third_id, portfolio_id.third_id )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM_de) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM_en) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_DENOM */ 
		CURR_CLASS_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Bezeichnung der Währungsklassifikation", en="Currency Classification Denomination", fr="Dénomination de la classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_DENOM_fr) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_DENOM, Rank=56, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity and its associated lists are used for the computation. } {--------------------------------------------------} IF( pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].list_id.name )") 
		
		/* CURR_CLASS_RANK */ 
		CURR_CLASS_RANK : AAABusinessTypes:Int 
			@i18n:Label (de="Währungsklassifikation", en="Currency Classification", fr="Classification de la devise") 
			@sql:SQLName (value=CURR_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=CURR_CLASS_RANK, Rank=54, ScriptDef="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n", SortingRank=3) 
			@aaa:scpt (value="{This format element is used to classify the operations based on the currency of their related position. The classification PCK_DS_CURRENCY (defined in the packaging parameter DS_CLASSIF_CURRENCY) on Currency entity is used for the computation. } {--------------------------------------------------} pos_currency_id.CLASSIFY[GET_APPL_PARAM(\"DS_CLASSIF_CURRENCY\")].rank_n") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=1, ScriptDef="{portfolio_id.data_secu_prof_id} {IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id )} IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
			@aaa:scpt (value="{portfolio_id.data_secu_prof_id} {IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id )} IF(DOMAIN().port_cons_rule_e IN (1,6), IF(DOMAIN().dim_port_dict_id=800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).data_secu_prof_id, {else} IF(DOMAIN().dim_port_dict_id=400, GET_OBJECT(\"list\",DOMAIN().port_object_id).data_secu_prof_id, {else} portfolio_id.data_secu_prof_id))), {else} IF( child_ptf_id <> NULL, child_ptf_id.data_secu_prof_id, portfolio_id.data_secu_prof_id ))") 
		
		/* DEBIT_CREDIT */ 
		DEBIT_CREDIT : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/crédit") 
			@sql:SQLName (value=DEBIT_CREDIT) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT, Rank=61, ScriptDef="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, quantity_n )") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=130, ScriptDef="IF(nature_e=2,@BALANCE_PER_0)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_0)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=131, ScriptDef="IF(nature_e=2,@BALANCE_PER_1)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_1)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=132, ScriptDef="IF(nature_e=2,@BALANCE_PER_2)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_2)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=133, ScriptDef="IF(nature_e=2,@BALANCE_PER_3)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_3)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=134, ScriptDef="IF(nature_e=2,@BALANCE_PER_4)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_4)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=135, ScriptDef="IF(nature_e=2,@BALANCE_PER_5)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_5)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=136, ScriptDef="IF(nature_e=2,@BALANCE_PER_6)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_6)") 
		
		/* DEBIT_CREDIT_CUM_PER */ 
		DEBIT_CREDIT_CUM_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_CUM_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CUM_PER, Rank=137, ScriptDef="IF(nature_e=2,@BALANCE_PER_7)") 
			@aaa:scpt (value="IF(nature_e=2,@BALANCE_PER_7)") 
		
		/* DEBIT_CREDIT_CURR */ 
		DEBIT_CREDIT_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=DEBIT_CREDIT_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_CURR, Rank=432, ScriptDef="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* DEBIT_CREDIT_FILTER */ 
		DEBIT_CREDIT_FILTER : AAABusinessTypes:Int 
			@sql:SQLName (value=DEBIT_CREDIT_FILTER) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_FILTER, Rank=38, ScriptDef="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
			@aaa:scpt (value="{This format element is used to extract operations related to debit and credit.} {-----------------------------------------------------------} {The operations are extracted if} IF( IF( @TRANSVIEW_FILTER = 1, -1 * pos_net_amount_m, pos_net_amount_m ) < 0, 0 {it is a debit}, 1 {it is a credit} )") 
		
		/* DEBIT_CREDIT_PER_0 */ 
		DEBIT_CREDIT_PER_0 : AAABusinessTypes:Amount 
			@i18n:Label (de=Heute, en=Today, fr="Aujourd\'hui") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_0) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_0, Rank=80, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 0, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_1 */ 
		DEBIT_CREDIT_PER_1 : AAABusinessTypes:Amount 
			@i18n:Label (de=Morgen/Spot, en=Tom/Spot, fr=Demain/Spot) 
			@sql:SQLName (value=DEBIT_CREDIT_PER_1) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_1, Rank=81, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 1, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_2 */ 
		DEBIT_CREDIT_PER_2 : AAABusinessTypes:Amount 
			@i18n:Label (de="Nächste Woche", en="Next Week", fr="Semaine prochaine") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_2) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_2, Rank=82, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 2, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_3 */ 
		DEBIT_CREDIT_PER_3 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Monat", en="1 Month", fr="1 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_3) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_3, Rank=83, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 3, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_4 */ 
		DEBIT_CREDIT_PER_4 : AAABusinessTypes:Amount 
			@i18n:Label (de="3 Monate", en="3 Months", fr="3 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_4) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_4, Rank=84, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 4, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_5 */ 
		DEBIT_CREDIT_PER_5 : AAABusinessTypes:Amount 
			@i18n:Label (de="6 Monate", en="6 Months", fr="6 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_5) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_5, Rank=85, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 5, IF (@CURR_CLASS_RANK= 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_6 */ 
		DEBIT_CREDIT_PER_6 : AAABusinessTypes:Amount 
			@i18n:Label (de="9 Monate", en="9 Months", fr="9 Mois") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_6) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_6, Rank=86, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 6, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_PER_7 */ 
		DEBIT_CREDIT_PER_7 : AAABusinessTypes:Amount 
			@i18n:Label (de="1 Jahr", en="1 Year", fr="1 An") 
			@sql:SQLName (value=DEBIT_CREDIT_PER_7) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_PER_7, Rank=87, ScriptDef="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1 AND @PERIOD_CLASS_RANK = 7, IF (@CURR_CLASS_RANK = 99, @DEBIT_CREDIT_REF_CURR, {else} @DEBIT_CREDIT ) )") 
		
		/* DEBIT_CREDIT_REF_CUR */ 
		DEBIT_CREDIT_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de=Belastung/Gutschrift, en=Debit/Credit, fr="Débit/Crédit") 
			@sql:SQLName (value=DEBIT_CREDIT_REF_CURR) 
			@aaa:TripleA (FormatEltName=DEBIT_CREDIT_REF_CUR, Rank=60, ScriptDef="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASHVIEW_FILTER = 1, ref_net_amount_m )") 
		
		/* FINAL_BAL_POS_CURR */ 
		FINAL_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Op. Währung)", en="Final Balance (Op. Ccy.)", fr="Solde final (devise de l\'op.)") 
			@sql:SQLName (value=FINAL_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_POS_CURR, Rank=317, ScriptDef="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* FINAL_BAL_REF_CURR */ 
		FINAL_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Endbetrag (Ref. Währung)", en="Final Balance (Ref. Ccy.)", fr="Solde final (devise de réf.)") 
			@sql:SQLName (value=FINAL_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=FINAL_BAL_REF_CURR, Rank=315, ScriptDef="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
			@aaa:scpt (value="IF( @CASH_FBAL_FILTER = 1, ref_net_amount_m )") 
		
		/* first_flow_id */ 
		first_flow_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_flow_id) 
			@aaa:TripleA (FormatEltName=first_flow_id, Rank=24, ScriptDef="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a the first flow per cash account. If no flows exist, then the NULL value is returned. The filter to extract the first identifier is based on the format element CASHVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, nature_e = 2 {Flow operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} , nature_e, @portfolio_account_id )") 
		
		/* first_operation_id */ 
		first_operation_id : AAABusinessTypes:Id 
			@sql:SQLName (value=first_operation_id) 
			@aaa:TripleA (FormatEltName=first_operation_id, Rank=18, ScriptDef="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
			@aaa:scpt (value="{This format element displays the first identifier of a security transaction. If no security transactions exists, then the NULL value is returned. The filter to extract the first identifier is exactly the same as the one used in the format element TRANSVIEW_FILTER.} {------------------------------------------------------} TOT_FIRST( id, (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash}) , nature_e, @portfolio_id )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_de : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD_de) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_en : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD_en) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* HIERARCHY_HEAD */ 
		HIERARCHY_HEAD_fr : AAABusinessTypes:UniCode 
			@i18n:Label (de="Spitze der Hierarchie", en="Hierarchy Head", fr="Tête de la hiérarchie") 
			@sql:SQLName (value=HIERARCHY_HEAD_fr) 
			@aaa:TripleA (FormatEltName=HIERARCHY_HEAD, Rank=260, ScriptDef="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 800, GET_OBJECT(\"portfolio\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 600, GET_OBJECT(\"third_party\",DOMAIN().port_object_id).name, IF( DOMAIN().dim_port_dict_id = 400, IF( GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"list\",DOMAIN().port_object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"list\",DOMAIN().port_object_id).name ) ) ) )") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=5, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INIT_BAL_POS_CURR */ 
		INIT_BAL_POS_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangsbetrag (Op. Währung)", en="Initial Balance (Op. Ccy.)", fr="Solde initial (devise de l\'op.)") 
			@sql:SQLName (value=INIT_BAL_POS_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_POS_CURR, Rank=316, ScriptDef="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
			@aaa:scpt (value="IF( @CASH_IBAL_FILTER = 1, IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, {else} pos_net_amount_m ) )") 
		
		/* INIT_BAL_REF_CURR */ 
		INIT_BAL_REF_CURR : AAABusinessTypes:Amount 
			@i18n:Label (de="Anfangssaldo (Ref. Währung)", en="Initial Balance (Ref. Ccy.)", fr="Solde initial (devise de réf.)") 
			@sql:SQLName (value=INIT_BAL_REF_CURR) 
			@aaa:TripleA (FormatEltName=INIT_BAL_REF_CURR, Rank=119, ScriptDef="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99 {Other Currencies} AND nature_e = 3 {Final Stock operation} AND instr_id.nature_e = 4 {Instrument is a Cash Account} , pos_net_amount_m * EXCH_RATE(instr_id.ref_curr_id,DOMAIN().calc_ref_d,DOMAIN().currency_id,0,0,0,,).exch_rate)") 
		
		/* INSTR_CODE */ 
		INSTR_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Instrument Code", en="Instrument Code", fr="Code de l\'instrument") 
			@sql:SQLName (value=INSTR_CODE) 
			@aaa:TripleA (FormatEltName=INSTR_CODE, Rank=290, ScriptDef=open_oper_id.instr_id.code) 
			@aaa:scpt (value=open_oper_id.instr_id.code) 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_de : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_en : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* INSTR_DENOM */ 
		INSTR_DENOM_fr : AAABusinessTypes:UniNote 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTR_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_DENOM, Rank=500, ScriptDef="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
			@aaa:scpt (value="{DB DENOM} IF(open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom<>NULL, open_oper_id.instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {DB NAME} open_oper_id.instr_id.name)") 
		
		/* instr_id */ 
		instr_id : AAABusinessTypes:Id 
			@sql:SQLName (value=instr_id) 
			@aaa:TripleA (FormatEltName=instr_id, Rank=14, ScriptDef="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
			@aaa:scpt (value="IF( @OPERATION_CLASS_RANK IN (1, 5, 20, 25, 30, 35, 45, 50, 55, 60, 65, 70), open_oper_id.instr_id, instr_id )") 
		
		/* INSTR_PRICE_CURRENCY */ 
		INSTR_PRICE_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_PRICE_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_PRICE_CURRENCY, Rank=312, ScriptDef="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
			@aaa:scpt (value="IF( open_oper_id.instr_id.price_calc_rule_e = 2, \" %\", IF( open_oper_nat_e IN(4, 5, 10, 13), IF( pos_nat_e = 2, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", instr_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, instr_ext_pos_id.pos_currency_id.code ) ), IF( pos_nat_e = 1, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", main_ext_pos_id.pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, main_ext_pos_id.pos_currency_id.code ) ) ) )") 
		
		/* INSTR_REF_CURRENCY */ 
		INSTR_REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=INSTR_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=INSTR_REF_CURRENCY, Rank=601, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", open_oper_id.instr_id.ref_curr_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} open_oper_id.instr_id.ref_curr_id.code )") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* INSTR_TYPE_DENOM */ 
		INSTR_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Instrument-Typ, en="Instrument Type", fr="Type d\'instrument") 
			@sql:SQLName (value=INSTR_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=INSTR_TYPE_DENOM, Rank=600, ScriptDef="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
			@aaa:scpt (value="open_oper_id.instr_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom") 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=3, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.comm_mgr_id, portfolio_id.comm_mgr_id )") 
		
		/* NET_AMOUNT_OP_CURREN */ 
		NET_AMOUNT_OP_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Op. Währung)", en="Net Amount (Op. Ccy.)", fr="Montant net (devise de l\'op.)") 
			@sql:SQLName (value=NET_AMOUNT_OP_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_OP_CURREN, Rank=400, ScriptDef="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in operation currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )), ABS(IF (@CURR_CLASS_RANK = 99, ref_net_amount_m, pos_net_amount_m )) )") 
		
		/* NET_AMOUNT_REF_CURRE */ 
		NET_AMOUNT_REF_CURRENCY : AAABusinessTypes:Amount 
			@i18n:Label (de="Netto Betrag (Ref. Währung)", en="Net Amount (Ref. Ccy.)", fr="Montant net (devise de réf.)") 
			@sql:SQLName (value=NET_AMOUNT_REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=NET_AMOUNT_REF_CURRE, Rank=410, ScriptDef="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
			@aaa:scpt (value="{This format element displays the net amount of an operation in domain currency. Reversals must also be taken into account.} {-------------------------------------------------------------------------------------------------} IF( rev_oper_nat_e = 1 {The operation is the reverse of another one}, -1*ABS(ref_net_amount_m), ABS(ref_net_amount_m) )") 
		
		/* ONE_CURR_OCCUR */ 
		ONE_CURR_OCCUR : AAABusinessTypes:Id 
			@i18n:Label (de="Anz. Währungen", en="One Currency Occurrence", fr="Une occurrence par devise") 
			@sql:SQLName (value=ONE_CURR_OCCUR) 
			@aaa:TripleA (FormatEltName=ONE_CURR_OCCUR, Rank=200, ScriptDef="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
			@aaa:scpt (value="TOT_STAT(ABS(id), 1, @PTF_CURR_BREAK).minimum = ABS(id)") 
		
		/* OPER_SUBTYPE_CODE */ 
		OPER_SUBTYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_CODE, Rank=456, ScriptDef=open_oper_id.subtype_id.code) 
			@aaa:scpt (value=open_oper_id.subtype_id.code) 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPER_SUBTYPE_DENOM */ 
		OPER_SUBTYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Untertyp der Transaktion", en="Operation Sub-Type", fr="Sous-type de l\'opération") 
			@sql:SQLName (value=OPER_SUBTYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPER_SUBTYPE_DENOM, Rank=457, ScriptDef="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
			@aaa:scpt (value="IF( open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.subtype_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, NULL )") 
		
		/* OPERATION_DATE */ 
		OPERATION_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de="Ausführungsdatum", en="Execution Date", fr="Date d\'exécution") 
			@sql:SQLName (value=OPERATION_DATE) 
			@aaa:TripleA (FormatEltName=OPERATION_DATE, Rank=440, ScriptDef=operation_d) 
			@aaa:scpt (value=operation_d) 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_de : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_de) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_en : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_en) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_LAB */ 
		OPERATION_NATURE_LABEL_fr : AAABusinessTypes:UniLongName 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_LABEL_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_LAB, Rank=331, ScriptDef="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
			@aaa:scpt (value="open_oper_nat_e.LABEL[TSL_CURRENT_LANGUAGE()]") 
		
		/* OPERATION_NATURE_VAL */ 
		OPERATION_NATURE_VALUE : AAABusinessTypes:Enum 
			@i18n:Label (de=Transaktions-Art, en="Operation Nature", fr="Nature de l\'opération") 
			@sql:SQLName (value=OPERATION_NATURE_VALUE) 
			@aaa:TripleA (FormatEltName=OPERATION_NATURE_VAL, Rank=330, ScriptDef=open_oper_nat_e) 
			@aaa:scpt (value=open_oper_nat_e) 
		
		/* OPERATION_TYPE_CODE */ 
		OPERATION_TYPE_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type Code", fr="Code du type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_CODE) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_CODE, Rank=300, ScriptDef=open_oper_id.type_id.code) 
			@aaa:scpt (value=open_oper_id.type_id.code) 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* OPERATION_TYPE_DENOM */ 
		OPERATION_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Typ der Transaktion", en="Operation Type", fr="Type d\'opération") 
			@sql:SQLName (value=OPERATION_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=OPERATION_TYPE_DENOM, Rank=301, ScriptDef="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
			@aaa:scpt (value="{This format element displays the type of the opening operation. If it is not defined (NULL), then the user message PCK_DS_OTHER_TRANSL is used to display the word \"Other\"} {----------------------------} IF( @OPERATION_TYPE_CODE = NULL, {Type is not defined} DISP_MSG(\"User Message\",\"PCK_DS_OTHER_TRANSL\", TSL_CURRENT_LANGUAGE(), NULL), {ELSE} IF( open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, open_oper_id.type_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {ELSE} open_oper_id.type_id.name ) )") 
		
		/* PERIOD_CLASS_RANK */ 
		PERIOD_CLASS_RANK : AAABusinessTypes:Int 
			@sql:SQLName (value=PERIOD_CLASS_RANK) 
			@aaa:TripleA (FormatEltName=PERIOD_CLASS_RANK, Rank=49, ScriptDef="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
			@aaa:scpt (value="IF( nature_e = 3 {Final Stock}, 0, IF( nature_e = 2 {Flow}, {Today -> [From date of context] } IF( NOT(value_d > DOMAIN().calc_from_d), 0, {1 Week -> [Today + 1 Business Day; Today + 1 Week [ } IF( ( value_d > DOMAIN().calc_from_d ) AND ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1) ), 1, {1 Month -> [Today + 1 Week; Today + 1 Month [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1) ), 2, {3 Months -> [Today + 1 Month; Today + 3 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,1)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3) ), 3, {6 Months -> [Today + 3 Months; Today + 6 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,3)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6) ), 4, {9 Months -> [Today + 6 Months; Today + 9 Months [ } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,6)) AND ( value_d < DATEADD((DOMAIN().calc_from_d),MONTH,9) ), 5, {1 Year -> [Today + 9 Months; Today + 1 Year ] } IF( NOT ( value_d < DATEADD((DOMAIN().calc_from_d),WEEK,9)) AND NOT ( value_d > DATEADD((DOMAIN().calc_from_d),YEAR,1) ), 6, {ELSE} 99 )))))))))") 
		
		/* portfolio_account_id */ 
		portfolio_account_id : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=portfolio_account_id) 
			@aaa:TripleA (FormatEltName=portfolio_account_id, Rank=22, ScriptDef="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
			@aaa:scpt (value="{STRNUM (} CONCAT ( NUMSTR (@portfolio_id), NUMSTR (@account_id) ) {)}") 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de="Portfolio Code", en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=266, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.code, portfolio_id.code )") 
		
		/* PORTFOLIO_CURRENCY */ 
		PORTFOLIO_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PORTFOLIO_CURRENCY) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CURRENCY, Rank=311, ScriptDef="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", child_ptf_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, child_ptf_id.currency_id.code ), {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", portfolio_id.currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, portfolio_id.currency_id.code ) )") 
		
		/* PORTFOLIO_FULL_NAME */ 
		PORTFOLIO_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_FULL_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_FULL_NAME, Rank=268, ScriptDef="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, IF( child_ptf_id.denom <> NULL, child_ptf_id.denom, child_ptf_id.name ), IF( portfolio_id.denom <> NULL, portfolio_id.denom, portfolio_id.name ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id, portfolio_id )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_de : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_de) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_en : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_en) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* PORTFOLIO_TYPE_DENOM */ 
		PORTFOLIO_TYPE_DENOM_fr : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Portfoliotyp, en="Portfolio Type", fr="Type de portefeuille") 
			@sql:SQLName (value=PORTFOLIO_TYPE_DENOM_fr) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_TYPE_DENOM, Rank=275, ScriptDef="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, child_ptf_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, portfolio_id.type.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom )") 
		
		/* POS_CURRENCY */ 
		POS_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=POS_CURRENCY) 
			@aaa:TripleA (FormatEltName=POS_CURRENCY, Rank=345, ScriptDef="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
			@aaa:scpt (value="IF (@CURR_CLASS_RANK = 99, IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, ref_currency_id.code ), IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) )") 
		
		/* POSITION_NATURE */ 
		POSITION_NATURE : AAABusinessTypes:Enum 
			@i18n:Label (de=Art, en=Nature, fr=Nature) 
			@sql:SQLName (value=POSITION_NATURE) 
			@aaa:TripleA (FormatEltName=POSITION_NATURE, Rank=201, ScriptDef=nature_e) 
			@aaa:scpt (value=nature_e) 
		
		/* PRICE */ 
		PRICE : AAABusinessTypes:Number 
			@i18n:Label (de=Preis, en=Price, fr=Prix) 
			@sql:SQLName (value=PRICE) 
			@aaa:TripleA (FormatEltName=PRICE, Rank=350, ScriptDef="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
			@aaa:scpt (value="{This format element displays the price of the instrument in the operation.} {---------------------------------------------------------} IF( pos_nat_e = 1 {Main Position}, ABS(quote_n), IF( pos_nat_e = 17 {To Instrument Position} AND @CASHVIEW_FILTER = 1, 1, IF( pos_nat_e = 17 {To Instrument Position}, ABS(instr_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond} AND open_oper_id.type_id.code = \"FINALRED\" {Final Redemption}, ABS(main_ext_pos_id.quote_n), IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, ABS(main_ext_pos_id.quote_n) * 100, {ELSE} ABS(main_ext_pos_id.price_n) ) ) ) ) )") 
		
		/* PRICE_DEFINITION_CUR */ 
		PRICE_DEFINITION_CURR : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_CURR) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_CUR, Rank=352, ScriptDef="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
			@aaa:scpt (value="{This format element displays the quotation currency of the instrument used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id = NULL, @POS_CURRENCY, IF( open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, NULL, {Instrument is not a bond, an option bond or a convertible bond} {ELSE} IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", pos_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, pos_currency_id.code ) ) )") 
		
		/* PRICE_DEFINITION_PER */ 
		PRICE_DEFINITION_PERCENT : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=PRICE_DEFINITION_PERCENT) 
			@aaa:TripleA (FormatEltName=PRICE_DEFINITION_PER, Rank=351, ScriptDef="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
			@aaa:scpt (value="{This format element displays the quotation symbol of bonds and equivalent used in the operation.} {--------------------------------------------------------} IF( open_oper_id.instr_id <> NULL AND open_oper_id.instr_id.nature_e IN (2, 18, 19) {Instrument is a bond, an option bond or a convertible bond}, \"%\", NULL )") 
		
		/* PTF_CURR_BREAK */ 
		PTF_CURR_BREAK : AAABusinessTypes:UniInfo 
			@i18n:Label (de="Umbruchkriterium Portfolio / Währung", en="Portfolio/Currency Break Criterion", fr="Critère de séparation portefeuille/devise") 
			@sql:SQLName (value=PTF_CURR_BREAK) 
			@aaa:TripleA (FormatEltName=PTF_CURR_BREAK, Rank=40, ScriptDef="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
			@aaa:scpt (value="IF( child_ptf_id <> NULL, CONCAT(child_ptf_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code), {ELSE} CONCAT(portfolio_id.code, pos_currency_id.SYNONYM[GET_APPL_PARAM(\"CURRENCY_CODIF\")].code) )") 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Währung", en=Ccy., fr=Devise) 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=310, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", ref_currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} ref_currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
		
		/* SERVER_FILTER */ 
		SERVER_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SERVER_FILTER) 
			@aaa:TripleA (FormatEltName=SERVER_FILTER, Rank=36, ScriptDef="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
			@aaa:scpt (value="{This format element is used as a filter for the format to define the data which are going to be transmitted to UDP and available for display in the WUI} {------------------------------------------------------------} (@CASHVIEW_FILTER = 1 OR @TRANSVIEW_FILTER = 1 OR @CASH_FBAL_FILTER = 1 OR @CASH_IBAL_FILTER = 1)") 
		
		/* SUMMARY_FILTER */ 
		SUMMARY_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=SUMMARY_FILTER) 
			@aaa:TripleA (FormatEltName=SUMMARY_FILTER, Rank=34, ScriptDef="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
			@aaa:scpt (value="{This format element is used to extract only 1 row per portfolio and cash account of the portfolio hierarchy. It is necessary to build the cash balance in the WUI} {----------------------------------------------------------} IF( @first_flow_id = id, 1, 0 )") 
		
		/* TRANSVIEW_FILTER */ 
		TRANSVIEW_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=TRANSVIEW_FILTER) 
			@aaa:TripleA (FormatEltName=TRANSVIEW_FILTER, Rank=28, ScriptDef="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
			@aaa:scpt (value="{This format element is used to extract operations related to security transactions} {-------------------------------------------} {The operations are extracted if} {It is a \"real\" transaction ==>} (nature_e = 2 {Flow operation} AND main_f = 1 {Main operation}) OR {It is a cash movement, but related to a fx spot operation ==>} (nature_e = 2 {Flow operation} AND open_oper_id.instr_id.nature_e = 4 {related instrument is a Cash Account} AND bal_pos_type_id = NULL {operation is not a balance position} AND quantity_n <> 0 {Cash movement with a debit/credit equal 0.00 are excluded} AND open_oper_id.instr_id = instr_id {to select only the main operation} AND CLASSIFY( GET_ENTITY(\"extended_pos\"), id, \"PCK_DS_OPER_CLASS\").rank_n = 5 {operations related to buy/sell of cash})") 
		
		/* VALUE_DATE */ 
		VALUE_DATE : AAABusinessTypes:Datetime 
			@i18n:Label (de=Valutadatum, en="Value Date", fr="Date de valeur") 
			@sql:SQLName (value=VALUE_DATE) 
			@aaa:TripleA (FormatEltName=VALUE_DATE, Rank=441, ScriptDef=value_d) 
			@aaa:scpt (value=value_d) 
	} 
} 
