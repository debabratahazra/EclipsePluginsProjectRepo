# UTF-8
Domain AAAFormatsPaAnalysis 
	@java:Package (value=com.odcgroup.aaa.formats) 
namespace "http://www.odcgroup.com/aaa-formats-pa-analysis" 
metamodelVersion 4.3.0.20110527 
Classes { 
	/* PCK_RMT_PERF_ATTRIB */ 
	PCK_RMT_PERF_ATTRIB 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_ATTRIB) 
		@aaa:TripleA (EntitySQLName=perf_attrib, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_ATTRIB) 
	{ 
		/* B1_BENCHMARK_FACTOR */ 
		B1_BENCHMARK_FACTOR : AAABusinessTypes:Number 
			@i18n:Label (de="Überrendite", en="Over Performance", fr="Sur performance") 
			@sql:SQLName (value=B1_BENCHMARK_FACTOR) 
			@aaa:TripleA (FormatEltName=B1_BENCHMARK_FACTOR, Rank=200, ScriptDef=bench1_perf_attrib_id.pa_bench_factor_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_bench_factor_n) 
		
		/* B1_INTERACTION */ 
		B1_INTERACTION : AAABusinessTypes:Number 
			@i18n:Label (de=Wechselwirkungs-Effekt, en="Interaction Effect", fr="Effet de l\'interaction") 
			@sql:SQLName (value=B1_INTERACTION) 
			@aaa:TripleA (FormatEltName=B1_INTERACTION, Rank=230, ScriptDef=bench1_perf_attrib_id.pa_interaction_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_interaction_n) 
		
		/* B1_MARKET_SELECTION */ 
		B1_MARKET_SELECTION : AAABusinessTypes:Number 
			@i18n:Label (de=Marktauswahl-Effekt, en="Market Selection Effect", fr="Effet du choix du marché") 
			@sql:SQLName (value=B1_MARKET_SELECTION) 
			@aaa:TripleA (FormatEltName=B1_MARKET_SELECTION, Rank=210, ScriptDef=bench1_perf_attrib_id.pa_market_selection_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_market_selection_n) 
		
		/* B1_RETURN */ 
		B1_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Benchmark", en="Return Benchmark", fr="Rendement du benchmark") 
			@sql:SQLName (value=B1_RETURN) 
			@aaa:TripleA (FormatEltName=B1_RETURN, Rank=180, ScriptDef=bench1_perf_attrib_id.return_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.return_n) 
		
		/* B1_RETURN_CONTRIBUTI */ 
		B1_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de="Renditebeitrag Benchmark", en="Return Contrib. Benchmark", fr="Contrib. du rend. du benchmark") 
			@sql:SQLName (value=B1_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=B1_RETURN_CONTRIBUTI, Rank=190, ScriptDef=bench1_perf_attrib_id.pa_ret_contrib_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_ret_contrib_n) 
		
		/* B1_STOCK_PICKING */ 
		B1_STOCK_PICKING : AAABusinessTypes:Number 
			@i18n:Label (de=Titelauswahl-Effekt, en="Stock Picking Effect", fr="Effet de la sélection de titre") 
			@sql:SQLName (value=B1_STOCK_PICKING) 
			@aaa:TripleA (FormatEltName=B1_STOCK_PICKING, Rank=220, ScriptDef=bench1_perf_attrib_id.pa_stock_picking_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_stock_picking_n) 
		
		/* B1_WEIGHT */ 
		B1_WEIGHT : AAABusinessTypes:Number 
			@i18n:Label (de="Gewicht Benchmark", en="Weight Benchmark", fr="Pondération du benchmark") 
			@sql:SQLName (value=B1_WEIGHT) 
			@aaa:TripleA (FormatEltName=B1_WEIGHT, Rank=170, ScriptDef=bench1_perf_attrib_id.weight_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.weight_n) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Benchmark, en=Benchmark, fr=Benchmark) 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef="IF( bench1_perf_attrib_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).name ), IF( bench1_perf_attrib_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).name ), GET_OBJECT(\"portfolio\", bench1_perf_attrib_id.object_id).name ) )") 
			@aaa:scpt (value="IF( bench1_perf_attrib_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).name ), IF( bench1_perf_attrib_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).name ), GET_OBJECT(\"portfolio\", bench1_perf_attrib_id.object_id).name ) )") 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_de) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_en) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_fr) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="ID du client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=5, ScriptDef="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
			@aaa:scpt (value="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
		
		/* FINAL_DATE */ 
		FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date finale") 
			@sql:SQLName (value=FINAL_DATE) 
			@aaa:TripleA (FormatEltName=FINAL_DATE, Rank=100, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* FINAL_MARKET_VALUE */ 
		FINAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur d\'inventaire finale") 
			@sql:SQLName (value=FINAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=FINAL_MARKET_VALUE, Rank=130, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 0, IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) )", SortingRank=2) 
			@aaa:scpt (value="IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 0, IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) )") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL", SortingRank=2) 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INITIAL_DATE */ 
		INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de début") 
			@sql:SQLName (value=INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=INITIAL_DATE, Rank=90, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* INITIAL_MARKET_VALUE */ 
		INITIAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur d\'inventaire initiale") 
			@sql:SQLName (value=INITIAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=INITIAL_MARKET_VALUE, Rank=120, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* INSTRUMENT */ 
		INSTRUMENT : AAABusinessTypes:UniLongName 
			@i18n:Label (de="Periode / Marktsegment", en="Period / Market Segment", fr="Période / Segment de marché") 
			@sql:SQLName (value=INSTRUMENT) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTRUMENT, Rank=280, ScriptDef="IF(instr_id <> NULL, IF(instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} instr_id.name ), instr_id )") 
			@aaa:scpt (value="IF(instr_id <> NULL, IF(instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} instr_id.name ), instr_id )") 
		
		/* INSTRUMENT */ 
		INSTRUMENT_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=INSTRUMENT_de) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=280, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTRUMENT */ 
		INSTRUMENT_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=INSTRUMENT_en) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=280, ScriptDef) 
			@aaa:scpt (value) 
		
		/* INSTRUMENT */ 
		INSTRUMENT_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=INSTRUMENT_fr) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=280, ScriptDef) 
			@aaa:scpt (value) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du gestionnaire") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT : AAABusinessTypes:UniLongName 
			@i18n:Label (de="Periode / Marktsegment", en="Period / Market Segment", fr="Période / Segment de marché") 
			@sql:SQLName (value=MARKET_SEGMENT) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=MARKET_SEGMENT, Rank=270, ScriptDef="IF(market_segment_id <> NULL, IF(market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} market_segment_id.name ), market_segment_id )") 
			@aaa:scpt (value="IF(market_segment_id <> NULL, IF(market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} market_segment_id.name ), market_segment_id )") 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_de : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=MARKET_SEGMENT_de) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=270, ScriptDef) 
			@aaa:scpt (value) 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_en : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=MARKET_SEGMENT_en) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=270, ScriptDef) 
			@aaa:scpt (value) 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_fr : AAABusinessTypes:UniLongName 
			@sql:SQLName (value=MARKET_SEGMENT_fr) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=270, ScriptDef) 
			@aaa:scpt (value) 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Period, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=110, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_FILTER */ 
		PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=PERIOD_FILTER, Rank=14, ScriptDef="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 1, @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR NUMMASK(record_info_mask, PAA_LAST_LEAF) ) )") 
			@aaa:scpt (value="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 1, @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR NUMMASK(record_info_mask, PAA_LAST_LEAF) ) )") 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=40, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=50, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* PTF_RETURN */ 
		PTF_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Portfolio", en="Return Portfolio", fr="Rendement du portefeuille") 
			@sql:SQLName (value=PTF_RETURN) 
			@aaa:TripleA (FormatEltName=PTF_RETURN, Rank=150, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PTF_RETURN_CONTRIBUT */ 
		PTF_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de="Renditebeitrag Portfolio", en="Return Contrib. Portfolio", fr="Contrib. du rend. du portefeuille") 
			@sql:SQLName (value=PTF_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=PTF_RETURN_CONTRIBUT, Rank=160, ScriptDef=pa_ret_contrib_n) 
			@aaa:scpt (value=pa_ret_contrib_n) 
		
		/* PTF_WEIGHT */ 
		PTF_WEIGHT : AAABusinessTypes:Number 
			@i18n:Label (de="Gewicht Portfolio", en="Weight Portfolio", fr="Pondération du portefeuille") 
			@sql:SQLName (value=PTF_WEIGHT) 
			@aaa:TripleA (FormatEltName=PTF_WEIGHT, Rank=140, ScriptDef=weight_n) 
			@aaa:scpt (value=weight_n) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg", en="Ref. Ccy", fr="Dvs Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=260, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef=0) 
			@aaa:scpt (value=0) 
	} 
	/* PCK_RMT_PERF_ATT_SUM */ 
	PCK_RMT_PERF_ATT_SUM 
		@aaa:FormatColumnFilter (value=GLOBAL_FILTER) 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_ATT_SUM) 
		@aaa:TripleA (ColumnFilter=GLOBAL_FILTER, EntitySQLName=perf_attrib, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_ATT_SUM) 
	{ 
		/* B1_BENCHMARK_FACTOR */ 
		B1_BENCHMARK_FACTOR : AAABusinessTypes:Number 
			@i18n:Label (de="Überrendite", en="Over Performance", fr="Sur performance") 
			@sql:SQLName (value=B1_BENCHMARK_FACTOR) 
			@aaa:TripleA (FormatEltName=B1_BENCHMARK_FACTOR, Rank=200, ScriptDef=bench1_perf_attrib_id.pa_bench_factor_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_bench_factor_n) 
		
		/* B1_INTERACTION */ 
		B1_INTERACTION : AAABusinessTypes:Number 
			@i18n:Label (de=Wechselwirkungs-Effekt, en="Interaction Effect", fr="Effet de l\'interaction") 
			@sql:SQLName (value=B1_INTERACTION) 
			@aaa:TripleA (FormatEltName=B1_INTERACTION, Rank=230, ScriptDef=bench1_perf_attrib_id.pa_interaction_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_interaction_n) 
		
		/* B1_MARKET_SELECTION */ 
		B1_MARKET_SELECTION : AAABusinessTypes:Number 
			@i18n:Label (de=Marktauswahl-Effekt, en="Market Selection Effect", fr="Effet du choix du marché") 
			@sql:SQLName (value=B1_MARKET_SELECTION) 
			@aaa:TripleA (FormatEltName=B1_MARKET_SELECTION, Rank=210, ScriptDef=bench1_perf_attrib_id.pa_market_selection_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_market_selection_n) 
		
		/* B1_RETURN */ 
		B1_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Benchmark", en="Return Benchmark", fr="Rendement du benchmark") 
			@sql:SQLName (value=B1_RETURN) 
			@aaa:TripleA (FormatEltName=B1_RETURN, Rank=180, ScriptDef=bench1_perf_attrib_id.return_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.return_n) 
		
		/* B1_RETURN_CONTRIBUTI */ 
		B1_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de="Renditebeitrag Benchmark", en="Return Contrib. Benchmark", fr="Contrib. du rend. du benchmark") 
			@sql:SQLName (value=B1_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=B1_RETURN_CONTRIBUTI, Rank=190, ScriptDef=bench1_perf_attrib_id.pa_ret_contrib_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_ret_contrib_n) 
		
		/* B1_STOCK_PICKING */ 
		B1_STOCK_PICKING : AAABusinessTypes:Number 
			@i18n:Label (de=Titelauswahl-Effekt, en="Stock Picking Effect", fr="Effet de la sélection de titre") 
			@sql:SQLName (value=B1_STOCK_PICKING) 
			@aaa:TripleA (FormatEltName=B1_STOCK_PICKING, Rank=220, ScriptDef=bench1_perf_attrib_id.pa_stock_picking_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.pa_stock_picking_n) 
		
		/* B1_WEIGHT */ 
		B1_WEIGHT : AAABusinessTypes:Number 
			@i18n:Label (de="Gewicht Benchmark", en="Weight Benchmark", fr="Pondération du benchmark") 
			@sql:SQLName (value=B1_WEIGHT) 
			@aaa:TripleA (FormatEltName=B1_WEIGHT, Rank=170, ScriptDef=bench1_perf_attrib_id.weight_n) 
			@aaa:scpt (value=bench1_perf_attrib_id.weight_n) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Benchmark, en=Benchmark, fr=Benchmark) 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef="IF( bench1_perf_attrib_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).name ), IF( bench1_perf_attrib_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).name ), GET_OBJECT(\"portfolio\", bench1_perf_attrib_id.object_id).name ) )") 
			@aaa:scpt (value="IF( bench1_perf_attrib_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench1_perf_attrib_id.object_id).name ), IF( bench1_perf_attrib_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench1_perf_attrib_id.object_id).name ), GET_OBJECT(\"portfolio\", bench1_perf_attrib_id.object_id).name ) )") 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_de) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_en) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK1_FULL_NAME */ 
		BENCHMARK1_FULL_NAME_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK1_FULL_NAME_fr) 
			@aaa:TripleA (FormatEltName=BENCHMARK1_FULL_NAME, Rank=80, ScriptDef) 
			@aaa:scpt (value) 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="ID du client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=5, ScriptDef="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
			@aaa:scpt (value="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
		
		/* FINAL_DATE */ 
		FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date finale") 
			@sql:SQLName (value=FINAL_DATE) 
			@aaa:TripleA (FormatEltName=FINAL_DATE, Rank=100, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* FINAL_MARKET_VALUE */ 
		FINAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur d\'inventaire finale") 
			@sql:SQLName (value=FINAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=FINAL_MARKET_VALUE, Rank=130, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 0, IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) ) AND @PORTFOLIO_LEVEL_FILTER", SortingRank=2) 
			@aaa:scpt (value="IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 0, IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) ) AND @PORTFOLIO_LEVEL_FILTER") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL", SortingRank=2) 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INITIAL_DATE */ 
		INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de début") 
			@sql:SQLName (value=INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=INITIAL_DATE, Rank=90, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* INITIAL_MARKET_VALUE */ 
		INITIAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur d\'inventaire initiale") 
			@sql:SQLName (value=INITIAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=INITIAL_MARKET_VALUE, Rank=120, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du gestionnaire") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Period, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=110, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_FILTER */ 
		PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=PERIOD_FILTER, Rank=14, ScriptDef="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 1, @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR NUMMASK(record_info_mask, PAA_LAST_LEAF) ) )") 
			@aaa:scpt (value="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} IF( @PORTFOLIO_LEVEL_FILTER = 1 AND @GLOBAL_PERIOD_FILTER = 1, 1, @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR NUMMASK(record_info_mask, PAA_LAST_LEAF) ) )") 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=40, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=50, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* PTF_RETURN */ 
		PTF_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Portfolio", en="Return Portfolio", fr="Rendement du portefeuille") 
			@sql:SQLName (value=PTF_RETURN) 
			@aaa:TripleA (FormatEltName=PTF_RETURN, Rank=150, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PTF_RETURN_CONTRIBUT */ 
		PTF_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de="Renditebeitrag Portfolio", en="Return Contrib. Portfolio", fr="Contrib. du rend. du portefeuille") 
			@sql:SQLName (value=PTF_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=PTF_RETURN_CONTRIBUT, Rank=160, ScriptDef=pa_ret_contrib_n) 
			@aaa:scpt (value=pa_ret_contrib_n) 
		
		/* PTF_WEIGHT */ 
		PTF_WEIGHT : AAABusinessTypes:Number 
			@i18n:Label (de="Gewicht Portfolio", en="Weight Portfolio", fr="Pondération du portefeuille") 
			@sql:SQLName (value=PTF_WEIGHT) 
			@aaa:TripleA (FormatEltName=PTF_WEIGHT, Rank=140, ScriptDef=weight_n) 
			@aaa:scpt (value=weight_n) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg", en="Ref. Ccy", fr="Dvs Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=260, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef=0) 
			@aaa:scpt (value=0) 
	} 
	/* PCK_RMT_PERF_CONTR */ 
	PCK_RMT_PERF_CONTR 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_CONTR) 
		@aaa:TripleA (EntitySQLName=ext_ret_analysis, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_CONTR) 
	{ 
		/* CAPITAL_PL */ 
		CAPITAL_PL : AAABusinessTypes:Amount 
			@i18n:Label (de=Kapital-G/V, en="Capital P&L", fr="P&P Capital") 
			@sql:SQLName (value=CAPITAL_PL) 
			@aaa:TripleA (FormatEltName=CAPITAL_PL, Rank=150, ScriptDef="cap_pl_1_m + cap_pl_2_m") 
			@aaa:scpt (value="cap_pl_1_m + cap_pl_2_m") 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="Id du client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* CURRENCY_PL */ 
		CURRENCY_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Währungs-G/V", en="Currency P&L", fr="P&P Devise") 
			@sql:SQLName (value=CURRENCY_PL) 
			@aaa:TripleA (FormatEltName=CURRENCY_PL, Rank=160, ScriptDef="curr_pl_1_m + curr_pl_2_m") 
			@aaa:scpt (value="curr_pl_1_m + curr_pl_2_m") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=5, ScriptDef="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
			@aaa:scpt (value="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
		
		/* DIFFERENT_MARKET_VAL */ 
		DIFFERENT_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de="Differenz Marktwert", en="Difference Market Value", fr="Différence Valeur de Marché") 
			@sql:SQLName (value=DIFFERENT_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=DIFFERENT_MARKET_VAL, Rank=120, ScriptDef="final_market_val_m - initial_market_val_m") 
			@aaa:scpt (value="final_market_val_m - initial_market_val_m") 
		
		/* FEES */ 
		FEES : AAABusinessTypes:Amount 
			@i18n:Label (de="Gebühren", en=Fees, fr=Frais) 
			@sql:SQLName (value=FEES) 
			@aaa:TripleA (FormatEltName=FEES, Rank=180, ScriptDef=fees_m) 
			@aaa:scpt (value=fees_m) 
		
		/* FINAL_MARKET_VALUE */ 
		FINAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur de Marché Finale") 
			@sql:SQLName (value=FINAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=FINAL_MARKET_VALUE, Rank=110, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* FLOWS */ 
		FLOWS : AAABusinessTypes:Amount 
			@i18n:Label (de="Flüsse", en=Flows, fr=Flux) 
			@sql:SQLName (value=FLOWS) 
			@aaa:TripleA (FormatEltName=FLOWS, Rank=130, ScriptDef=flows_m) 
			@aaa:scpt (value=flows_m) 
		
		/* GAIN_LOSS */ 
		GAIN_LOSS : AAABusinessTypes:Amount 
			@i18n:Label (de="Gewinn / Verlust", en="Profit & Loss", fr="Profits & Pertes") 
			@sql:SQLName (value=GAIN_LOSS) 
			@aaa:TripleA (FormatEltName=GAIN_LOSS, Rank=140, ScriptDef=profit_loss_m) 
			@aaa:scpt (value=profit_loss_m) 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER )", SortingRank=2) 
			@aaa:scpt (value="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER )") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL", SortingRank=2) 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INCOME */ 
		INCOME : AAABusinessTypes:Amount 
			@i18n:Label (de=Ertrag, en=Income, fr=Revenu) 
			@sql:SQLName (value=INCOME) 
			@aaa:TripleA (FormatEltName=INCOME, Rank=170, ScriptDef="income_1_m + income_2_m") 
			@aaa:scpt (value="income_1_m + income_2_m") 
		
		/* INITIAL_MARKET_VALUE */ 
		INITIAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur de Marché Initiale") 
			@sql:SQLName (value=INITIAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=INITIAL_MARKET_VALUE, Rank=100, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* INSTRUMENT */ 
		INSTRUMENT : AAABusinessTypes:UniString1000 
			@i18n:Label (de=Instrument, en=Instrument, fr=Instrument) 
			@sql:SQLName (value=INSTRUMENT) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=INSTRUMENT, Rank=340, ScriptDef="IF(instr_id <> NULL, IF(instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} instr_id.name ), instr_id )", SortingRank=5) 
			@aaa:scpt (value="IF(instr_id <> NULL, IF(instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} instr_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} instr_id.name ), instr_id )") 
		
		/* INSTRUMENT */ 
		INSTRUMENT_de : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=INSTRUMENT_de) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=340, ScriptDef, SortingRank=5) 
			@aaa:scpt (value) 
		
		/* INSTRUMENT */ 
		INSTRUMENT_en : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=INSTRUMENT_en) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=340, ScriptDef, SortingRank=5) 
			@aaa:scpt (value) 
		
		/* INSTRUMENT */ 
		INSTRUMENT_fr : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=INSTRUMENT_fr) 
			@aaa:TripleA (FormatEltName=INSTRUMENT, Rank=340, ScriptDef, SortingRank=5) 
			@aaa:scpt (value) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du Manager") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT : AAABusinessTypes:UniString1000 
			@i18n:Label (de=Marktsegment, en="Market Segment", fr="Segment de marché") 
			@sql:SQLName (value=MARKET_SEGMENT) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=MARKET_SEGMENT, Rank=330, ScriptDef="IF(market_segment_id <> NULL, IF(market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} market_segment_id.name ), market_segment_id )", SortingRank=4) 
			@aaa:scpt (value="IF(market_segment_id <> NULL, IF(market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, {Denom in Domain Language or Default if Exist} market_segment_id.DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, {No Denom => Name} market_segment_id.name ), market_segment_id )") 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_de : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=MARKET_SEGMENT_de) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=330, ScriptDef, SortingRank=4) 
			@aaa:scpt (value) 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_en : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=MARKET_SEGMENT_en) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=330, ScriptDef, SortingRank=4) 
			@aaa:scpt (value) 
		
		/* MARKET_SEGMENT_FILTE */ 
		MARKET_SEGMENT_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=MARKET_SEGMENT_FILTER) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT_FILTE, Rank=15, ScriptDef="(market_segment_id.abcissa_list_id <> NULL OR (market_segment_id.market_structure_id.parent_market_structure_id = NULL AND market_segment_id.abcissa_list_id = NULL AND market_segment_id.ordinate_list_id = NULL))") 
			@aaa:scpt (value="(market_segment_id.abcissa_list_id <> NULL OR (market_segment_id.market_structure_id.parent_market_structure_id = NULL AND market_segment_id.abcissa_list_id = NULL AND market_segment_id.ordinate_list_id = NULL))") 
		
		/* MARKET_SEGMENT */ 
		MARKET_SEGMENT_fr : AAABusinessTypes:UniString1000 
			@sql:SQLName (value=MARKET_SEGMENT_fr) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT, Rank=330, ScriptDef, SortingRank=4) 
			@aaa:scpt (value) 
		
		/* MEAN_CAP */ 
		MEAN_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. Kapital", en="Mean Capital", fr="Capital Moyen") 
			@sql:SQLName (value=MEAN_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_CAP, Rank=250, ScriptDef=mean_capital_m) 
			@aaa:scpt (value=mean_capital_m) 
		
		/* MEAN_INVEST_CAP */ 
		MEAN_INVEST_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. eing. Kapital", en="Mean Invest Capital", fr="Capital Investi Moyen") 
			@sql:SQLName (value=MEAN_INVEST_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_INVEST_CAP, Rank=260, ScriptDef=mean_invest_cap_m) 
			@aaa:scpt (value=mean_invest_cap_m) 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Periode, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=60, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_FILTER */ 
		PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=PERIOD_FILTER, Rank=14, ScriptDef="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR {instr_id <> NULL OR STAT( {This keyword is used to extract the highest value} SEL_FMTCHILDREN (parent_id, id, id, id,,1) ).maximum = NULL} NUMMASK(record_info_mask, PAA_LAST_LEAF) )") 
			@aaa:scpt (value="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR {instr_id <> NULL OR STAT( {This keyword is used to extract the highest value} SEL_FMTCHILDREN (parent_id, id, id, id,,1) ).maximum = NULL} NUMMASK(record_info_mask, PAA_LAST_LEAF) )") 
		
		/* PERIOD_FINAL_DATE */ 
		PERIOD_FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date de Fin") 
			@sql:SQLName (value=PERIOD_FINAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_DATE, Rank=50, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* PERIOD_INITIAL_DATE */ 
		PERIOD_INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de Début") 
			@sql:SQLName (value=PERIOD_INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_DATE, Rank=40, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=70, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=80, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* PTF_RETURN */ 
		PTF_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de=Rendite, en=Return, fr=Rendement) 
			@sql:SQLName (value=PTF_RETURN) 
			@aaa:TripleA (FormatEltName=PTF_RETURN, Rank=90, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PTF_RETURN_CONTRIBUT */ 
		PTF_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de=Renditebeitrag, en="Return Contribution", fr="Contribution du rendement") 
			@sql:SQLName (value=PTF_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=PTF_RETURN_CONTRIBUT, Rank=270, ScriptDef=return1_n) 
			@aaa:scpt (value=return1_n) 
		
		/* REAL_CAP_PL */ 
		REAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Kapital-G/V", en="Real. Capital P&L", fr="P&P Realisés Capital") 
			@sql:SQLName (value=REAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=REAL_CAP_PL, Rank=210, ScriptDef=cap_pl_1_m) 
			@aaa:scpt (value=cap_pl_1_m) 
		
		/* REAL_CURR_PL */ 
		REAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Währungs-G/V", en="Real. Currency P&L", fr="P&P Réalisés Devise") 
			@sql:SQLName (value=REAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=REAL_CURR_PL, Rank=230, ScriptDef=curr_pl_1_m) 
			@aaa:scpt (value=curr_pl_1_m) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg.", en="Ref. Ccy.", fr="Dvs. Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=280, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
		
		/* TAX_CREDITS */ 
		TAX_CREDITS : AAABusinessTypes:Amount 
			@i18n:Label (de=Steuergutschriften, en="Tax Credits", fr="Crédit d\'impôt") 
			@sql:SQLName (value=TAX_CREDITS) 
			@aaa:TripleA (FormatEltName=TAX_CREDITS, Rank=200, ScriptDef=tax_credit_m) 
			@aaa:scpt (value=tax_credit_m) 
		
		/* TAXES */ 
		TAXES : AAABusinessTypes:Amount 
			@i18n:Label (de=Steuern, en=Taxes, fr=Taxes) 
			@sql:SQLName (value=TAXES) 
			@aaa:TripleA (FormatEltName=TAXES, Rank=190, ScriptDef=taxes_m) 
			@aaa:scpt (value=taxes_m) 
		
		/* UNREAL_CAP_PL */ 
		UNREAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Kapital-G/V", en="Unreal. Capital P&L", fr="P&P Non Réalisés Capital") 
			@sql:SQLName (value=UNREAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=UNREAL_CAP_PL, Rank=220, ScriptDef=cap_pl_2_m) 
			@aaa:scpt (value=cap_pl_2_m) 
		
		/* UNREAL_CURR_PL */ 
		UNREAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Währungs-G/V", en="Unreal. Currency P&L", fr="P&P Non Réalisés Devise") 
			@sql:SQLName (value=UNREAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=UNREAL_CURR_PL, Rank=240, ScriptDef=curr_pl_2_m) 
			@aaa:scpt (value=curr_pl_2_m) 
	} 
	/* PCK_RMT_PERF_CON_SUM */ 
	PCK_RMT_PERF_CON_SUM 
		@aaa:FormatColumnFilter (value=GLOBAL_FILTER) 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_CON_SUM) 
		@aaa:TripleA (ColumnFilter=GLOBAL_FILTER, EntitySQLName=ext_ret_analysis, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_CON_SUM) 
	{ 
		/* CAPITAL_PL */ 
		CAPITAL_PL : AAABusinessTypes:Amount 
			@i18n:Label (de=Kapital-G/V, en="Capital P&L", fr="P&P Capital") 
			@sql:SQLName (value=CAPITAL_PL) 
			@aaa:TripleA (FormatEltName=CAPITAL_PL, Rank=150, ScriptDef="cap_pl_1_m + cap_pl_2_m") 
			@aaa:scpt (value="cap_pl_1_m + cap_pl_2_m") 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="Id du client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* CURRENCY_PL */ 
		CURRENCY_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Währungs-G/V", en="Currency P&L", fr="P&P Devise") 
			@sql:SQLName (value=CURRENCY_PL) 
			@aaa:TripleA (FormatEltName=CURRENCY_PL, Rank=160, ScriptDef="curr_pl_1_m + curr_pl_2_m") 
			@aaa:scpt (value="curr_pl_1_m + curr_pl_2_m") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=5, ScriptDef="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
			@aaa:scpt (value="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
		
		/* DIFFERENT_MARKET_VAL */ 
		DIFFERENT_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de="Differenz Marktwert", en="Difference Market Value", fr="Différence Valeur de Marché") 
			@sql:SQLName (value=DIFFERENT_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=DIFFERENT_MARKET_VAL, Rank=120, ScriptDef="final_market_val_m - initial_market_val_m") 
			@aaa:scpt (value="final_market_val_m - initial_market_val_m") 
		
		/* FEES */ 
		FEES : AAABusinessTypes:Amount 
			@i18n:Label (de="Gebühren", en=Fees, fr=Frais) 
			@sql:SQLName (value=FEES) 
			@aaa:TripleA (FormatEltName=FEES, Rank=180, ScriptDef=fees_m) 
			@aaa:scpt (value=fees_m) 
		
		/* FINAL_MARKET_VALUE */ 
		FINAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur de Marché Finale") 
			@sql:SQLName (value=FINAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=FINAL_MARKET_VALUE, Rank=110, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* FLOWS */ 
		FLOWS : AAABusinessTypes:Amount 
			@i18n:Label (de="Flüsse", en=Flows, fr=Flux) 
			@sql:SQLName (value=FLOWS) 
			@aaa:TripleA (FormatEltName=FLOWS, Rank=130, ScriptDef=flows_m) 
			@aaa:scpt (value=flows_m) 
		
		/* GAIN_LOSS */ 
		GAIN_LOSS : AAABusinessTypes:Amount 
			@i18n:Label (de="Gewinn / Verlust", en="Profit & Loss", fr="Profits & Pertes") 
			@sql:SQLName (value=GAIN_LOSS) 
			@aaa:TripleA (FormatEltName=GAIN_LOSS, Rank=140, ScriptDef=profit_loss_m) 
			@aaa:scpt (value=profit_loss_m) 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) AND @PORTFOLIO_LEVEL_FILTER", SortingRank=2) 
			@aaa:scpt (value="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) AND @PORTFOLIO_LEVEL_FILTER") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL", SortingRank=2) 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* INCOME */ 
		INCOME : AAABusinessTypes:Amount 
			@i18n:Label (de=Ertrag, en=Income, fr=Revenu) 
			@sql:SQLName (value=INCOME) 
			@aaa:TripleA (FormatEltName=INCOME, Rank=170, ScriptDef="income_1_m + income_2_m") 
			@aaa:scpt (value="income_1_m + income_2_m") 
		
		/* INITIAL_MARKET_VALUE */ 
		INITIAL_MARKET_VALUE : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur de Marché Initiale") 
			@sql:SQLName (value=INITIAL_MARKET_VALUE) 
			@aaa:TripleA (FormatEltName=INITIAL_MARKET_VALUE, Rank=100, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du Manager") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* MARKET_SEGMENT_FILTE */ 
		MARKET_SEGMENT_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=MARKET_SEGMENT_FILTER) 
			@aaa:TripleA (FormatEltName=MARKET_SEGMENT_FILTE, Rank=15, ScriptDef="(market_segment_id.abcissa_list_id <> NULL OR (market_segment_id.market_structure_id.parent_market_structure_id = NULL AND market_segment_id.abcissa_list_id = NULL AND market_segment_id.ordinate_list_id = NULL))") 
			@aaa:scpt (value="(market_segment_id.abcissa_list_id <> NULL OR (market_segment_id.market_structure_id.parent_market_structure_id = NULL AND market_segment_id.abcissa_list_id = NULL AND market_segment_id.ordinate_list_id = NULL))") 
		
		/* MEAN_CAP */ 
		MEAN_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. Kapital", en="Mean Capital", fr="Capital Moyen") 
			@sql:SQLName (value=MEAN_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_CAP, Rank=250, ScriptDef=mean_capital_m) 
			@aaa:scpt (value=mean_capital_m) 
		
		/* MEAN_INVEST_CAP */ 
		MEAN_INVEST_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. eing. Kapital", en="Mean Invest Capital", fr="Capital Investi Moyen") 
			@sql:SQLName (value=MEAN_INVEST_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_INVEST_CAP, Rank=260, ScriptDef=mean_invest_cap_m) 
			@aaa:scpt (value=mean_invest_cap_m) 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Periode, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=60, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_FILTER */ 
		PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=PERIOD_FILTER, Rank=14, ScriptDef="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR {instr_id <> NULL OR STAT( {This keyword is used to extract the highest value} SEL_FMTCHILDREN (parent_id, id, id, id,,1) ).maximum = NULL} NUMMASK(record_info_mask, PAA_LAST_LEAF) )") 
			@aaa:scpt (value="{This format element is used to filter only market structure with periods to be able to display in the WUI, the following tree view: Market segment A (GLOBAL) Sub-market segment a (GLOBAL) ................... Sub-...-sub-sub-market segment a.1 (GLOBAL) Sub-...-sub-sub-market segment a.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.1 (PERIOD N) - Period N . . . Sub-...-sub-sub-market segment a.2 (GLOBAL) Sub-...-sub-sub-market segment a.2 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment a.2 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment a.2 (PERIOD N) - Period N Sub-market segment b (GLOBAL) ................... Sub-...-sub-sub-market segment b.1 (GLOBAL) Sub-...-sub-sub-market segment b.1 (PERIOD 1) - Period 1 Sub-...-sub-sub-market segment b.1 (PERIOD 2) - Period 2 . . . Sub-...-sub-sub-market segment b.1 (PERIOD N) - Period N It is used in combination with the format element PERIOD} {----------------------------------------------------------------------------} @PORTFOLIO_LEVEL_FILTER = 0 AND ( @GLOBAL_PERIOD_FILTER = 1 OR {instr_id <> NULL OR STAT( {This keyword is used to extract the highest value} SEL_FMTCHILDREN (parent_id, id, id, id,,1) ).maximum = NULL} NUMMASK(record_info_mask, PAA_LAST_LEAF) )") 
		
		/* PERIOD_FINAL_DATE */ 
		PERIOD_FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date de Fin") 
			@sql:SQLName (value=PERIOD_FINAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_DATE, Rank=50, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* PERIOD_INITIAL_DATE */ 
		PERIOD_INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de Début") 
			@sql:SQLName (value=PERIOD_INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_DATE, Rank=40, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=70, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=80, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* PTF_RETURN */ 
		PTF_RETURN : AAABusinessTypes:Number 
			@i18n:Label (de=Rendite, en=Return, fr=Rendement) 
			@sql:SQLName (value=PTF_RETURN) 
			@aaa:TripleA (FormatEltName=PTF_RETURN, Rank=90, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PTF_RETURN_CONTRIBUT */ 
		PTF_RETURN_CONTRIBUTION : AAABusinessTypes:Number 
			@i18n:Label (de=Renditebeitrag, en="Return Contribution", fr="Contribution du rendement") 
			@sql:SQLName (value=PTF_RETURN_CONTRIBUTION) 
			@aaa:TripleA (FormatEltName=PTF_RETURN_CONTRIBUT, Rank=270, ScriptDef=return1_n) 
			@aaa:scpt (value=return1_n) 
		
		/* REAL_CAP_PL */ 
		REAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Kapital-G/V", en="Real. Capital P&L", fr="P&P Realisés Capital") 
			@sql:SQLName (value=REAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=REAL_CAP_PL, Rank=210, ScriptDef=cap_pl_1_m) 
			@aaa:scpt (value=cap_pl_1_m) 
		
		/* REAL_CURR_PL */ 
		REAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Währungs-G/V", en="Real. Currency P&L", fr="P&P Réalisés Devise") 
			@sql:SQLName (value=REAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=REAL_CURR_PL, Rank=230, ScriptDef=curr_pl_1_m) 
			@aaa:scpt (value=curr_pl_1_m) 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg.", en="Ref. Ccy.", fr="Dvs. Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=280, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
		
		/* TAX_CREDITS */ 
		TAX_CREDITS : AAABusinessTypes:Amount 
			@i18n:Label (de=Steuergutschriften, en="Tax Credits", fr="Crédit d\'impôt") 
			@sql:SQLName (value=TAX_CREDITS) 
			@aaa:TripleA (FormatEltName=TAX_CREDITS, Rank=200, ScriptDef=tax_credit_m) 
			@aaa:scpt (value=tax_credit_m) 
		
		/* TAXES */ 
		TAXES : AAABusinessTypes:Amount 
			@i18n:Label (de=Steuern, en=Taxes, fr=Taxes) 
			@sql:SQLName (value=TAXES) 
			@aaa:TripleA (FormatEltName=TAXES, Rank=190, ScriptDef=taxes_m) 
			@aaa:scpt (value=taxes_m) 
		
		/* UNREAL_CAP_PL */ 
		UNREAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Kapital-G/V", en="Unreal. Capital P&L", fr="P&P Non Réalisés Capital") 
			@sql:SQLName (value=UNREAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=UNREAL_CAP_PL, Rank=220, ScriptDef=cap_pl_2_m) 
			@aaa:scpt (value=cap_pl_2_m) 
		
		/* UNREAL_CURR_PL */ 
		UNREAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Währungs-G/V", en="Unreal. Currency P&L", fr="P&P Non Réalisés Devise") 
			@sql:SQLName (value=UNREAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=UNREAL_CURR_PL, Rank=240, ScriptDef=curr_pl_2_m) 
			@aaa:scpt (value=curr_pl_2_m) 
	} 
	/* PCK_RMT_PERF_GLOBAL */ 
	PCK_RMT_PERF_GLOBAL 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_GLOBAL) 
		@aaa:TripleA (EntitySQLName=ext_ret_analysis, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_GLOBAL) 
	{ 
		/* bench_id */ 
		bench_id : AAABusinessTypes:Id 
			@sql:SQLName (value=bench_id) 
			@aaa:TripleA (FormatEltName=bench_id, Rank=6, ScriptDef=bench_id) 
			@aaa:scpt (value=bench_id) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Benchmark, en=Benchmark, fr=Benchmark) 
			@sql:SQLName (value=BENCHMARK_FULL_NAME) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef="IF( bench_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench_id.object_id).name ), IF( bench_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench_id.object_id).name ), GET_OBJECT(\"portfolio\", bench_id.object_id).name ) )") 
			@aaa:scpt (value="IF( bench_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench_id.object_id).name ), IF( bench_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench_id.object_id).name ), GET_OBJECT(\"portfolio\", bench_id.object_id).name ) )") 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_de) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_en) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_fr) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="Id du Client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* CUMUL_CAP_EFFECT */ 
		CUMUL_CAP_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Kum. Kapitaleffekt", en="Capital Effect Cumul", fr="Effet cumulé du capital") 
			@sql:SQLName (value=CUMUL_CAP_EFFECT) 
			@aaa:TripleA (FormatEltName=CUMUL_CAP_EFFECT, Rank=250, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_effect_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_effect_n") 
		
		/* CUMUL_CAP_PL */ 
		CUMUL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Kapital-GuV", en="Cumulated Capital PL", fr="P & P Capital Cumulé") 
			@sql:SQLName (value=CUMUL_CAP_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_CAP_PL, Rank=360, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_2_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_2_m") 
		
		/* CUMUL_CROSS_EFFECT */ 
		CUMUL_CROSS_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Kum. Wechselwirkungs-Effekt", en="Cross Effect Cumul", fr="Effet croisé cumulé") 
			@sql:SQLName (value=CUMUL_CROSS_EFFECT) 
			@aaa:TripleA (FormatEltName=CUMUL_CROSS_EFFECT, Rank=330, ScriptDef="@CUMUL_TOT_RET - @CUMUL_CAP_EFFECT - @CUMUL_CURR_EFFECT - @CUMUL_INCOME_EFFECT - @CUMUL_F_T_EFFECT") 
			@aaa:scpt (value="@CUMUL_TOT_RET - @CUMUL_CAP_EFFECT - @CUMUL_CURR_EFFECT - @CUMUL_INCOME_EFFECT - @CUMUL_F_T_EFFECT") 
		
		/* CUMUL_CURR_EFFECT */ 
		CUMUL_CURR_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Kum. Währungseffekt", en="Currency Effect Cumul", fr="Effet Devise Cumulé") 
			@sql:SQLName (value=CUMUL_CURR_EFFECT) 
			@aaa:TripleA (FormatEltName=CUMUL_CURR_EFFECT, Rank=270, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_effect_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_effect_n") 
		
		/* CUMUL_CURR_PL */ 
		CUMUL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Währungs-GuV", en="Cumulated Currency PL", fr="Profits & Pertes en Devise Cum") 
			@sql:SQLName (value=CUMUL_CURR_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_CURR_PL, Rank=380, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_2_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_2_m") 
		
		/* CUMUL_F_T_EFFECT */ 
		CUMUL_F_T_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Kum. Geb./Steuern-Effekt", en="Fees & Taxes Effect Cummul", fr="Effet frais & taxes cumulé") 
			@sql:SQLName (value=CUMUL_F_T_EFFECT) 
			@aaa:TripleA (FormatEltName=CUMUL_F_T_EFFECT, Rank=310, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).fees_tax_effect_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).fees_tax_effect_n") 
		
		/* CUMUL_FEE_TAX */ 
		CUMUL_FEE_TAX : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Gebühren/Steuern", en="Cumul Fees & Taxes", fr="Frais & Taxes Cumulés") 
			@sql:SQLName (value=CUMUL_FEE_TAX) 
			@aaa:TripleA (FormatEltName=CUMUL_FEE_TAX, Rank=500, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).fees_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).taxes_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).fees_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).taxes_m") 
		
		/* CUMUL_INCOME */ 
		CUMUL_INCOME : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Ertrag", en="Cumul Income", fr="Revenu Cumulé") 
			@sql:SQLName (value=CUMUL_INCOME) 
			@aaa:TripleA (FormatEltName=CUMUL_INCOME, Rank=480, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_2_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_1_m + CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_2_m") 
		
		/* CUMUL_INCOME_EFFECT */ 
		CUMUL_INCOME_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Kum. Ertragseffekt", en="Income Effect Cumul", fr="Effet Revenu Cumulé") 
			@sql:SQLName (value=CUMUL_INCOME_EFFECT) 
			@aaa:TripleA (FormatEltName=CUMUL_INCOME_EFFECT, Rank=290, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_effect_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).income_effect_n") 
		
		/* CUMUL_OVER_PERF */ 
		CUMUL_OVER_PERF : AAABusinessTypes:Number 
			@i18n:Label (de="Kumul. Überrendite", en="Over Performance Cumul", fr="Sur performance cumulée") 
			@sql:SQLName (value=CUMUL_OVER_PERF) 
			@aaa:TripleA (FormatEltName=CUMUL_OVER_PERF, Rank=240, ScriptDef="IF(bench_id <> NULL,@CUMUL_TOT_RET - @CUMUL_TOT_RET_BENCH)") 
			@aaa:scpt (value="IF(bench_id <> NULL,@CUMUL_TOT_RET - @CUMUL_TOT_RET_BENCH)") 
		
		/* CUMUL_REAL_CAP_PL */ 
		CUMUL_REAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Real. Kapital-GuV", en="Real. Capital P/L Cumul", fr="P&P Real. Capital Cum.") 
			@sql:SQLName (value=CUMUL_REAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_REAL_CAP_PL, Rank=400, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_1_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_1_m") 
		
		/* CUMUL_REAL_CURR_PL */ 
		CUMUL_REAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Real. Währungs-G/V", en="Real. Currency P&L Cumul", fr="P&P Realisés Devise Cum.") 
			@sql:SQLName (value=CUMUL_REAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_REAL_CURR_PL, Rank=440, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_1_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_1_m") 
		
		/* CUMUL_TOT_RET */ 
		CUMUL_TOT_RET : AAABusinessTypes:Number 
			@i18n:Label (de="Kumul. Rendite", en="Cumulated Return", fr="Rendement Cumulé") 
			@sql:SQLName (value=CUMUL_TOT_RET) 
			@aaa:TripleA (FormatEltName=CUMUL_TOT_RET, Rank=200, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).return_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).return_n") 
		
		/* CUMUL_TOT_RET_BENCH */ 
		CUMUL_TOT_RET_BENCH : AAABusinessTypes:Number 
			@i18n:Label (de="Kumul. Rendite Benchmark", en="Benchmark Return Cumul", fr="Rendement cumulé du benchmark") 
			@sql:SQLName (value=CUMUL_TOT_RET_BENCH) 
			@aaa:TripleA (FormatEltName=CUMUL_TOT_RET_BENCH, Rank=220, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d,final_d).bench_id.return_n") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d,final_d).bench_id.return_n") 
		
		/* CUMUL_UNREAL_CAP_PL */ 
		CUMUL_UNREAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Unreal. Kapital-GuV", en="Unreal. Capital P&L Cumul", fr="P&P Non-Real. Capital Cum.") 
			@sql:SQLName (value=CUMUL_UNREAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_UNREAL_CAP_PL, Rank=420, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_2_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).cap_pl_2_m") 
		
		/* CUMUL_UNREAL_CURR_PL */ 
		CUMUL_UNREAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Unreal. Währungs-G/V", en="Unreal. Currency P&L Cumul", fr="P&P Non-Realisés Devise Cum.") 
			@sql:SQLName (value=CUMUL_UNREAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=CUMUL_UNREAL_CURR_PL, Rank=460, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_2_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).curr_pl_2_m") 
		
		/* CUMULATED_GAIN_LOSS */ 
		CUMULATED_GAIN_LOSS : AAABusinessTypes:Amount 
			@i18n:Label (de="Kum. Gewinn & Verlust", en="Profit & Loss Cumul", fr="Profits & pertes Cumulés") 
			@sql:SQLName (value=CUMULATED_GAIN_LOSS) 
			@aaa:TripleA (FormatEltName=CUMULATED_GAIN_LOSS, Rank=150, ScriptDef="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).profit_loss_m") 
			@aaa:scpt (value="CHAIN_PERIOD(DOMAIN().calc_from_d, final_d).profit_loss_m") 
		
		/* data_secu_prof_id */ 
		data_secu_prof_id : AAABusinessTypes:Id 
			@sql:SQLName (value=data_secu_prof_id) 
			@aaa:TripleA (FormatEltName=data_secu_prof_id, Rank=5, ScriptDef="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
			@aaa:scpt (value="{PORTFOLIO LIST} IF( DOMAIN().portfolio_dimension_e = 2 {Portfolio List}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"list\", DOMAIN().portfolio_dim_list_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {MANAGER} IF( DOMAIN().portfolio_dimension_e = 4 {Manager := Administrative Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_admin_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {ADVISOR} IF( DOMAIN().portfolio_dimension_e = 5 {Advisor := Commercial Manager}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"manager\", DOMAIN().portfolio_dim_comm_mgr_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {QUERY} IF( DOMAIN().portfolio_dimension_e = 3 {Query}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), USER().data_secu_prof_id {A query does not have any data security profile. That is why the data security profile of the user is used in that case.}, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {CLIENT} IF( DOMAIN().portfolio_dimension_e = 6 {Client}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}), GET_OBJECT(\"third_party\", DOMAIN().portfolio_dim_third_party_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {PORTFOLIO} IF( DOMAIN().portfolio_dimension_e = 1 {Portfolio}, IF( DOMAIN().port_cons_rule_e IN (1 {Merged}, 6 {Merged TWR}) AND DOMAIN().load_hierarchy_f IN (1 {From Parent}, 2 {Full}), GET_OBJECT(\"portfolio\", DOMAIN().portfolio_dim_portfolio_id).data_secu_prof_id, GET_OBJECT(\"portfolio\",object_id).data_secu_prof_id ), {STRATEGY} IF( DOMAIN().portfolio_dimension_e = 9 {Strategy}, GET_OBJECT(\"strategy\",object_id).data_secu_prof_id, {INSTRUMENT, INSTRUMENT LIST} {As every other dimensions has been checked, the remaining ones are Instrument and Instrument List dimension} GET_OBJECT(\"instrument\", object_id).data_secu_prof_id ) ) ) ) ) ) )") 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER )", SortingRank=2) 
			@aaa:scpt (value="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER )") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL") 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du Manager") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* MEAN_CAP */ 
		MEAN_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. Kapital", en="Mean Capital", fr="Capital Moyen") 
			@sql:SQLName (value=MEAN_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_CAP, Rank=160, ScriptDef=mean_capital_m) 
			@aaa:scpt (value=mean_capital_m) 
		
		/* OVER_UNDER_PERFORMAN */ 
		OVER_UNDER_PERFORMANCE : AAABusinessTypes:Number 
			@i18n:Label (de="Überrendite", en="Over Performance", fr="Sur performance") 
			@sql:SQLName (value=OVER_UNDER_PERFORMANCE) 
			@aaa:TripleA (FormatEltName=OVER_UNDER_PERFORMAN, Rank=230, ScriptDef="IF (bench_id.return_n <> NULL, (return_n - bench_id.return_n), NULL)") 
			@aaa:scpt (value="IF (bench_id.return_n <> NULL, (return_n - bench_id.return_n), NULL)") 
		
		/* PERIOD_CAP_EFFECT */ 
		PERIOD_CAP_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Kapitaleffekt, en="Capital Effect", fr="Effet Capital") 
			@sql:SQLName (value=PERIOD_CAP_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CAP_EFFECT, Rank=260, ScriptDef=cap_effect_n) 
			@aaa:scpt (value=cap_effect_n) 
		
		/* PERIOD_CAP_PL */ 
		PERIOD_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de=Kapital-G/V, en="Capital P&L", fr="P&P Capital") 
			@sql:SQLName (value=PERIOD_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_CAP_PL, Rank=350, ScriptDef="cap_pl_1_m + cap_pl_2_m") 
			@aaa:scpt (value="cap_pl_1_m + cap_pl_2_m") 
		
		/* PERIOD_CROSS_EFFECT */ 
		PERIOD_CROSS_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Wechselwirkungs-Effekt, en="Cross Effect", fr="Effet croisé") 
			@sql:SQLName (value=PERIOD_CROSS_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CROSS_EFFECT, Rank=340, ScriptDef="@PERIOD_RET_TWR - @PERIOD_CAP_EFFECT - @PERIOD_CURR_EFFECT - @PERIOD_INCOME_EFFECT - @PERIOD_F_T_EFFECT") 
			@aaa:scpt (value="@PERIOD_RET_TWR - @PERIOD_CAP_EFFECT - @PERIOD_CURR_EFFECT - @PERIOD_INCOME_EFFECT - @PERIOD_F_T_EFFECT") 
		
		/* PERIOD_CURR_EFFECT */ 
		PERIOD_CURR_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Währungseffekt", en="Currency Effect", fr="Effet Devise") 
			@sql:SQLName (value=PERIOD_CURR_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CURR_EFFECT, Rank=280, ScriptDef=curr_effect_n) 
			@aaa:scpt (value=curr_effect_n) 
		
		/* PERIOD_CURR_PL */ 
		PERIOD_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Wàhrungs-GuV der Periode", en="Period Currency P&L", fr="Profits & Pertes en Devise par Periode") 
			@sql:SQLName (value=PERIOD_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_CURR_PL, Rank=370, ScriptDef="curr_pl_1_m + curr_pl_2_m") 
			@aaa:scpt (value="curr_pl_1_m + curr_pl_2_m") 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Periode, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=40, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_F_T_EFFECT */ 
		PERIOD_F_T_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Geb./Steuern-Effekt, en="Fees & Taxes Effect", fr="Effet des frais & taxes") 
			@sql:SQLName (value=PERIOD_F_T_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_F_T_EFFECT, Rank=320, ScriptDef=fees_tax_effect_n) 
			@aaa:scpt (value=fees_tax_effect_n) 
		
		/* PERIOD_FEE_TAX */ 
		PERIOD_FEE_TAX : AAABusinessTypes:Amount 
			@i18n:Label (de="Gebühren/Steuern", en="Fees & Taxes", fr="Frais & Taxes") 
			@sql:SQLName (value=PERIOD_FEE_TAX) 
			@aaa:TripleA (FormatEltName=PERIOD_FEE_TAX, Rank=490, ScriptDef="fees_m + taxes_m") 
			@aaa:scpt (value="fees_m + taxes_m") 
		
		/* PERIOD_FINAL_DATE */ 
		PERIOD_FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date de Fin") 
			@sql:SQLName (value=PERIOD_FINAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_DATE, Rank=70, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* PERIOD_FINAL_MKT_VAL */ 
		PERIOD_FINAL_MKT_VAL : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur de Marché Finale") 
			@sql:SQLName (value=PERIOD_FINAL_MKT_VAL) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_MKT_VAL, Rank=120, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* PERIOD_GAIN_LOSS */ 
		PERIOD_GAIN_LOSS : AAABusinessTypes:Amount 
			@i18n:Label (de="Gewinn & Verlust", en="Profit & Loss", fr="Profit & pertes") 
			@sql:SQLName (value=PERIOD_GAIN_LOSS) 
			@aaa:TripleA (FormatEltName=PERIOD_GAIN_LOSS, Rank=140, ScriptDef=profit_loss_m) 
			@aaa:scpt (value=profit_loss_m) 
		
		/* PERIOD_INCOME */ 
		PERIOD_INCOME : AAABusinessTypes:Amount 
			@i18n:Label (de=Ertrag, en=Income, fr=Revenue) 
			@sql:SQLName (value=PERIOD_INCOME) 
			@aaa:TripleA (FormatEltName=PERIOD_INCOME, Rank=470, ScriptDef="income_1_m + income_2_m") 
			@aaa:scpt (value="income_1_m + income_2_m") 
		
		/* PERIOD_INCOME_EFFECT */ 
		PERIOD_INCOME_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Ertragseffekt, en="Income Effect", fr="Effet Revenu") 
			@sql:SQLName (value=PERIOD_INCOME_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_INCOME_EFFECT, Rank=300, ScriptDef=income_effect_n) 
			@aaa:scpt (value=income_effect_n) 
		
		/* PERIOD_INITIAL_DATE */ 
		PERIOD_INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de Début") 
			@sql:SQLName (value=PERIOD_INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_DATE, Rank=60, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* PERIOD_INITIAL_MKT_V */ 
		PERIOD_INITIAL_MKT_VAL : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur de Marché Initiale") 
			@sql:SQLName (value=PERIOD_INITIAL_MKT_VAL) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_MKT_V, Rank=110, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* PERIOD_INVEST_WITHDR */ 
		PERIOD_INVEST_WITHDRAWAL : AAABusinessTypes:Amount 
			@i18n:Label (de="Flüsse", en=Flow, fr=Flux) 
			@sql:SQLName (value=PERIOD_INVEST_WITHDRAWAL) 
			@aaa:TripleA (FormatEltName=PERIOD_INVEST_WITHDR, Rank=130, ScriptDef="invest_m + withdrawal_m") 
			@aaa:scpt (value="invest_m + withdrawal_m") 
		
		/* PERIOD_REAL_CAP_PL */ 
		PERIOD_REAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Kapital-GuV", en="Real. Capital P/L", fr="P&P Realisés Capital") 
			@sql:SQLName (value=PERIOD_REAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_REAL_CAP_PL, Rank=390, ScriptDef=cap_pl_1_m) 
			@aaa:scpt (value=cap_pl_1_m) 
		
		/* PERIOD_REAL_CURR_PL */ 
		PERIOD_REAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Währungs-G/V", en="Real. Currency P&L", fr="P&P Réalisés Devise") 
			@sql:SQLName (value=PERIOD_REAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_REAL_CURR_PL, Rank=430, ScriptDef=curr_pl_1_m) 
			@aaa:scpt (value=curr_pl_1_m) 
		
		/* PERIOD_RET_MWR */ 
		PERIOD_RET_MWR : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite (MWR)", en="Return (MWR)", fr="Rendement (MWR)") 
			@sql:SQLName (value=PERIOD_RET_MWR) 
			@aaa:TripleA (FormatEltName=PERIOD_RET_MWR, Rank=170, ScriptDef=return2_n) 
			@aaa:scpt (value=return2_n) 
		
		/* PERIOD_RET_TWR */ 
		PERIOD_RET_TWR : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite (TWR)", en="Return (TWR)", fr="Rendement (TWR)") 
			@sql:SQLName (value=PERIOD_RET_TWR) 
			@aaa:TripleA (FormatEltName=PERIOD_RET_TWR, Rank=180, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PERIOD_TOT_RET_BENCH */ 
		PERIOD_TOT_RET_BENCH : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Benchmark", en="Benchmark Return", fr="Rendement du benchmark") 
			@sql:SQLName (value=PERIOD_TOT_RET_BENCH) 
			@aaa:TripleA (FormatEltName=PERIOD_TOT_RET_BENCH, Rank=210, ScriptDef=bench_id.return_n) 
			@aaa:scpt (value=bench_id.return_n) 
		
		/* PERIOD_UNREAL_CAP_PL */ 
		PERIOD_UNREAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Kapital-GuV", en="Unreal. Capital P/L", fr="P&P Non Réal. Capital") 
			@sql:SQLName (value=PERIOD_UNREAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_UNREAL_CAP_PL, Rank=410, ScriptDef=cap_pl_2_m) 
			@aaa:scpt (value=cap_pl_2_m) 
		
		/* PERIOD_UNREAL_CURR_P */ 
		PERIOD_UNREAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Währungs-G/V", en="Unreal. Currency P&L", fr="P&P Non Réalisés Devise") 
			@sql:SQLName (value=PERIOD_UNREAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_UNREAL_CURR_P, Rank=450, ScriptDef=curr_pl_2_m) 
			@aaa:scpt (value=curr_pl_2_m) 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=80, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=90, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg.", en="Ref. Ccy.", fr="Dvs. Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=510, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
	} 
	/* PCK_RMT_PERF_GLO_SUM */ 
	PCK_RMT_PERF_GLO_SUM 
		@aaa:FormatColumnFilter (value=GLOBAL_FILTER) 
		@aaa:FormatFunction (value="Performance Analysis") 
		@sql:SQLName (value=PCK_RMT_PERF_GLO_SUM) 
		@aaa:TripleA (ColumnFilter=GLOBAL_FILTER, EntitySQLName=ext_ret_analysis, FinFuncName="Performance Analysis", FinFuncProcName=pa_analysis, FormatName=PCK_RMT_PERF_GLO_SUM) 
	{ 
		/* bench_id */ 
		bench_id : AAABusinessTypes:Id 
			@sql:SQLName (value=bench_id) 
			@aaa:TripleA (FormatEltName=bench_id, Rank=6, ScriptDef=bench_id) 
			@aaa:scpt (value=bench_id) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Benchmark, en=Benchmark, fr=Benchmark) 
			@sql:SQLName (value=BENCHMARK_FULL_NAME) 
			@aaa:TripleA (AttrMultiLanguage=true, FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef="IF( bench_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench_id.object_id).name ), IF( bench_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench_id.object_id).name ), GET_OBJECT(\"portfolio\", bench_id.object_id).name ) )") 
			@aaa:scpt (value="IF( bench_id.entity_dict_id = 500, {Benchmark is a strategy} IF( GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"strategy\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"strategy\", bench_id.object_id).name ), IF( bench_id.entity_dict_id = 900, {Benchmark is an instrument} IF( GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom <> NULL, GET_OBJECT(\"instrument\", bench_id.object_id).DENOMINATION[TSL_CURRENT_LANGUAGE()].denom, GET_OBJECT(\"instrument\", bench_id.object_id).name ), GET_OBJECT(\"portfolio\", bench_id.object_id).name ) )") 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_de : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_de) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_en : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_en) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* BENCHMARK_FULL_NAME */ 
		BENCHMARK_FULL_NAME_fr : AAABusinessTypes:UniInfo 
			@sql:SQLName (value=BENCHMARK_FULL_NAME_fr) 
			@aaa:TripleA (FormatEltName=BENCHMARK_FULL_NAME, Rank=100, ScriptDef) 
			@aaa:scpt (value) 
		
		/* client_id */ 
		client_id : AAABusinessTypes:Id 
			@i18n:Label (de=Kunde, en="Client Id", fr="Id du Client") 
			@sql:SQLName (value=client_id) 
			@aaa:TripleA (FormatEltName=client_id, Rank=3, ScriptDef="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
			@aaa:scpt (value="IF( DOMAIN().dim_port_dict_id = 600, DOMAIN().port_object_id, IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).third_id, GET_OBJECT(\"portfolio\", object_id).third_id ) ) )") 
		
		/* GLOBAL_FILTER */ 
		GLOBAL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_FILTER, Rank=13, ScriptDef="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) AND @PORTFOLIO_LEVEL_FILTER", SortingRank=2) 
			@aaa:scpt (value="IF( frequency_e <> 1, IF( DATEDIFF(initial_d, final_d, MONTH) <= 1, 0, 1 ), @GLOBAL_PERIOD_FILTER ) AND @PORTFOLIO_LEVEL_FILTER") 
		
		/* GLOBAL_PERIOD_FILTER */ 
		GLOBAL_PERIOD_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=GLOBAL_PERIOD_FILTER) 
			@aaa:TripleA (FormatEltName=GLOBAL_PERIOD_FILTER, Rank=11, ScriptDef="frequency_e = NULL") 
			@aaa:scpt (value="frequency_e = NULL") 
		
		/* id */ 
		id : AAABusinessTypes:Id 
			@sql:SQLName (value=id) 
			@aaa:TripleA (FormatEltName=id, Rank=1, ScriptDef=id) 
			@aaa:scpt (value=id) 
		
		/* manager_id */ 
		manager_id : AAABusinessTypes:Id 
			@i18n:Label (de=Manager, en="Manager Id", fr="Id du Manager") 
			@sql:SQLName (value=manager_id) 
			@aaa:TripleA (FormatEltName=manager_id, Rank=4, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).comm_mgr_id, GET_OBJECT(\"portfolio\", object_id).comm_mgr_id ) )") 
		
		/* MEAN_CAP */ 
		MEAN_CAP : AAABusinessTypes:Amount 
			@i18n:Label (de="Durchschn. Kapital", en="Mean Capital", fr="Capital Moyen") 
			@sql:SQLName (value=MEAN_CAP) 
			@aaa:TripleA (FormatEltName=MEAN_CAP, Rank=160, ScriptDef=mean_capital_m) 
			@aaa:scpt (value=mean_capital_m) 
		
		/* OVER_UNDER_PERFORMAN */ 
		OVER_UNDER_PERFORMANCE : AAABusinessTypes:Number 
			@i18n:Label (de="Überrendite", en="Over Performance", fr="Sur performance") 
			@sql:SQLName (value=OVER_UNDER_PERFORMANCE) 
			@aaa:TripleA (FormatEltName=OVER_UNDER_PERFORMAN, Rank=230, ScriptDef="IF (bench_id.return_n <> NULL, (return_n - bench_id.return_n), NULL)") 
			@aaa:scpt (value="IF (bench_id.return_n <> NULL, (return_n - bench_id.return_n), NULL)") 
		
		/* PERIOD_CAP_EFFECT */ 
		PERIOD_CAP_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Kapitaleffekt, en="Capital Effect", fr="Effet Capital") 
			@sql:SQLName (value=PERIOD_CAP_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CAP_EFFECT, Rank=260, ScriptDef=cap_effect_n) 
			@aaa:scpt (value=cap_effect_n) 
		
		/* PERIOD_CAP_PL */ 
		PERIOD_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de=Kapital-G/V, en="Capital P&L", fr="P&P Capital") 
			@sql:SQLName (value=PERIOD_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_CAP_PL, Rank=350, ScriptDef="cap_pl_1_m + cap_pl_2_m") 
			@aaa:scpt (value="cap_pl_1_m + cap_pl_2_m") 
		
		/* PERIOD_CROSS_EFFECT */ 
		PERIOD_CROSS_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Wechselwirkungs-Effekt, en="Cross Effect", fr="Effet croisé") 
			@sql:SQLName (value=PERIOD_CROSS_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CROSS_EFFECT, Rank=340, ScriptDef="@PERIOD_RET_TWR - @PERIOD_CAP_EFFECT - @PERIOD_CURR_EFFECT - @PERIOD_INCOME_EFFECT - @PERIOD_F_T_EFFECT") 
			@aaa:scpt (value="@PERIOD_RET_TWR - @PERIOD_CAP_EFFECT - @PERIOD_CURR_EFFECT - @PERIOD_INCOME_EFFECT - @PERIOD_F_T_EFFECT") 
		
		/* PERIOD_CURR_EFFECT */ 
		PERIOD_CURR_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de="Währungseffekt", en="Currency Effect", fr="Effet Devise") 
			@sql:SQLName (value=PERIOD_CURR_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_CURR_EFFECT, Rank=280, ScriptDef=curr_effect_n) 
			@aaa:scpt (value=curr_effect_n) 
		
		/* PERIOD_CURR_PL */ 
		PERIOD_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Wàhrungs-GuV der Periode", en="Period Currency P&L", fr="Profits & Pertes en Devise par Periode") 
			@sql:SQLName (value=PERIOD_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_CURR_PL, Rank=370, ScriptDef="curr_pl_1_m + curr_pl_2_m") 
			@aaa:scpt (value="curr_pl_1_m + curr_pl_2_m") 
		
		/* PERIOD_DISPLAY */ 
		PERIOD_DISPLAY : AAABusinessTypes:UniInfo 
			@i18n:Label (de=Periode, en=Period, fr="Période") 
			@sql:SQLName (value=PERIOD_DISPLAY) 
			@aaa:TripleA (FormatEltName=PERIOD_DISPLAY, Rank=40, ScriptDef="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
			@aaa:scpt (value="IF(frequency_e<>1,IF(DATEDIFF(initial_d, final_d, MONTH)<=1, {then} PRINTF(\"%s %s\",DATESTR(final_d, \"MON\"),DATESTR(final_d, \"YY\")), {else} PRINTF(\"%s to %s\",PRINTF(\"%s %s\",DATESTR(initial_d,\"MON\"),DATESTR(initial_d,\"YY\")),PRINTF(\"%s %s\",DATESTR(final_d,\"MON\"),DATESTR(final_d,\"YY\")) ) ),PRINTF(\"%s %s %s\",DATESTR(final_d, \"DD\"),DATESTR(final_d, \"MON\") ,DATESTR(final_d,\"YY\")))") 
		
		/* PERIOD_F_T_EFFECT */ 
		PERIOD_F_T_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Geb./Steuern-Effekt, en="Fees & Taxes Effect", fr="Effet des frais & taxes") 
			@sql:SQLName (value=PERIOD_F_T_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_F_T_EFFECT, Rank=320, ScriptDef=fees_tax_effect_n) 
			@aaa:scpt (value=fees_tax_effect_n) 
		
		/* PERIOD_FEE_TAX */ 
		PERIOD_FEE_TAX : AAABusinessTypes:Amount 
			@i18n:Label (de="Gebühren/Steuern", en="Fees & Taxes", fr="Frais & Taxes") 
			@sql:SQLName (value=PERIOD_FEE_TAX) 
			@aaa:TripleA (FormatEltName=PERIOD_FEE_TAX, Rank=490, ScriptDef="fees_m + taxes_m") 
			@aaa:scpt (value="fees_m + taxes_m") 
		
		/* PERIOD_FINAL_DATE */ 
		PERIOD_FINAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Enddatum, en="Final Date", fr="Date de Fin") 
			@sql:SQLName (value=PERIOD_FINAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_DATE, Rank=70, ScriptDef=final_d) 
			@aaa:scpt (value=final_d) 
		
		/* PERIOD_FINAL_MKT_VAL */ 
		PERIOD_FINAL_MKT_VAL : AAABusinessTypes:Amount 
			@i18n:Label (de=End-Marktwert, en="Final Market Value", fr="Valeur de Marché Finale") 
			@sql:SQLName (value=PERIOD_FINAL_MKT_VAL) 
			@aaa:TripleA (FormatEltName=PERIOD_FINAL_MKT_VAL, Rank=120, ScriptDef=final_market_val_m) 
			@aaa:scpt (value=final_market_val_m) 
		
		/* PERIOD_GAIN_LOSS */ 
		PERIOD_GAIN_LOSS : AAABusinessTypes:Amount 
			@i18n:Label (de="Gewinn & Verlust", en="Profit & Loss", fr="Profit & pertes") 
			@sql:SQLName (value=PERIOD_GAIN_LOSS) 
			@aaa:TripleA (FormatEltName=PERIOD_GAIN_LOSS, Rank=140, ScriptDef=profit_loss_m) 
			@aaa:scpt (value=profit_loss_m) 
		
		/* PERIOD_INCOME */ 
		PERIOD_INCOME : AAABusinessTypes:Amount 
			@i18n:Label (de=Ertrag, en=Income, fr=Revenue) 
			@sql:SQLName (value=PERIOD_INCOME) 
			@aaa:TripleA (FormatEltName=PERIOD_INCOME, Rank=470, ScriptDef="income_1_m + income_2_m") 
			@aaa:scpt (value="income_1_m + income_2_m") 
		
		/* PERIOD_INCOME_EFFECT */ 
		PERIOD_INCOME_EFFECT : AAABusinessTypes:Number 
			@i18n:Label (de=Ertragseffekt, en="Income Effect", fr="Effet Revenu") 
			@sql:SQLName (value=PERIOD_INCOME_EFFECT) 
			@aaa:TripleA (FormatEltName=PERIOD_INCOME_EFFECT, Rank=300, ScriptDef=income_effect_n) 
			@aaa:scpt (value=income_effect_n) 
		
		/* PERIOD_INITIAL_DATE */ 
		PERIOD_INITIAL_DATE : AAABusinessTypes:Date 
			@i18n:Label (de=Anfangsdatum, en="Initial Date", fr="Date de Début") 
			@sql:SQLName (value=PERIOD_INITIAL_DATE) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_DATE, Rank=60, ScriptDef=initial_d, SortingRank=3) 
			@aaa:scpt (value=initial_d) 
		
		/* PERIOD_INITIAL_MKT_V */ 
		PERIOD_INITIAL_MKT_VAL : AAABusinessTypes:Amount 
			@i18n:Label (de=Anfangs-Marktwert, en="Initial Market Value", fr="Valeur de Marché Initiale") 
			@sql:SQLName (value=PERIOD_INITIAL_MKT_VAL) 
			@aaa:TripleA (FormatEltName=PERIOD_INITIAL_MKT_V, Rank=110, ScriptDef=initial_market_val_m) 
			@aaa:scpt (value=initial_market_val_m) 
		
		/* PERIOD_INVEST_WITHDR */ 
		PERIOD_INVEST_WITHDRAWAL : AAABusinessTypes:Amount 
			@i18n:Label (de="Flüsse", en=Flow, fr=Flux) 
			@sql:SQLName (value=PERIOD_INVEST_WITHDRAWAL) 
			@aaa:TripleA (FormatEltName=PERIOD_INVEST_WITHDR, Rank=130, ScriptDef="invest_m + withdrawal_m") 
			@aaa:scpt (value="invest_m + withdrawal_m") 
		
		/* PERIOD_REAL_CAP_PL */ 
		PERIOD_REAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Kapital-GuV", en="Real. Capital P/L", fr="P&P Realisés Capital") 
			@sql:SQLName (value=PERIOD_REAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_REAL_CAP_PL, Rank=390, ScriptDef=cap_pl_1_m) 
			@aaa:scpt (value=cap_pl_1_m) 
		
		/* PERIOD_REAL_CURR_PL */ 
		PERIOD_REAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Real. Währungs-G/V", en="Real. Currency P&L", fr="P&P Réalisés Devise") 
			@sql:SQLName (value=PERIOD_REAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_REAL_CURR_PL, Rank=430, ScriptDef=curr_pl_1_m) 
			@aaa:scpt (value=curr_pl_1_m) 
		
		/* PERIOD_RET_MWR */ 
		PERIOD_RET_MWR : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite (MWR)", en="Return (MWR)", fr="Rendement (MWR)") 
			@sql:SQLName (value=PERIOD_RET_MWR) 
			@aaa:TripleA (FormatEltName=PERIOD_RET_MWR, Rank=170, ScriptDef=return2_n) 
			@aaa:scpt (value=return2_n) 
		
		/* PERIOD_RET_TWR */ 
		PERIOD_RET_TWR : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite (TWR)", en="Return (TWR)", fr="Rendement (TWR)") 
			@sql:SQLName (value=PERIOD_RET_TWR) 
			@aaa:TripleA (FormatEltName=PERIOD_RET_TWR, Rank=180, ScriptDef=return_n) 
			@aaa:scpt (value=return_n) 
		
		/* PERIOD_TOT_RET_BENCH */ 
		PERIOD_TOT_RET_BENCH : AAABusinessTypes:Number 
			@i18n:Label (de="Rendite Benchmark", en="Benchmark Return", fr="Rendement du benchmark") 
			@sql:SQLName (value=PERIOD_TOT_RET_BENCH) 
			@aaa:TripleA (FormatEltName=PERIOD_TOT_RET_BENCH, Rank=210, ScriptDef=bench_id.return_n) 
			@aaa:scpt (value=bench_id.return_n) 
		
		/* PERIOD_UNREAL_CAP_PL */ 
		PERIOD_UNREAL_CAP_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Kapital-GuV", en="Unreal. Capital P/L", fr="P&P Non Réal. Capital") 
			@sql:SQLName (value=PERIOD_UNREAL_CAP_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_UNREAL_CAP_PL, Rank=410, ScriptDef=cap_pl_2_m) 
			@aaa:scpt (value=cap_pl_2_m) 
		
		/* PERIOD_UNREAL_CURR_P */ 
		PERIOD_UNREAL_CURR_PL : AAABusinessTypes:Amount 
			@i18n:Label (de="Unreal. Währungs-G/V", en="Unreal. Currency P&L", fr="P&P Non Réalisés Devise") 
			@sql:SQLName (value=PERIOD_UNREAL_CURR_PL) 
			@aaa:TripleA (FormatEltName=PERIOD_UNREAL_CURR_P, Rank=450, ScriptDef=curr_pl_2_m) 
			@aaa:scpt (value=curr_pl_2_m) 
		
		/* PORTFOLIO_CODE */ 
		PORTFOLIO_CODE : AAABusinessTypes:UniCode 
			@i18n:Label (de=Portfolionummer, en="Portfolio Code", fr="Code du portefeuille") 
			@sql:SQLName (value=PORTFOLIO_CODE) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_CODE, Rank=80, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).code, GET_OBJECT(\"portfolio\", object_id).code ) )") 
		
		/* portfolio_id */ 
		portfolio_id : AAABusinessTypes:Id 
			@i18n:Label (de="Portfolio Id", en="Portfolio Id", fr="Portfolio Id") 
			@sql:SQLName (value=portfolio_id) 
			@aaa:TripleA (FormatEltName=portfolio_id, Rank=2, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), DOMAIN().port_object_id, object_id ) )") 
		
		/* PORTFOLIO_LEVEL_FILT */ 
		PORTFOLIO_LEVEL_FILTER : AAABusinessTypes:Flag 
			@sql:SQLName (value=PORTFOLIO_LEVEL_FILTER) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_LEVEL_FILT, Rank=12, ScriptDef="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
			@aaa:scpt (value="IF(instr_id = NULL AND market_segment_id = NULL, 1, 0)") 
		
		/* PORTFOLIO_NAME */ 
		PORTFOLIO_NAME : AAABusinessTypes:UniName 
			@i18n:Label (de=Portfolio, en=Portfolio, fr=Portefeuille) 
			@sql:SQLName (value=PORTFOLIO_NAME) 
			@aaa:TripleA (FormatEltName=PORTFOLIO_NAME, Rank=90, ScriptDef="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )", SortingRank=1) 
			@aaa:scpt (value="IF( entity_dict_id = 800, IF( DOMAIN().port_cons_rule_e IN (1, 6), GET_OBJECT(\"portfolio\", DOMAIN().port_object_id).name, GET_OBJECT(\"portfolio\", object_id).name ) )") 
		
		/* REF_CURRENCY */ 
		REF_CURRENCY : AAABusinessTypes:UniCode 
			@i18n:Label (de="Ref. Whrg.", en="Ref. Ccy.", fr="Dvs. Réf.") 
			@sql:SQLName (value=REF_CURRENCY) 
			@aaa:TripleA (FormatEltName=REF_CURRENCY, Rank=510, ScriptDef="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
			@aaa:scpt (value="IF( GET_APPL_PARAM(\"DS_CURRENCY_CODE\") <> NULL, SYNONYM(\"currency\", currency_id, GET_APPL_PARAM(\"DS_CURRENCY_CODE\"), 1).code, {ELSE} currency_id.code )") 
		
		/* seqno */ 
		seqno : AAABusinessTypes:LongInt PK required 
			@sql:SQLName (value=seqno) 
			@aaa:TripleA (FormatEltName=seqno, Rank=0, ScriptDef) 
			@aaa:scpt (value) 
	} 
} 
